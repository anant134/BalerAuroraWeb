{"ast":null,"code":"import _defineProperty from \"D:/I2T/Smarttech/tourbookingwebgit/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"D:/I2T/Smarttech/tourbookingwebgit/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"D:/I2T/Smarttech/tourbookingwebgit/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"D:\\\\I2T\\\\Smarttech\\\\tourbookingwebgit\\\\src\\\\views\\\\disclaimer\\\\InformationDisclaimerMst.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport { CCard, CCardBody, CCardHeader, CCol, CRow, CButton, CModal, CModalTitle, CModalHeader, CModalBody, CForm, CInputGroupPrepend, CInputGroupText, CInputGroup, CInput, CFormGroup, CInputCheckbox, CLabel, CModalFooter, CBadge } from '@coreui/react';\nimport DataTable from \"react-data-table-component\";\nimport DataTableExtensions from \"react-data-table-component-extensions\";\nimport Select from 'react-select';\nimport CIcon from '@coreui/icons-react';\nimport dataservice from '../service/dataservice';\nimport { toast } from 'react-toastify';\nimport { InputDecimal } from \"../commoncomponents/inputdecimal\";\nimport { Editor } from '@tinymce/tinymce-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar notify = function notify(type, message, systemerror) {\n  switch (type) {\n    case 1:\n      toast.success(message, {\n        position: toast.POSITION.TOP_CENTER\n      });\n      break;\n\n    case 2:\n      var dtlmsg;\n\n      if (systemerror !== undefined) {\n        dtlmsg = /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Please contact to administrator!\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 51\n          }, _this), message]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 14\n        }, _this);\n      } else {\n        dtlmsg = /*#__PURE__*/_jsxDEV(\"div\", {\n          children: message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 16\n        }, _this);\n      }\n\n      toast.error( /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(CIcon, {\n          name: \"cil-warning\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 10\n        }, _this), \" Error\", dtlmsg]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 19\n      }, _this), {\n        position: toast.POSITION.TOP_CENTER\n      });\n      break;\n\n    default:\n      break;\n  }\n};\n\nvar InformationDisclaimerMst = function InformationDisclaimerMst() {\n  _s();\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      editorvalue = _useState2[0],\n      setSeteditorval = _useState2[1];\n\n  var _useState3 = useState({\n    value: \"\"\n  }),\n      _useState4 = _slicedToArray(_useState3, 2),\n      edit = _useState4[0],\n      setSetedit = _useState4[1];\n\n  var _useState5 = useState(window.location.host),\n      _useState6 = _slicedToArray(_useState5, 2),\n      redirecturl = _useState6[0],\n      setRedirectUrl = _useState6[1];\n\n  var handleEditorChange = function handleEditorChange(e) {\n    setSetedit(_objectSpread(_objectSpread({}, edit), {}, _defineProperty({}, \"value\", e)));\n    setSeteditorval(_objectSpread(_objectSpread({}, editorvalue), {}, {\n      e: e\n    }));\n  };\n\n  var getpagedata = function getpagedata() {\n    dataservice(\"staticpage\", {\n      requestfor: 'getstaticpages',\n      data: {}\n    }).then(function (data) {\n      if (data.resultkey == 1) {\n        var result = data.resultvalue;\n\n        if (result.length > 0) {\n          var _filter = result.filter(function (x) {\n            return x.id == 1;\n          });\n\n          var pagedata = \"\";\n\n          if (_filter.length > 0) {\n            pagedata = _filter[0].pagedata;\n          }\n\n          setSeteditorval(_objectSpread(_objectSpread({}, editorvalue), {}, {\n            pagedata: pagedata\n          }));\n          setSetedit(_objectSpread(_objectSpread({}, edit), {}, _defineProperty({}, \"value\", pagedata)));\n        } // setSeteditorval({ ...editorvalue, result });\n        // setSetedit({ ...edit, [\"value\"]: result});\n        //setFeesdata({ ...feedata, [\"data\"]: result });\n\n      } else {//  notify(2,\"No data found\");\n      }\n    }).catch(function (edata) {\n      notify(2, edata.toString(), 1);\n    });\n  };\n\n  var savedata = function savedata() {\n    //vaildation\n    if (edit.value == \"\") {\n      notify(2, \"Please enter disclaimer !\");\n    } else {\n      var login = localStorage.getItem(\"userinfo\");\n\n      if (login !== null) {\n        var _loginjson = JSON.parse(login);\n\n        dataservice(\"staticpage\", {\n          requestfor: 'addeditpage',\n          data: {\n            pageid: 1,\n            pagevalue: edit.value.toString().replace(/[']/g, '**'),\n            loginid: _loginjson.id\n          }\n        }).then(function (data) {\n          ;\n\n          if (data.resultkey == 1) {\n            notify(1, \"Data save successfully.\");\n          } else {\n            notify(2, \"Contact to administrator.\");\n          }\n        }).catch(function (error) {});\n      }\n    }\n  }; //  const handleChangeOption = e => {\n  //   setSelectedRoleValue(e.value);\n  // }\n\n\n  useEffect(function () {\n    getpagedata();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(CRow, {\n      children: /*#__PURE__*/_jsxDEV(CCol, {\n        xl: 12,\n        children: /*#__PURE__*/_jsxDEV(CCard, {\n          children: [/*#__PURE__*/_jsxDEV(CCardHeader, {\n            children: [/*#__PURE__*/_jsxDEV(CRow, {\n              children: [/*#__PURE__*/_jsxDEV(CCol, {\n                xl: 6,\n                children: [\"Information Disclaimer\", /*#__PURE__*/_jsxDEV(\"small\", {\n                  className: \"text-muted\",\n                  children: \" Master\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 158,\n                  columnNumber: 17\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 156,\n                columnNumber: 15\n              }, _this), /*#__PURE__*/_jsxDEV(CCol, {\n                xl: 6,\n                style: {\n                  textAlign: \"end\"\n                },\n                children: /*#__PURE__*/_jsxDEV(CButton, {\n                  onClick: function onClick() {\n                    return savedata();\n                  },\n                  className: \"mr-1\",\n                  color: \"primary\",\n                  children: \"Save\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 161,\n                  columnNumber: 19\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 15\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 13\n            }, _this), /*#__PURE__*/_jsxDEV(CRow, {\n              children: /*#__PURE__*/_jsxDEV(CCol, {\n                xl: 6,\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: \"/#/disclaimer\",\n                  target: \"blank\",\n                  children: [redirecturl, \"/#/disclaimer\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 175,\n                  columnNumber: 20\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 174,\n                columnNumber: 15\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 13\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 11\n          }, _this), /*#__PURE__*/_jsxDEV(CCardBody, {\n            children: /*#__PURE__*/_jsxDEV(Editor, {\n              value: edit.value,\n              initialValue: \"\",\n              init: {\n                selector: \"textarea\",\n                //images_upload_url: 'upload.php',\n                // images_upload_handler: function (blobInfo, success, failure) {\n                //   var xhr, formData;\n                //   xhr = new XMLHttpRequest();\n                //   xhr.withCredentials = false;\n                //   xhr.open('POST', 'https://investors.bbsmidwest.com/investorportalphp/upload.php');\n                //   xhr.onload = function() {\n                //     var json;\n                //     if (xhr.status != 200) {\n                //       failure('HTTP Error: ' + xhr.status);\n                //       return;\n                //     }\n                //     json = JSON.parse(xhr.responseText);\n                //     // if (!json || typeof json.location != 'string') {\n                //     //   failure('Invalid JSON: ' + xhr.responseText);\n                //     //   return;\n                //     // }\n                //     var url=\"https://investors.bbsmidwest.com/investorportalphp/uploads/\"+json.resultvalue.newfilename[0];\n                //     success(url);\n                //   };\n                //   formData = new FormData();\n                //   formData.append('files', blobInfo.blob(), blobInfo.filename());\n                //   xhr.send(formData);\n                // },\n                // /* we override default upload handler to simulate successful upload*/\n                // images_upload_handler: function (blobInfo, success, failure) {\n                //   console.log(blobInfo);\n                //   setTimeout(function () {\n                //      \n                //     /* no matter what you upload, we will turn it into TinyMCE logo :)*/\n                //     success('http://moxiecode.cachefly.net/tinymce/v9/images/logo.png');\n                //   }, 2000);\n                // },\n                menubar: false,\n                height: 500,\n                width: '100%',\n                plugins: \"lists,code,link\",\n                toolbar: 'undo redo | styleselect | forecolor | bold italic | alignleft aligncenter alignright alignjustify | outdent indent | numlist bullist |link | code  ' // menubar: true,\n                // image_advtab: true,\n                // plugins: '',\n                // toolbar:\n                //   'undo redo | formatselect | bold italic backcolor | \\\n                //       alignleft aligncenter alignright alignjustify | \\\n                //       bullist numlist outdent indent | removeformat | help'\n\n              },\n              onEditorChange: handleEditorChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 11\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 11\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 9\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 7\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 4\n    }, _this)\n  }, void 0, false);\n};\n\n_s(InformationDisclaimerMst, \"FYl8XcU4JoRiRqE5lJCDrEORu5c=\");\n\n_c = InformationDisclaimerMst;\nexport default InformationDisclaimerMst;\n\nvar _c;\n\n$RefreshReg$(_c, \"InformationDisclaimerMst\");","map":{"version":3,"sources":["D:/I2T/Smarttech/tourbookingwebgit/src/views/disclaimer/InformationDisclaimerMst.js"],"names":["React","useState","useEffect","useHistory","useLocation","CCard","CCardBody","CCardHeader","CCol","CRow","CButton","CModal","CModalTitle","CModalHeader","CModalBody","CForm","CInputGroupPrepend","CInputGroupText","CInputGroup","CInput","CFormGroup","CInputCheckbox","CLabel","CModalFooter","CBadge","DataTable","DataTableExtensions","Select","CIcon","dataservice","toast","InputDecimal","Editor","notify","type","message","systemerror","success","position","POSITION","TOP_CENTER","dtlmsg","undefined","error","InformationDisclaimerMst","editorvalue","setSeteditorval","value","edit","setSetedit","window","location","host","redirecturl","setRedirectUrl","handleEditorChange","e","getpagedata","requestfor","data","then","resultkey","result","resultvalue","length","_filter","filter","x","id","pagedata","catch","edata","toString","savedata","login","localStorage","getItem","_loginjson","JSON","parse","pageid","pagevalue","replace","loginid","textAlign","selector","menubar","height","width","plugins","toolbar"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { useHistory, useLocation } from 'react-router-dom'\r\nimport {\r\n  CCard,\r\n  CCardBody,\r\n  CCardHeader,\r\n  CCol,\r\n  CRow,\r\n  CButton,\r\n  CModal,\r\n  CModalTitle,\r\n  CModalHeader,\r\n  CModalBody,\r\n  CForm,\r\n  CInputGroupPrepend,\r\n  CInputGroupText,\r\n  CInputGroup,\r\n  CInput,\r\n  CFormGroup,\r\n  CInputCheckbox,\r\n  CLabel,\r\n  CModalFooter,\r\n  CBadge\r\n} from '@coreui/react'\r\n\r\nimport DataTable from \"react-data-table-component\";\r\nimport DataTableExtensions from \"react-data-table-component-extensions\";\r\nimport Select from 'react-select';\r\nimport CIcon from '@coreui/icons-react';\r\nimport dataservice from '../service/dataservice';\r\nimport {  toast } from 'react-toastify';\r\nimport { InputDecimal } from \"../commoncomponents/inputdecimal\";\r\n\r\nimport { Editor } from '@tinymce/tinymce-react';\r\n\r\nconst notify=(type,message,systemerror)=>{\r\n  switch (type) {\r\n    case 1:\r\n      toast.success(message, {\r\n        position: toast.POSITION.TOP_CENTER\r\n      });\r\n      break;\r\n    case 2:\r\n      var dtlmsg;\r\n      if(systemerror!==undefined){\r\n      dtlmsg=<div>Please contact to administrator!<br></br>{message}</div>;\r\n      }else{\r\n        dtlmsg=<div>{message}</div>;\r\n      }\r\n\r\n      toast.error(<div>\r\n         <CIcon name=\"cil-warning\" /> Error\r\n      \r\n        {dtlmsg}\r\n        \r\n      </div>, {\r\n          position: toast.POSITION.TOP_CENTER\r\n        });\r\n      break;\r\n  \r\n    default:\r\n      break;\r\n  }\r\n}\r\nconst InformationDisclaimerMst = () => {\r\n    const [editorvalue, setSeteditorval] = useState([]);\r\n    const [edit, setSetedit] = useState({\r\n        value: \"\"\r\n      });\r\n      const [redirecturl,setRedirectUrl]=useState(window.location.host);\r\n  const handleEditorChange = (e) => {\r\n \r\n   \r\n    setSetedit({ ...edit, [\"value\"]: e});\r\n    setSeteditorval({ ...editorvalue, e });\r\n  }\r\n\r\n  const getpagedata=()=>{\r\n    dataservice(\"staticpage\",{ requestfor: 'getstaticpages' ,data:{}})\r\n    .then(function(data) {\r\n      if(data.resultkey==1){\r\n        var result=data.resultvalue;\r\n        if(result.length>0){\r\n            var _filter=result.filter(x=>x.id==1);\r\n            var pagedata=\"\";\r\n            if(_filter.length>0){\r\n                pagedata=_filter[0].pagedata;\r\n            }\r\n            setSeteditorval({ ...editorvalue, pagedata });\r\n            setSetedit({ ...edit, [\"value\"]: pagedata});\r\n        }\r\n         \r\n        // setSeteditorval({ ...editorvalue, result });\r\n        // setSetedit({ ...edit, [\"value\"]: result});\r\n        //setFeesdata({ ...feedata, [\"data\"]: result });\r\n      }else{\r\n      //  notify(2,\"No data found\");\r\n      }\r\n          \r\n      })\r\n      .catch(function(edata){\r\n          notify(2,edata.toString(),1);\r\n      });\r\n  \r\n  } \r\n const savedata = () => {\r\n    //vaildation\r\n    if(edit.value==\"\"){\r\n        notify(2,\"Please enter disclaimer !\");\r\n    }else{\r\n        var login=localStorage.getItem(\"userinfo\");\r\n        if(login!==null){\r\n            var _loginjson=JSON.parse(login);\r\n       \r\n            dataservice(\"staticpage\",{ requestfor: 'addeditpage' ,\r\n            data:{pageid:1,pagevalue:\r\n            edit.value.toString().replace(/[']/g, '**'),loginid:_loginjson.id}})\r\n            .then(function(data) {\r\n            ;\r\n            if(data.resultkey==1){\r\n                \r\n                    notify(1,`Data save successfully.`);\r\n                \r\n            \r\n            \r\n            }else{\r\n                notify(2,`Contact to administrator.`);\r\n            }\r\n            })\r\n            .catch(function(error){\r\n            \r\n            });\r\n        }\r\n    }\r\n    \r\n\r\n }\r\n//  const handleChangeOption = e => {\r\n//   setSelectedRoleValue(e.value);\r\n// }\r\nuseEffect(()=>{\r\n   \r\n    getpagedata();\r\n   \r\n  \r\n},[])\r\n\r\n\r\n  return (\r\n    <>\r\n   <CRow>\r\n      <CCol xl={12}>\r\n        <CCard>\r\n          <CCardHeader>\r\n            <CRow>\r\n              <CCol xl={6}>\r\n              Information Disclaimer\r\n                <small className=\"text-muted\"> Master</small>\r\n              </CCol>\r\n              <CCol xl={6} style={{textAlign:\"end\"}}>\r\n                  <CButton\r\n                    onClick={() => savedata()}\r\n                    className=\"mr-1\"\r\n                    color=\"primary\"\r\n                \r\n                  >\r\n                    Save\r\n                \r\n                  </CButton>\r\n            \r\n                </CCol>\r\n            </CRow>\r\n            <CRow>\r\n              <CCol xl={6}>\r\n                   <a href=\"/#/disclaimer\" target=\"blank\">{redirecturl}/#/disclaimer</a> \r\n              </CCol>\r\n            </CRow> \r\n         \r\n           \r\n         \r\n          </CCardHeader>\r\n          <CCardBody>\r\n          <Editor \r\n                          value={edit.value}\r\n                          initialValue=\"\"\r\n                          init={{\r\n                            selector: \"textarea\",\r\n                            //images_upload_url: 'upload.php',\r\n                            // images_upload_handler: function (blobInfo, success, failure) {\r\n                            //   var xhr, formData;\r\n                          \r\n                            //   xhr = new XMLHttpRequest();\r\n                            //   xhr.withCredentials = false;\r\n                            //   xhr.open('POST', 'https://investors.bbsmidwest.com/investorportalphp/upload.php');\r\n                          \r\n                            //   xhr.onload = function() {\r\n                            //     var json;\r\n                          \r\n                            //     if (xhr.status != 200) {\r\n                            //       failure('HTTP Error: ' + xhr.status);\r\n                            //       return;\r\n                            //     }\r\n                            //     json = JSON.parse(xhr.responseText);\r\n                          \r\n                            //     // if (!json || typeof json.location != 'string') {\r\n                            //     //   failure('Invalid JSON: ' + xhr.responseText);\r\n                            //     //   return;\r\n                            //     // }\r\n                            //     var url=\"https://investors.bbsmidwest.com/investorportalphp/uploads/\"+json.resultvalue.newfilename[0];\r\n                            //     success(url);\r\n                            //   };\r\n                          \r\n                            //   formData = new FormData();\r\n                            //   formData.append('files', blobInfo.blob(), blobInfo.filename());\r\n                          \r\n                            //   xhr.send(formData);\r\n                            // },\r\n                            // /* we override default upload handler to simulate successful upload*/\r\n                            // images_upload_handler: function (blobInfo, success, failure) {\r\n                            //   console.log(blobInfo);\r\n                            //   setTimeout(function () {\r\n                            //      \r\n                            //     /* no matter what you upload, we will turn it into TinyMCE logo :)*/\r\n                            //     success('http://moxiecode.cachefly.net/tinymce/v9/images/logo.png');\r\n                            //   }, 2000);\r\n                            // },\r\n                            menubar: false,\r\n                             height: 500,\r\n                             width: '100%',\r\n                             plugins: \"lists,code,link\",\r\n    toolbar: 'undo redo | styleselect | forecolor | bold italic | alignleft aligncenter alignright alignjustify | outdent indent | numlist bullist |link | code  '\r\n                            // menubar: true,\r\n                            // image_advtab: true,\r\n                            // plugins: '',\r\n                            // toolbar:\r\n                            //   'undo redo | formatselect | bold italic backcolor | \\\r\n                            //       alignleft aligncenter alignright alignjustify | \\\r\n                            //       bullist numlist outdent indent | removeformat | help'\r\n                          }}\r\n                          onEditorChange={handleEditorChange}\r\n                        />\r\n        \r\n          </CCardBody>\r\n        </CCard>\r\n      </CCol>\r\n    </CRow>\r\n      </>\r\n    \r\n  )\r\n}\r\n\r\nexport default InformationDisclaimerMst\r\n"]},"metadata":{},"sourceType":"module"}