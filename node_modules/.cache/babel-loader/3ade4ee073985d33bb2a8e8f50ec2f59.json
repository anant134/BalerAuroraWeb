{"ast":null,"code":"import _defineProperty from\"D:/I2T/Smarttech/tourbookingwebgit/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"D:/I2T/Smarttech/tourbookingwebgit/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"D:/I2T/Smarttech/tourbookingwebgit/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useContext}from'react';import{useHistory,useLocation}from'react-router-dom';import{CCard,CCardBody,CCardHeader,CCol,CRow,CButton,CModal,CModalTitle,CModalHeader,CModalBody,CForm,CInputGroupPrepend,CInputGroupText,CInputGroup,CInput,CFormGroup,CInputCheckbox,CLabel,CModalFooter,CBadge,CContainer,CSelect,CCardFooter}from'@coreui/react';import DataTable from\"react-data-table-component\";import DataTableExtensions from\"react-data-table-component-extensions\";import Select from'react-select';import CIcon from'@coreui/icons-react';import dataservice from'../../service/dataservice';import{toast}from'react-toastify';import{InputDecimal}from\"../../commoncomponents/inputdecimal\";import DatePicker from'react-date-picker';import{discounticon}from'src/assets/icons/discounticon';import moment from'moment';import uuid from'react-uuid';import{userContext}from'src/views/userContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var notify=function notify(type,message,systemerror){switch(type){case 1:toast.success(message,{position:toast.POSITION.TOP_CENTER});break;case 2:var dtlmsg;if(systemerror!==undefined){dtlmsg=/*#__PURE__*/_jsxs(\"div\",{children:[\"Please contact to administrator!\",/*#__PURE__*/_jsx(\"br\",{}),message]});}else{dtlmsg=/*#__PURE__*/_jsx(\"div\",{children:message});}toast.error(/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(CIcon,{name:\"cil-warning\"}),\" Error\",dtlmsg]}),{position:toast.POSITION.TOP_CENTER});break;default:break;}};var GuestInfo=function GuestInfo(){var _useContext=useContext(userContext),gacc=_useContext.gacc,setgacc=_useContext.setgacc;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),localtravelinfodata=_useState2[0],setLocalTravelInfoData=_useState2[1];var _useState3=useState([{Firstname:\"\",Middlename:\"\",Lastname:\"\",DOB:new Date(),Citizenship:\"\",CountryofOrigin:\"\",Province:{},Municipality:{},Gender:\"\",Address:\"\",Mobilenumber:\"\",emailid:\"\",ismaubancitizen:false,filedata:\"\"}]),_useState4=_slicedToArray(_useState3,2),selectedguest=_useState4[0],setSelectedGuest=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),guestactivepostion=_useState6[0],setGuestActivePostion=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),selecteddob=_useState8[0],setSelectedDOB=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),selectedCS=_useState10[0],setSelectedCS=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),citizenship=_useState12[0],setCitizenship=_useState12[1];var _useState13=useState(),_useState14=_slicedToArray(_useState13,2),selectedCOO=_useState14[0],setSelectedCOO=_useState14[1];var _useState15=useState([]),_useState16=_slicedToArray(_useState15,2),country=_useState16[0],setCountry=_useState16[1];var _useState17=useState([]),_useState18=_slicedToArray(_useState17,2),Gender=_useState18[0],setGender=_useState18[1];var _useState19=useState([]),_useState20=_slicedToArray(_useState19,2),Province=_useState20[0],setProvince=_useState20[1];var _useState21=useState([]),_useState22=_slicedToArray(_useState21,2),RawProvince=_useState22[0],setRawProvince=_useState22[1];var _useState23=useState([]),_useState24=_slicedToArray(_useState23,2),Municipality=_useState24[0],setMunicipality=_useState24[1];var _useState25=useState([]),_useState26=_slicedToArray(_useState25,2),RawMunicipality=_useState26[0],setRawMunicipality=_useState26[1];var _useState27=useState([]),_useState28=_slicedToArray(_useState27,2),selectedMunicipality=_useState28[0],setSelectedMunicipality=_useState28[1];var setselectguest=function setselectguest(e){setGuestActivePostion(e);};useEffect(function(){setLocalTravelInfoData(gacc);getCitizenship();getCountry();getGender();getProvince();getMunicipalities();ddd();},[]);useEffect(function(){if(gacc.fees!=undefined){alert('set gcc --guest');setLocalTravelInfoData(gacc);}},[gacc]);useEffect(function(){alert('set local');// if(localtravelinfodata!=undefined){\n//   if(localtravelinfodata.guestinfo!=undefined){\n//     if(localtravelinfodata.guestinfo.length>0){\n//       var guestinfo=localtravelinfodata.guestinfo[guestactivepostion];\n//        \n//       setSelectedGuest(guestinfo);\n//       if(guestinfo.DOB!=undefined){\n//         setSelectedDOB(guestinfo.DOB);\n//        }\n//        if(guestinfo.Citizenship!=\"\"){\n//         setSelectedCS(guestinfo.Citizenship);\n//        }else{\n//         setSelectedCS(\"1\");\n//        }\n//        if(guestinfo.CountryofOrigin!=\"\"){\n//         setSelectedCS(guestinfo.CountryofOrigin);\n//        }else{\n//         setSelectedCS(country[0].value);\n//        }\n//        if(guestinfo.Gender!=\"\"){\n//         setSelectedCS(guestinfo.Gender);\n//        }else{\n//         setSelectedCS(Gender[0].value);\n//        }\n//     }\n//   }\n// }\n},[localtravelinfodata===null||localtravelinfodata===void 0?void 0:localtravelinfodata.guestinfo]);var ddd=function ddd(){setSelectedCS(\"1\");};useEffect(function(){alert(selectedCS);},[selectedCS]);useEffect(function(){if(localtravelinfodata!=undefined){if(localtravelinfodata.guestinfo!=undefined){var guestinfo=localtravelinfodata.guestinfo[guestactivepostion];setSelectedGuest(guestinfo);if(guestinfo.DOB!=undefined){setSelectedDOB(guestinfo.DOB);}if(guestinfo.Citizenship!=\"\"){setSelectedCS(guestinfo.Citizenship);}else{setSelectedCS(citizenship[0].value);}if(guestinfo.CountryofOrigin!=\"\"){setSelectedCS(guestinfo.CountryofOrigin);}else{setSelectedCS(country[0].value);}if(guestinfo.Gender!=\"\"){setSelectedCS(guestinfo.Gender);}else{setSelectedCS(Gender[0].value);}// \n}}},[guestactivepostion]);var handleChange=function handleChange(e){console.log(e);var _e$target=e.target,id=_e$target.id,value=_e$target.value;var guestinfo=localtravelinfodata.guestinfo[guestactivepostion];if(e.target.type==='file'){//guestarr[guestactivepostion][id] = e.target.files[0];\nsetSelectedGuest(_objectSpread(_objectSpread({},selectedguest),{},_defineProperty({},id,e.target.files[0])));}else{//setguestarr({...guestarr, [id]: value });\n// guestarr[guestactivepostion][id] = value;\n//setVehiclesData({ ...guestarr, guestarr });\nsetSelectedGuest(_objectSpread(_objectSpread({},selectedguest),{},_defineProperty({},id,value)));guestinfo[id]=value;}};var onChangeDateOfBirth=function onChangeDateOfBirth(e){var dob=e;//var ndob = moment(e).format(\"YYYY-MM-DD\");\n//setDOB(ndob);\nvar today=new Date();var age=Math.floor((today-dob)/(365.25*24*60*60*1000));var guestinfo=localtravelinfodata.guestinfo[guestactivepostion];guestinfo[\"DOB\"]=dob;setSelectedDOB(dob);};var handleChangeCS=function handleChangeCS(e){var guestinfo=localtravelinfodata.guestinfo[guestactivepostion];guestinfo[\"Citizenship\"]=e.value;setSelectedCS(e.value);//bind province base on country\n};var handleChangeCOO=function handleChangeCOO(e){var guestinfo=localtravelinfodata.guestinfo[guestactivepostion];guestinfo[\"CountryofOrigin\"]=e.value;setSelectedCOO(e.value);};var getCitizenship=function getCitizenship(){dataservice(\"citizenship\",{requestfor:'getcitizenship',data:{flag:'a'}}).then(function(data){if(data.resultkey==1){var result=data.resultvalue;var countdata=[];//let country = [\"Caloocan\", \"Malabon\", \"Makati\", \"Manila\", \"Mandaluyong\"]\nfor(var index=0;index<result.length;index++){//   \nvar item=result[index];countdata.push({value:item.id,label:item.description});}setCitizenship(countdata);}else{//  notify(2,\"No data found\");\n}}).catch(function(edata){notify(2,edata.toString(),1);});};var getCountry=function getCountry(){dataservice(\"country\",{requestfor:'getcountry',data:{flag:'a'}}).then(function(data){if(data.resultkey==1){var result=data.resultvalue;var countdata=[];//let country = [\"Caloocan\", \"Malabon\", \"Makati\", \"Manila\", \"Mandaluyong\"]\ncountdata.push({value:\"-1\",label:\"Select Country\"});for(var index=0;index<result.length;index++){//   \nvar item=result[index];countdata.push({value:item.id,label:item.description});}setCountry(countdata);}else{//  notify(2,\"No data found\");\n}}).catch(function(edata){notify(2,edata.toString(),1);});};var getGender=function getGender(){var countdata=[];var country=[\"Male\",\"Female\",\"Other\"];for(var index=0;index<3;index++){countdata.push({value:index,label:country[index]});}setGender(countdata);};var getProvince=function getProvince(){dataservice(\"province\",{requestfor:'getprovince',data:{flag:'a'}}).then(function(data){if(data.resultkey==1){var result=data.resultvalue;var countdata=[];//let country = [\"Caloocan\", \"Malabon\", \"Makati\", \"Manila\", \"Mandaluyong\"]\nfor(var index=0;index<result.length;index++){//   \n//   ;\nvar item=result[index];countdata.push({value:item.id,label:item.description});}setRawProvince(result);//setProvince(countdata);\n}else{//  notify(2,\"No data found\");\n}}).catch(function(edata){notify(2,edata.toString(),1);});};var getMunicipalities=function getMunicipalities(){dataservice(\"municipality\",{requestfor:'getmunicipality',data:{flag:'a'}}).then(function(data){if(data.resultkey==1){var result=data.resultvalue;var countdata=[];//let country = [\"Caloocan\", \"Malabon\", \"Makati\", \"Manila\", \"Mandaluyong\"]\nfor(var index=0;index<result.length;index++){//   \nvar item=result[index];countdata.push({value:item.id,label:item.description});if(countdata.length===1){setSelectedMunicipality(item.id);}}// setMunicipality(countdata);\nsetRawMunicipality(result);}else{//  notify(2,\"No data found\");\n}}).catch(function(edata){notify(2,edata.toString(),1);});};var handleChangeOptionProvince=function handleChangeOptionProvince(e){// setSelectedProvince(e.value);\n// guestarr[guestactivepostion][\"Province\"] = e.value;\n// setselectedguest({ ...selectedguest, [\"Province\"]: e.value });\n};var handleChangeOptionMunicipality=function handleChangeOptionMunicipality(e){// setSelectedMunicipality(e.value);\n// guestarr[guestactivepostion][\"Municipality\"] = e.value;\n// setselectedguest({ ...selectedguest, [\"Municipality\"]: e.value });\n};var handleChangeOptionGender=function handleChangeOptionGender(e){// guestarr[guestactivepostion][\"Gender\"] = e.value;\n// setselectedguest({ ...selectedguest, [\"Gender\"]: e.value });\n};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Guest\"}),/*#__PURE__*/_jsxs(CRow,{children:[/*#__PURE__*/_jsx(CCol,{xs:\"8\",children:/*#__PURE__*/_jsx(CCardBody,{children:/*#__PURE__*/_jsxs(CRow,{children:[/*#__PURE__*/_jsx(CCol,{md:\"3\",children:localtravelinfodata.guestinfo&&localtravelinfodata.guestinfo.map(function(guestinfo,index){return/*#__PURE__*/_jsxs(CButton,{block:true,onClick:function onClick(){return setselectguest(index);},variant:index==guestactivepostion?\"\":\"outline\",color:\"success\",children:[\"Guest \",index+1,\" \"]});})}),/*#__PURE__*/_jsx(CCol,{md:\"9\",children:/*#__PURE__*/_jsxs(CRow,{children:[/*#__PURE__*/_jsx(CCol,{xs:\"4\",children:/*#__PURE__*/_jsxs(CFormGroup,{children:[/*#__PURE__*/_jsx(CLabel,{htmlFor:\"ccnumber\",children:\"First name\"}),/*#__PURE__*/_jsx(CInput,{onChange:handleChange,value:selectedguest.Firstname,type:\"text\",id:\"Firstname\",placeholder:\"First Name\"})]})}),/*#__PURE__*/_jsx(CCol,{xs:\"4\",children:/*#__PURE__*/_jsxs(CFormGroup,{children:[/*#__PURE__*/_jsx(CLabel,{htmlFor:\"ccnumber\",children:\"Last name\"}),/*#__PURE__*/_jsx(CInput,{onChange:handleChange,type:\"text\",value:selectedguest.Lastname,id:\"Lastname\",placeholder:\"Last name\"})]})}),/*#__PURE__*/_jsx(CCol,{xs:\"4\",children:/*#__PURE__*/_jsxs(CFormGroup,{children:[/*#__PURE__*/_jsx(CLabel,{htmlFor:\"ccnumber\",children:\"Date Of Birth\"}),/*#__PURE__*/_jsx(DatePicker,{value:selecteddob,onChange:onChangeDateOfBirth})]})}),/*#__PURE__*/_jsx(CCol,{xs:\"4\",children:/*#__PURE__*/_jsxs(CFormGroup,{children:[/*#__PURE__*/_jsx(CLabel,{htmlFor:\"ccnumber\",children:\"Citizenship\"}),/*#__PURE__*/_jsx(Select,{className:\"dropdown\",placeholder:\"Select Citizenship\",value:citizenship.find(function(obj){return obj.value===selectedCS;})// set selected values\n,options:citizenship// set list of the data\n,onChange:handleChangeCS// assign onChange function\n})]})}),/*#__PURE__*/_jsx(CCol,{xs:\"4\",children:/*#__PURE__*/_jsxs(CFormGroup,{children:[/*#__PURE__*/_jsx(CLabel,{htmlFor:\"ccnumber\",children:\"Country Of orgin\"}),/*#__PURE__*/_jsx(Select,{id:\"CountryofOrigin\",className:\"dropdown\",placeholder:\"Select\",value:country.find(function(obj){return obj.value===selectedCOO;})// set selected values\n,options:country// set list of the data\n,onChange:handleChangeCOO// assign onChange function\n})]})}),/*#__PURE__*/_jsx(CCol,{xs:\"4\",children:/*#__PURE__*/_jsxs(CFormGroup,{children:[/*#__PURE__*/_jsx(CLabel,{htmlFor:\"ccnumber\",children:\"Province\"}),/*#__PURE__*/_jsx(Select,{className:\"dropdown\",placeholder:\"Select\",value:Province.find(function(obj){return obj.value===selectedguest.Province;})// set selected values\n,options:Province// set list of the data\n,onChange:handleChangeOptionProvince// assign onChange function\n})]})})]})})]})})}),/*#__PURE__*/_jsxs(CCol,{xs:\"4\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Computation of Fees\"}),localtravelinfodata.fees&&localtravelinfodata.fees.map(function(feedata,index){if(feedata.feefor.toLowerCase()==\"environment\"||feedata.feefor.toLowerCase()==\"bracelet\"){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(CRow,{children:[/*#__PURE__*/_jsx(CCol,{xs:\"6\",children:/*#__PURE__*/_jsx(CLabel,{htmlFor:\"ccnumber\",children:feedata.feefor})}),/*#__PURE__*/_jsx(CCol,{xs:\"4\",children:/*#__PURE__*/_jsxs(CLabel,{htmlFor:\"ccnumber\",children:[localtravelinfodata.numberofguest,\" X \",feedata.amount]})}),/*#__PURE__*/_jsx(CCol,{xs:\"2\",children:/*#__PURE__*/_jsx(CLabel,{htmlFor:\"ccnumber\",children:(localtravelinfodata.numberofguest*feedata.amount).toFixed(2)})})]})});}else{return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(CRow,{children:[/*#__PURE__*/_jsx(CCol,{xs:\"10\",children:/*#__PURE__*/_jsx(CLabel,{htmlFor:\"ccnumber\",children:feedata.feefor})}),/*#__PURE__*/_jsx(CCol,{xs:\"2\",children:/*#__PURE__*/_jsx(CLabel,{htmlFor:\"ccnumber\",children:feedata.amount.toFixed(2)})})]})});}})]})]})]});};export default GuestInfo;","map":{"version":3,"sources":["D:/I2T/Smarttech/tourbookingwebgit/src/views/pages/register/GuestInfo.js"],"names":["React","useState","useEffect","useContext","useHistory","useLocation","CCard","CCardBody","CCardHeader","CCol","CRow","CButton","CModal","CModalTitle","CModalHeader","CModalBody","CForm","CInputGroupPrepend","CInputGroupText","CInputGroup","CInput","CFormGroup","CInputCheckbox","CLabel","CModalFooter","CBadge","CContainer","CSelect","CCardFooter","DataTable","DataTableExtensions","Select","CIcon","dataservice","toast","InputDecimal","DatePicker","discounticon","moment","uuid","userContext","notify","type","message","systemerror","success","position","POSITION","TOP_CENTER","dtlmsg","undefined","error","GuestInfo","gacc","setgacc","localtravelinfodata","setLocalTravelInfoData","Firstname","Middlename","Lastname","DOB","Date","Citizenship","CountryofOrigin","Province","Municipality","Gender","Address","Mobilenumber","emailid","ismaubancitizen","filedata","selectedguest","setSelectedGuest","guestactivepostion","setGuestActivePostion","selecteddob","setSelectedDOB","selectedCS","setSelectedCS","citizenship","setCitizenship","selectedCOO","setSelectedCOO","country","setCountry","setGender","setProvince","RawProvince","setRawProvince","setMunicipality","RawMunicipality","setRawMunicipality","selectedMunicipality","setSelectedMunicipality","setselectguest","e","getCitizenship","getCountry","getGender","getProvince","getMunicipalities","ddd","fees","alert","guestinfo","value","handleChange","console","log","target","id","files","onChangeDateOfBirth","dob","today","age","Math","floor","handleChangeCS","handleChangeCOO","requestfor","data","flag","then","resultkey","result","resultvalue","countdata","index","length","item","push","label","description","catch","edata","toString","handleChangeOptionProvince","handleChangeOptionMunicipality","handleChangeOptionGender","map","find","obj","feedata","feefor","toLowerCase","numberofguest","amount","toFixed"],"mappings":"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","sourcesContent":["import React, { useState, useEffect,useContext } from 'react'\r\nimport { useHistory, useLocation } from 'react-router-dom'\r\nimport {\r\n  CCard,\r\n  CCardBody,\r\n  CCardHeader,\r\n  CCol,\r\n  CRow,\r\n  CButton,\r\n  CModal,\r\n  CModalTitle,\r\n  CModalHeader,\r\n  CModalBody,\r\n  CForm,\r\n  CInputGroupPrepend,\r\n  CInputGroupText,\r\n  CInputGroup,\r\n  CInput,\r\n  CFormGroup,\r\n  CInputCheckbox,\r\n  CLabel,\r\n  CModalFooter,\r\n  CBadge,\r\n  CContainer,\r\n  CSelect,\r\n  CCardFooter\r\n} from '@coreui/react'\r\n\r\nimport DataTable from \"react-data-table-component\";\r\nimport DataTableExtensions from \"react-data-table-component-extensions\";\r\nimport Select from 'react-select';\r\nimport CIcon from '@coreui/icons-react';\r\nimport dataservice from '../../service/dataservice';\r\nimport { toast } from 'react-toastify';\r\nimport { InputDecimal } from \"../../commoncomponents/inputdecimal\";\r\nimport DatePicker from 'react-date-picker';\r\nimport { discounticon } from 'src/assets/icons/discounticon';\r\nimport moment from 'moment';\r\nimport uuid from 'react-uuid';\r\nimport { userContext } from 'src/views/userContext';\r\n\r\nconst notify = (type, message, systemerror) => {\r\n  switch (type) {\r\n    case 1:\r\n      toast.success(message, {\r\n        position: toast.POSITION.TOP_CENTER\r\n      });\r\n      break;\r\n    case 2:\r\n      var dtlmsg;\r\n      if (systemerror !== undefined) {\r\n        dtlmsg = <div>Please contact to administrator!<br></br>{message}</div>;\r\n      } else {\r\n        dtlmsg = <div>{message}</div>;\r\n      }\r\n\r\n      toast.error(<div>\r\n        <CIcon name=\"cil-warning\" /> Error\r\n\r\n        {dtlmsg}\r\n\r\n      </div>, {\r\n        position: toast.POSITION.TOP_CENTER\r\n      });\r\n      break;\r\n\r\n    default:\r\n      break;\r\n  }\r\n}\r\nconst GuestInfo = () => {\r\n  const {gacc, setgacc}=useContext(userContext);\r\n  const [localtravelinfodata, setLocalTravelInfoData] = useState([]);\r\n  const [selectedguest, setSelectedGuest] = useState([{Firstname:\"\",Middlename:\"\",Lastname:\"\",DOB:new Date(),Citizenship:\"\",\r\n  CountryofOrigin:\"\",Province:{},Municipality:{},Gender:\"\",Address:\"\",Mobilenumber:\"\",\r\n  emailid:\"\",ismaubancitizen:false,filedata:\"\"}]);\r\n  \r\n  const [guestactivepostion, setGuestActivePostion] = useState(0);\r\n  const [selecteddob, setSelectedDOB] = useState();\r\n  const [selectedCS, setSelectedCS] = useState();\r\n  const [citizenship, setCitizenship] = useState([]);  \r\n  const [selectedCOO, setSelectedCOO] = useState();\r\n  const [country, setCountry] = useState([]);  \r\n  const [Gender, setGender] = useState([]);\r\n  \r\n  const [Province, setProvince] = useState([]);\r\n  const [RawProvince, setRawProvince] = useState([]);\r\n\r\n  const [Municipality, setMunicipality] = useState([]);\r\n  const [RawMunicipality, setRawMunicipality] = useState([]);\r\n  const [selectedMunicipality, setSelectedMunicipality] = useState([]);\r\n\r\n  const setselectguest=e=>{\r\n    setGuestActivePostion(e);\r\n  }\r\n  useEffect(()=>{\r\n    setLocalTravelInfoData(gacc);\r\n    getCitizenship();\r\n    getCountry();\r\n    getGender();\r\n    getProvince();\r\n    getMunicipalities();\r\n    ddd();\r\n  },[])\r\n  \r\n  useEffect(()=>{\r\n    if(gacc.fees!=undefined){\r\n     \r\n      alert('set gcc --guest');\r\n      setLocalTravelInfoData(gacc);\r\n    \r\n    }\r\n   \r\n  },[gacc]);\r\n  useEffect(()=>{  \r\n    \r\n     \r\n    alert('set local');\r\n    // if(localtravelinfodata!=undefined){\r\n    //   if(localtravelinfodata.guestinfo!=undefined){\r\n    //     if(localtravelinfodata.guestinfo.length>0){\r\n    //       var guestinfo=localtravelinfodata.guestinfo[guestactivepostion];\r\n    //        \r\n    //       setSelectedGuest(guestinfo);\r\n    //       if(guestinfo.DOB!=undefined){\r\n    //         setSelectedDOB(guestinfo.DOB);\r\n    //        }\r\n    //        if(guestinfo.Citizenship!=\"\"){\r\n    //         setSelectedCS(guestinfo.Citizenship);\r\n    //        }else{\r\n    //         setSelectedCS(\"1\");\r\n    //        }\r\n    //        if(guestinfo.CountryofOrigin!=\"\"){\r\n    //         setSelectedCS(guestinfo.CountryofOrigin);\r\n    //        }else{\r\n    //         setSelectedCS(country[0].value);\r\n    //        }\r\n    //        if(guestinfo.Gender!=\"\"){\r\n    //         setSelectedCS(guestinfo.Gender);\r\n    //        }else{\r\n    //         setSelectedCS(Gender[0].value);\r\n    //        }\r\n    //     }\r\n        \r\n    //   }\r\n    // }\r\n  },[localtravelinfodata?.guestinfo]);\r\n\r\n  const ddd=()=>{\r\n    setSelectedCS(\"1\");\r\n  }\r\n\r\n  useEffect(()=>{\r\n     \r\n    alert(selectedCS);\r\n\r\n  },[selectedCS])\r\n  useEffect(()=>{\r\n     \r\n    if(localtravelinfodata!=undefined){\r\n      if(localtravelinfodata.guestinfo!=undefined){\r\n        var guestinfo=localtravelinfodata.guestinfo[guestactivepostion];\r\n        \r\n       setSelectedGuest(guestinfo);\r\n       if(guestinfo.DOB!=undefined){\r\n        setSelectedDOB(guestinfo.DOB);\r\n       }\r\n       if(guestinfo.Citizenship!=\"\"){\r\n        setSelectedCS(guestinfo.Citizenship);\r\n       }else{\r\n        setSelectedCS(citizenship[0].value);\r\n       }\r\n       if(guestinfo.CountryofOrigin!=\"\"){\r\n        setSelectedCS(guestinfo.CountryofOrigin);\r\n       }else{\r\n        setSelectedCS(country[0].value);\r\n       }\r\n       if(guestinfo.Gender!=\"\"){\r\n        setSelectedCS(guestinfo.Gender);\r\n       }else{\r\n        setSelectedCS(Gender[0].value);\r\n       }\r\n      \r\n       \r\n      // \r\n    }\r\n  }\r\n  },[guestactivepostion]);\r\n  \r\n \r\n  const handleChange=e=>{\r\n     console.log(e);\r\n     \r\n     const { id, value } = e.target;\r\n\r\n     var guestinfo=localtravelinfodata.guestinfo[guestactivepostion];\r\n      \r\n     if (e.target.type === 'file' ) {\r\n       //guestarr[guestactivepostion][id] = e.target.files[0];\r\n       setSelectedGuest({ ...selectedguest, [id]: e.target.files[0] });\r\n     \r\n\r\n     }else{\r\n         //setguestarr({...guestarr, [id]: value });\r\n      // guestarr[guestactivepostion][id] = value;\r\n   \r\n   \r\n       //setVehiclesData({ ...guestarr, guestarr });\r\n       setSelectedGuest({ ...selectedguest, [id]: value });\r\n       guestinfo[id]=value;\r\n     }\r\n  }\r\n  const onChangeDateOfBirth=e=>{\r\n    var dob = e;\r\n\r\n    //var ndob = moment(e).format(\"YYYY-MM-DD\");\r\n    //setDOB(ndob);\r\n    var today = new Date();\r\n    var age = Math.floor((today - dob) / (365.25 * 24 * 60 * 60 * 1000));\r\n\r\n    var guestinfo=localtravelinfodata.guestinfo[guestactivepostion];\r\n    guestinfo[\"DOB\"]=dob;\r\n    setSelectedDOB(dob);\r\n   \r\n  }\r\n  const handleChangeCS=e=>{\r\n    \r\n    var guestinfo=localtravelinfodata.guestinfo[guestactivepostion];\r\n    guestinfo[\"Citizenship\"]= e.value;\r\n    setSelectedCS( e.value);\r\n    //bind province base on country\r\n   \r\n  }\r\n  const handleChangeCOO=e=>{\r\n    var guestinfo=localtravelinfodata.guestinfo[guestactivepostion];\r\n    guestinfo[\"CountryofOrigin\"]= e.value;\r\n    setSelectedCOO( e.value);\r\n  }\r\n  \r\n\r\n\r\n  \r\nconst getCitizenship = () => {\r\n  dataservice(\"citizenship\", { requestfor: 'getcitizenship', data: { flag: 'a' } })\r\n    .then(function (data) {\r\n      if (data.resultkey == 1) {\r\n        var result = data.resultvalue;\r\n        let countdata = [];\r\n        //let country = [\"Caloocan\", \"Malabon\", \"Makati\", \"Manila\", \"Mandaluyong\"]\r\n      \r\n        for (let index = 0; index < result.length; index++) {\r\n          //   \r\n          let item = result[index];\r\n          countdata.push({ value: item.id, label: item.description })\r\n          \r\n        }\r\n      \r\n        setCitizenship(countdata);\r\n      } else {\r\n        //  notify(2,\"No data found\");\r\n      }\r\n    })\r\n    .catch(function (edata) {\r\n      notify(2, edata.toString(), 1);\r\n    });\r\n\r\n}\r\nconst getCountry = () => {\r\n \r\n  dataservice(\"country\", { requestfor: 'getcountry', data: { flag: 'a' } })\r\n    .then(function (data) {\r\n      if (data.resultkey == 1) {\r\n        var result = data.resultvalue;\r\n        let countdata = [];\r\n        //let country = [\"Caloocan\", \"Malabon\", \"Makati\", \"Manila\", \"Mandaluyong\"]\r\n        countdata.push({ value: \"-1\", label: \"Select Country\" })\r\n        for (let index = 0; index < result.length; index++) {\r\n          //   \r\n          let item = result[index];\r\n          countdata.push({ value: item.id, label: item.description })\r\n         \r\n        }\r\n        setCountry(countdata);\r\n      } else {\r\n        //  notify(2,\"No data found\");\r\n      }\r\n    })\r\n    .catch(function (edata) {\r\n      notify(2, edata.toString(), 1);\r\n    });\r\n\r\n}\r\n\r\nconst getGender = () => {\r\n  let countdata = [];\r\n  let country = [\"Male\", \"Female\", \"Other\"]\r\n  for (let index = 0; index < 3; index++) {\r\n    countdata.push({\r\n      value: index,\r\n      label: country[index]\r\n    })\r\n\r\n  }\r\n  setGender(countdata);\r\n}\r\n\r\nconst getProvince = () => {\r\n    dataservice(\"province\", { requestfor: 'getprovince', data: { flag: 'a' } })\r\n    .then(function (data) {\r\n      if (data.resultkey == 1) {\r\n        var result = data.resultvalue;\r\n        let countdata = [];\r\n        //let country = [\"Caloocan\", \"Malabon\", \"Makati\", \"Manila\", \"Mandaluyong\"]\r\n        for (let index = 0; index < result.length; index++) {\r\n          //   \r\n        //   ;\r\n          let item = result[index];\r\n          countdata.push({ value: item.id, label: item.description })\r\n        \r\n        }\r\n        setRawProvince(result);\r\n        //setProvince(countdata);\r\n      } else {\r\n        //  notify(2,\"No data found\");\r\n      }\r\n    })\r\n    .catch(function (edata) {\r\n      notify(2, edata.toString(), 1);\r\n    });\r\n\r\n}\r\n\r\nconst getMunicipalities = () => {\r\n\r\n  dataservice(\"municipality\", { requestfor: 'getmunicipality', data: { flag: 'a' } })\r\n    .then(function (data) {\r\n      if (data.resultkey == 1) {\r\n        var result = data.resultvalue;\r\n        let countdata = [];\r\n        //let country = [\"Caloocan\", \"Malabon\", \"Makati\", \"Manila\", \"Mandaluyong\"]\r\n        for (let index = 0; index < result.length; index++) {\r\n          //   \r\n          let item = result[index];\r\n          countdata.push({ value: item.id, label: item.description })\r\n          if (countdata.length === 1) {\r\n            setSelectedMunicipality(item.id);\r\n          }\r\n        }\r\n       // setMunicipality(countdata);\r\n        setRawMunicipality(result);\r\n      } else {\r\n        //  notify(2,\"No data found\");\r\n      }\r\n    })\r\n    .catch(function (edata) {\r\n      notify(2, edata.toString(), 1);\r\n    });\r\n\r\n\r\n}\r\n\r\nconst handleChangeOptionProvince = e => {\r\n  // setSelectedProvince(e.value);\r\n\r\n  // guestarr[guestactivepostion][\"Province\"] = e.value;\r\n\r\n  // setselectedguest({ ...selectedguest, [\"Province\"]: e.value });\r\n\r\n}\r\nconst handleChangeOptionMunicipality = e => {\r\n  // setSelectedMunicipality(e.value);\r\n\r\n  // guestarr[guestactivepostion][\"Municipality\"] = e.value;\r\n\r\n  // setselectedguest({ ...selectedguest, [\"Municipality\"]: e.value });\r\n}\r\nconst handleChangeOptionGender = e => {\r\n\r\n  // guestarr[guestactivepostion][\"Gender\"] = e.value;\r\n\r\n  // setselectedguest({ ...selectedguest, [\"Gender\"]: e.value });\r\n}\r\n\r\n\r\n  return (<>\r\n    \r\n    \r\n    <h5>Guest</h5>\r\n    <CRow>\r\n       <CCol xs=\"8\">\r\n\r\n       <CCardBody>\r\n                          <CRow>\r\n                          <CCol md=\"3\">\r\n                          {localtravelinfodata.guestinfo &&\r\n                               localtravelinfodata.guestinfo.map((guestinfo, index) => {\r\n                                 return( <CButton block  onClick={() => setselectguest(index)} variant={index == guestactivepostion ? \"\" : \"outline\"} color=\"success\">Guest {index + 1} </CButton>)\r\n                               })}\r\n                        \r\n                             \r\n\r\n\r\n                            </CCol>\r\n                                 <CCol md=\"9\">\r\n                                     <CRow>\r\n                                      <CCol xs=\"4\">\r\n                                        <CFormGroup >\r\n                                          <CLabel htmlFor=\"ccnumber\">First name</CLabel>\r\n                                          <CInput onChange={handleChange} value={selectedguest.Firstname} type=\"text\" id=\"Firstname\" placeholder=\"First Name\" />\r\n                                        </CFormGroup>\r\n      \r\n                                      </CCol>\r\n                                      <CCol xs=\"4\">\r\n                                      <CFormGroup >\r\n                                        <CLabel htmlFor=\"ccnumber\">Last name</CLabel>\r\n                                        <CInput onChange={handleChange} type=\"text\" value={selectedguest.Lastname} id=\"Lastname\" placeholder=\"Last name\" />\r\n                                      </CFormGroup>\r\n\r\n                                    </CCol>\r\n                                      <CCol xs=\"4\">\r\n                                      <CFormGroup >\r\n                                        <CLabel htmlFor=\"ccnumber\">Date Of Birth</CLabel>\r\n                                        <DatePicker\r\n\r\n                                          value={selecteddob}\r\n                                          onChange={onChangeDateOfBirth}\r\n\r\n                                        />\r\n                                      </CFormGroup>\r\n\r\n                                    </CCol>\r\n                                    <CCol xs=\"4\">\r\n                                        <CFormGroup >\r\n                                          <CLabel htmlFor=\"ccnumber\">Citizenship</CLabel>\r\n                                          <Select\r\n                                            className=\"dropdown\"\r\n                                            placeholder=\"Select Citizenship\"\r\n                                            value={citizenship.find(obj => obj.value === selectedCS)} // set selected values\r\n                                            options={citizenship} // set list of the data\r\n                                            onChange={handleChangeCS} // assign onChange function\r\n                                          />\r\n                                        </CFormGroup>\r\n\r\n                                      </CCol>\r\n                                      <CCol xs=\"4\">\r\n                                        <CFormGroup >\r\n                                          <CLabel htmlFor=\"ccnumber\">Country Of orgin</CLabel>\r\n                                          <Select\r\n                                            id=\"CountryofOrigin\"\r\n                                            className=\"dropdown\"\r\n                                            placeholder=\"Select\"\r\n                                            value={country.find(obj => obj.value === selectedCOO)} // set selected values\r\n                                            options={country} // set list of the data\r\n                                            onChange={handleChangeCOO} // assign onChange function\r\n                                          />\r\n                                        </CFormGroup>\r\n\r\n                                      </CCol> \r\n                                      <CCol xs=\"4\">\r\n                                        <CFormGroup >\r\n                                          <CLabel htmlFor=\"ccnumber\">Province</CLabel>\r\n                                          <Select\r\n                                            className=\"dropdown\"\r\n                                            placeholder=\"Select\"\r\n                                            value={Province.find(obj => obj.value === selectedguest.Province)} // set selected values\r\n                                            options={Province} // set list of the data\r\n                                            onChange={handleChangeOptionProvince} // assign onChange function\r\n                                          />\r\n                                        </CFormGroup>\r\n\r\n                                      </CCol>\r\n                                  \r\n\r\n\r\n                                    </CRow>\r\n                                 </CCol>\r\n                          \r\n                          </CRow>\r\n       </CCardBody>\r\n\r\n       </CCol>\r\n       <CCol xs=\"4\">\r\n         \r\n       <h5>Computation of Fees</h5>\r\n                  {localtravelinfodata.fees &&\r\n                      localtravelinfodata.fees.map((feedata, index) => {\r\n                        \r\n                        if(feedata.feefor.toLowerCase()==\"environment\"||feedata.feefor.toLowerCase()==\"bracelet\"){\r\n                          return(<>\r\n                            <CRow>\r\n                              <CCol xs=\"6\">\r\n                                <CLabel htmlFor=\"ccnumber\">{feedata.feefor}</CLabel>\r\n                              </CCol>\r\n                              <CCol xs=\"4\">\r\n                                <CLabel htmlFor=\"ccnumber\">{(localtravelinfodata.numberofguest)} X {(feedata.amount)}</CLabel>\r\n                              </CCol>\r\n\r\n                              <CCol xs=\"2\">\r\n                                <CLabel htmlFor=\"ccnumber\">{((localtravelinfodata.numberofguest)*(feedata.amount)).toFixed(2)}</CLabel>\r\n                              </CCol>\r\n                            </CRow>\r\n                          </>)\r\n                        }else{\r\n                          return(<>\r\n                            <CRow>\r\n                              <CCol xs=\"10\">\r\n                                <CLabel htmlFor=\"ccnumber\">{feedata.feefor}</CLabel>\r\n                              </CCol>\r\n\r\n                              <CCol xs=\"2\">\r\n                                <CLabel htmlFor=\"ccnumber\">{(feedata.amount).toFixed(2)}</CLabel>\r\n                              </CCol>\r\n                            </CRow>\r\n                          </>)\r\n                        \r\n                        }\r\n                      \r\n                      })}\r\n       </CCol>\r\n    </CRow>\r\n    </>\r\n  )\r\n\r\n}\r\n\r\n\r\nexport default GuestInfo;"]},"metadata":{},"sourceType":"module"}