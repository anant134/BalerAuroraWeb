{"ast":null,"code":"import _regeneratorRuntime from \"D:/I2T/Smarttech/tourbookingwebgit/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"D:/I2T/Smarttech/tourbookingwebgit/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport common from '../common/common';\n\nvar dataservice = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(controller, reqbody) {\n    var requestOptions, url;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            requestOptions = {\n              method: 'POST',\n              headers: {\n                'Content-Type': 'application/json'\n              },\n              body: JSON.stringify(reqbody)\n            };\n            ;\n            url = common.baseurl + controller + \".php\";\n            _context2.next = 5;\n            return fetch(url, requestOptions).then( /*#__PURE__*/function () {\n              var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(response) {\n                var data, error;\n                return _regeneratorRuntime.wrap(function _callee$(_context) {\n                  while (1) {\n                    switch (_context.prev = _context.next) {\n                      case 0:\n                        _context.next = 2;\n                        return response.json();\n\n                      case 2:\n                        data = _context.sent;\n\n                        if (response.ok) {\n                          _context.next = 8;\n                          break;\n                        }\n\n                        error = data && data.message || response.status;\n                        return _context.abrupt(\"return\", Promise.reject(error));\n\n                      case 8:\n                        return _context.abrupt(\"return\", data);\n\n                      case 9:\n                      case \"end\":\n                        return _context.stop();\n                    }\n                  }\n                }, _callee);\n              }));\n\n              return function (_x3) {\n                return _ref2.apply(this, arguments);\n              };\n            }()).catch(function (error) {\n              return Promise.reject(error);\n            });\n\n          case 5:\n            return _context2.abrupt(\"return\", _context2.sent);\n\n          case 6:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function dataservice(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nexport default dataservice;","map":{"version":3,"sources":["D:/I2T/Smarttech/tourbookingwebgit/src/views/service/dataservice.js"],"names":["common","dataservice","controller","reqbody","requestOptions","method","headers","body","JSON","stringify","url","baseurl","fetch","then","response","json","data","ok","error","message","status","Promise","reject","catch"],"mappings":";;AAAA,OAAOA,MAAP,MAAmB,kBAAnB;;AACA,IAAMC,WAAW;AAAA,sEAAG,kBAAOC,UAAP,EAAmBC,OAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAEZC,YAAAA,cAFY,GAEK;AACrBC,cAAAA,MAAM,EAAE,MADa;AAErBC,cAAAA,OAAO,EAAE;AAAE,gCAAgB;AAAlB,eAFY;AAGrBC,cAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeN,OAAf;AAHe,aAFL;AAOlB;AACMO,YAAAA,GARY,GAQNV,MAAM,CAACW,OAAP,GAAiBT,UAAjB,GAA8B,MARxB;AAAA;AAAA,mBASLU,KAAK,CAACF,GAAD,EAAMN,cAAN,CAAL,CACVS,IADU;AAAA,mFACL,iBAAMC,QAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BACeA,QAAQ,CAACC,IAAT,EADf;;AAAA;AACEC,wBAAAA,IADF;;AAAA,4BAGCF,QAAQ,CAACG,EAHV;AAAA;AAAA;AAAA;;AAIIC,wBAAAA,KAJJ,GAIaF,IAAI,IAAIA,IAAI,CAACG,OAAd,IAA0BL,QAAQ,CAACM,MAJ/C;AAAA,yDAKKC,OAAO,CAACC,MAAR,CAAeJ,KAAf,CALL;;AAAA;AAAA,yDAOKF,IAPL;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADK;;AAAA;AAAA;AAAA;AAAA,iBAYVO,KAZU,CAYJ,UAAAL,KAAK,EAAI;AACd,qBAAOG,OAAO,CAACC,MAAR,CAAeJ,KAAf,CAAP;AACD,aAdU,CATK;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAXjB,WAAW;AAAA;AAAA;AAAA,GAAjB;;AA2BA,eAAeA,WAAf","sourcesContent":["import common from '../common/common';\r\nconst dataservice = async (controller, reqbody) => {\r\n\r\n  const requestOptions = {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify(reqbody)\r\n  };\r\n  ;\r\n  const url = common.baseurl + controller + \".php\"\r\n  return await fetch(url, requestOptions)\r\n    .then(async response => {\r\n      const data = await response.json();\r\n\r\n      if (!response.ok) {\r\n        const error = (data && data.message) || response.status;\r\n        return Promise.reject(error);\r\n      } else {\r\n        return data;\r\n      }\r\n\r\n    })\r\n    .catch(error => {\r\n      return Promise.reject(error);\r\n    });\r\n\r\n}\r\n\r\nexport default dataservice"]},"metadata":{},"sourceType":"module"}