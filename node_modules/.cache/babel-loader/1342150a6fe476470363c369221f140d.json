{"ast":null,"code":"import _regeneratorRuntime from\"D:/I2T/Smarttech/tourbookingwebgit/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/I2T/Smarttech/tourbookingwebgit/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _toConsumableArray from\"D:/I2T/Smarttech/tourbookingwebgit/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _defineProperty from\"D:/I2T/Smarttech/tourbookingwebgit/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"D:/I2T/Smarttech/tourbookingwebgit/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"D:/I2T/Smarttech/tourbookingwebgit/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useContext}from\"react\";import{useHistory,useLocation}from\"react-router-dom\";import{CCard,CCardBody,CCardHeader,CCol,CRow,CButton,CModal,CModalTitle,CModalHeader,CModalBody,CForm,CInputGroupPrepend,CInputGroupText,CInputGroup,CInput,CFormGroup,CInputCheckbox,CLabel,CModalFooter,CBadge,CContainer,CSelect,CCardFooter,CImg,CHeader}from\"@coreui/react\";import DataTable from\"react-data-table-component\";import DataTableExtensions from\"react-data-table-component-extensions\";import Select from\"react-select\";import CIcon from\"@coreui/icons-react\";import dataservice from\"../../service/dataservice\";import{toast}from\"react-toastify\";import{InputDecimal}from\"../../commoncomponents/inputdecimal\";import DatePicker from\"react-date-picker\";import{discounticon}from\"src/assets/icons/discounticon\";import moment from\"moment\";import uuid from\"react-uuid\";import common from\"../../common/common\";import{userContext}from\"src/views/userContext\";import{FormFile}from\"react-bootstrap\";import CheckedSelect from\"react-select-checked\";import*as XLSX from\"xlsx\";import{freeSet}from\"@coreui/icons\";import{getIconsView}from\"../../icons/brands/Brands.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var TravelInfo=function TravelInfo(traveldata){var processing=process.env.PUBLIC_URL+\"/processing.gif\";/*#region notification  */var notify=function notify(type,message,systemerror){switch(type){case 1:toast.success(message,{position:toast.POSITION.TOP_CENTER});break;case 2:var dtlmsg;if(systemerror!==undefined){dtlmsg=/*#__PURE__*/_jsxs(\"div\",{children:[\"Please contact to administrator!\",/*#__PURE__*/_jsx(\"br\",{}),message]});}else{dtlmsg=/*#__PURE__*/_jsx(\"div\",{children:message});}toast.error(/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(CIcon,{name:\"cil-warning\"}),\" Error\",dtlmsg]}),{position:toast.POSITION.TOP_CENTER});break;case 3:toast.warning(message,{position:toast.POSITION.TOP_CENTER});default:break;}};/*#endregion notification  */var _useContext=useContext(userContext),gacc=_useContext.gacc,setgacc=_useContext.setgacc;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),localtravelinfodata=_useState2[0],setLocalTravelInfoData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isguest=_useState4[0],setIsGuest=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isupdatevehicle=_useState6[0],setIsUpdateVehicle=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),isboatselection=_useState8[0],setIsBoatSeletion=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),ishotelprovideboat=_useState10[0],setIsHotelProvideBoat=_useState10[1];var _useState11=useState(0),_useState12=_slicedToArray(_useState11,2),guestactivepostion=_useState12[0],setActivePosition=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),filedata=_useState14[0],setfiledata=_useState14[1];var _useState15=useState(true),_useState16=_slicedToArray(_useState15,2),selectedpreferredtimemorning=_useState16[0],setselectedpreferredtimemorning=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),isvehicle=_useState18[0],setIsVehicle=_useState18[1];var _useState19=useState(true),_useState20=_slicedToArray(_useState19,2),isboatselectionopen=_useState20[0],setIsBoatSeletionOpen=_useState20[1];var _useState21=useState(false),_useState22=_slicedToArray(_useState21,2),isconfirmbooking=_useState22[0],setIsConfirmBooking=_useState22[1];var _useState23=useState(1),_useState24=_slicedToArray(_useState23,2),numberofdaystravel=_useState24[0],setNumberofDays=_useState24[1];var _useState25=useState(\"\"),_useState26=_slicedToArray(_useState25,2),returnguestmsg=_useState26[0],setReturnGuestMsg=_useState26[1];var _useState27=useState(true),_useState28=_slicedToArray(_useState27,2),isshowboatselection=_useState28[0],setIsShowBoatSelection=_useState28[1];var options=[{label:\"Chocolate\",value:\"chocolate\",disabled:true},{label:\"Vanilla\",value:\"vanilla\"},{label:\"Strawberry\",value:\"strawberry\"},{label:\"Caramel\",value:\"caramel\"}];var currentSelection=[{label:\"Caramel\",value:\"caramel\"}];var _useState29=useState([]),_useState30=_slicedToArray(_useState29,2),feesdata=_useState30[0],setFeesData=_useState30[1];var getfees=function getfees(){dataservice(\"fees\",{requestfor:\"getfees\",data:{flag:\"a\"}}).then(function(data){if(data.resultkey==1){//\nvar result=data.resultvalue;setFeesData(_objectSpread(_objectSpread({},feesdata),{},{data:result}));}else{//  notify(2,\"No data found\");\n}}).catch(function(edata){notify(2,edata.toString(),1);});};/*#region number of guest  */var _useState31=useState([]),_useState32=_slicedToArray(_useState31,2),numberofguests=_useState32[0],setNumberOfGuestData=_useState32[1];var _useState33=useState([]),_useState34=_slicedToArray(_useState33,2),timeslot=_useState34[0],setTimeSlot=_useState34[1];var _useState35=useState([]),_useState36=_slicedToArray(_useState35,2),rawtimeslot=_useState36[0],setRawTimeSlot=_useState36[1];var _useState37=useState(\"\"),_useState38=_slicedToArray(_useState37,2),selectednumberguest=_useState38[0],setSelectedNumberGuest=_useState38[1];var _useState39=useState(\"\"),_useState40=_slicedToArray(_useState39,2),selectedtimeslot=_useState40[0],setSelectedTimeSlot=_useState40[1];var _useState41=useState(\"\"),_useState42=_slicedToArray(_useState41,2),selectednumberguestbeforeconfirm=_useState42[0],setSelectedNumberGuestBeforConfirm=_useState42[1];var getnumberofguest=function getnumberofguest(){var countdata=[];for(var index=1;index<=parseInt(100);index++){countdata.push({value:index,label:index.toString()});}setNumberOfGuestData(countdata);};var handleChangeOptionNOG=function handleChangeOptionNOG(e){if(bulkuploaddata.length>0){setSelectedNumberGuestBeforConfirm(e.value);setIsConfirmChange(!isconfirmchange);}else{setSelectedNumberGuest(e.value);}};var handleChangeOptionTS=function handleChangeOptionTS(e){setSelectedTimeSlot(e.value);};/*#endregion number of guest  */ /*#region SDate  */var _useState43=useState([new Date()]),_useState44=_slicedToArray(_useState43,2),selectedfromdate=_useState44[0],setFromdate=_useState44[1];var setselectedfromdate=function setselectedfromdate(e){setFromdate(e);setTodate(e);var todata=e;var fromdata=e;var diffTime=Math.abs(todata-fromdata);// const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24))+1;\nvar diffDays=Math.ceil(diffTime/(1000*60*60*24));if(diffDays==0||diffDays==1){diffDays=1;}setNumberofDays(diffDays);};/*#endregion SDate  */ /*#region EDate  */var _useState45=useState([new Date()]),_useState46=_slicedToArray(_useState45,2),selectedtodate=_useState46[0],setTodate=_useState46[1];var setselectedtodate=function setselectedtodate(e){setTodate(e);var todata=e;var fromdata=selectedfromdate[0]==undefined?selectedfromdate:selectedfromdate[0];var diffTime=Math.abs(todata-fromdata);// const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24))+1;\nvar diffDays=Math.ceil(diffTime/(1000*60*60*24));if(diffDays==0||diffDays==1){diffDays=1;}setNumberofDays(diffDays);};/*#endregion EDate  */ /*#region Boat Type  */var _useState47=useState([]),_useState48=_slicedToArray(_useState47,2),boatTypeData=_useState48[0],setBoatTypeData=_useState48[1];var getBoatType=function getBoatType(){dataservice(\"boattype\",{requestfor:\"getboattype\",data:{flag:\"a\"}}).then(function(data){debugger;if(data.resultkey==1){var result=data.resultvalue;var countdata=[];for(var index=0;index<result.length;index++){//\nvar d=result[index];if(d.isactive==\"1\"){if(d.id==1){var packdetail=d.desc;countdata.push({id:d.id,label:packdetail,checked:true});}else{var packdetail=d.desc;countdata.push({id:d.id,label:packdetail,checked:false});}}}setBoatTypeData(countdata);}else{}}).catch(function(edata){notify(2,edata.toString(),1);});};var handleboattypechanges=function handleboattypechanges(e){var _e$target=e.target,id=_e$target.id,value=_e$target.value;var newdata=boatTypeData.map(function(item){if(item.id.toString()===id){var updatedItem=_objectSpread(_objectSpread({},item),{},{checked:true});return updatedItem;}else{var _updatedItem=_objectSpread(_objectSpread({},item),{},{checked:false});return _updatedItem;}return item;});debugger;setBoatTypeData(newdata);if(id==3){setSelectedBoatData([]);var filtertimeslot=rawtimeslot.filter(function(x){return x.boattype==1;});setTimeSlot(filtertimeslot);}else{var filtertimeslot=rawtimeslot.filter(function(x){return x.boattype==id;});setTimeSlot(filtertimeslot);getboatboatavailabilitybydate();}var filterBoat=boatdataprocess.filter(function(x){return x.boattype==id;});setBoatdata(filterBoat);setseletedboatbaseonavailability();};/*#endregion Boat Type  */ /*#region Package  */var _useState49=useState([]),_useState50=_slicedToArray(_useState49,2),packagedata=_useState50[0],setPackagedata=_useState50[1];var handlepackagechanges=function handlepackagechanges(e){var _e$target2=e.target,id=_e$target2.id,value=_e$target2.value;var _preferredhotels=rawpreferredhotels.filter(function(x){return x.packageid==id;});var countdata=[];for(var index=0;index<_preferredhotels.length;index++){var item=_preferredhotels[index];countdata.push({value:item.id,label:item.description});}setPreferredHotels(countdata);if(id==\"1\"){setIsBoatSeletion(value==\"false\"?false:true);getboatboatavailabilitybydate();setseletedboatbaseonavailability();setIsShowBoatSelection(true);}else{setIsShowBoatSelection(false);}var newdata=packagedata.map(function(item){if(item.id.toString()===id){var updatedItem=_objectSpread(_objectSpread({},item),{},{checked:true});return updatedItem;}else{var _updatedItem2=_objectSpread(_objectSpread({},item),{},{checked:false});return _updatedItem2;}return item;});setPackagedata(newdata);};var setdefaultpackage=function setdefaultpackage(){setIsBoatSeletion(false);setseletedboatbaseonavailability();};var getPackage=function getPackage(){dataservice(\"package\",{requestfor:\"getpackage\",data:{flag:\"a\"}}).then(function(data){if(data.resultkey==1){var result=data.resultvalue;var countdata=[];for(var index=0;index<result.length;index++){//\nvar d=result[index];if(d.isactive==\"1\"){if(d.id==1){var packdetail=d.description;countdata.push({id:d.id,label:packdetail,checked:true,price:d.price,isboatreq:d.isboatreq});}else{var packdetail=d.description;countdata.push({id:d.id,label:packdetail,checked:false,price:d.price,isboatreq:d.isboatreq});}}}setPackagedata(countdata);setdefaultpackage();}else{}}).catch(function(edata){notify(2,edata.toString(),1);});};/*#endregion Package  */ /*#region Boat  */var _useState51=useState([]),_useState52=_slicedToArray(_useState51,2),boatdata=_useState52[0],setBoatdata=_useState52[1];var _useState53=useState([]),_useState54=_slicedToArray(_useState53,2),boatdataarr=_useState54[0],setBoatdataarr=_useState54[1];var _useState55=useState([]),_useState56=_slicedToArray(_useState55,2),boatdataprocess=_useState56[0],setBoatDataProcess=_useState56[1];var _useState57=useState([]),_useState58=_slicedToArray(_useState57,2),selectedboatdata=_useState58[0],setSelectedBoatData=_useState58[1];var _useState59=useState(),_useState60=_slicedToArray(_useState59,2),boatstatusdata=_useState60[0],setBoatstatusdata=_useState60[1];var handleChangeOptionBC=function handleChangeOptionBC(e){// var bc = boatdata.filter(obj => obj.value === e.value);\n// setSelectedBoatData(bc);\nsetSelectedBoatData(Array.isArray(e)?e.map(function(x){return x.value;}):[]);//let bcapacityitem = boatdata.result.find(obj => obj.id === e.value);\n};var setseletedboatbaseonavailability=function setseletedboatbaseonavailability(){var countdata=[];for(var index=0;index<boatdataarr.length;index++){var d=boatdataarr[index];d[\"perusercost\"]=parseFloat(d.price)/parseFloat(d.capacity);if(d.isactive==\"1\"){if(selectedpreferredtimemorning){if(d.slotid==1){var obj={};var capdetail=d.description+\"  (capacity-\"+d.capacity+\")\"+\" (7:00 AM)\";obj={value:d.uuid,label:capdetail};countdata.push(obj);}}else{if(d.slotid==2){var obj1={};var capdetail=d.description+\"  (capacity-\"+d.capacity+\")\"+\" (12:00 PM)\";obj1={value:d.uuid,label:capdetail};countdata.push(obj1);}}}}//  setBoatdata(countdata);\n};var getboatboatavailabilitybydate=function getboatboatavailabilitybydate(){var fromdata=selectedfromdate[0]==undefined?selectedfromdate:selectedfromdate[0];dataservice(\"boat\",{requestfor:\"checkboatavailability\",data:{bookingdate:moment(fromdata).format(\"YYYY-MM-DD\")}}).then(function(data){if(data.resultkey==1){var tempdata=data.resultvalue;setBoatstatusdata(tempdata);}else{//  notify(2,\"No data found\");\n}}).catch(function(edata){notify(2,edata.toString(),1);});};var getboatdata=function getboatdata(){dataservice(\"boat\",{requestfor:\"getboatcapacity\",data:{flag:\"a\"}}).then(function(data){if(data.resultkey==1){var tempdata=data.resultvalue;debugger;var result=[];var countdata=[];for(var index=0;index<tempdata.length;index++){var element=tempdata[index];element.uuid=uuid();//     var obj={\n//       uuid:uuid(),\n//       capacity: element.capacity,\n//       description: element.description,\n//       id: element.id,\n//       isactive: \"1\",\n//       ownername: element.ownername,\n//       price: element.price,\n//       slotid: 1,\n//       status: element.status,\n//       twowayprice:element.twowayprice\n//   result.push(element);\nvar obj1={};if(element.boattype==2){obj1={value:element.uuid,label:\"  LGU Boat\",price:element.twowayprice,boattype:element.boattype};}else{obj1={value:element.uuid,label:\"  (capacity-\"+element.capacity+\")\",price:element.twowayprice,boattype:element.boattype};}countdata.push(obj1);}setBoatdataarr(tempdata);setBoatDataProcess(countdata);var filterBoat=countdata.filter(function(x){return x.boattype==1;});if(filterBoat.length>0){setIsBoatSeletionOpen(false);}else{setIsBoatSeletionOpen(true);}setBoatdata(filterBoat);//   result.push(obj);\n//   var obj1={\n//     uuid:uuid(),\n//     capacity: element.capacity,\n//     description: element.description,\n//     id: element.id,\n//     isactive: \"1\",\n//     ownername: element.ownername,\n//     price: element.price,\n//     slotid: 2,\n//     status: element.status,\n//     twowayprice:element.twowayprice\n//   }\n//   result.push(obj1);\n// }\n// setBoatdataarr(result);\n// var countdata = [];\n// for (let index = 0; index < result.length; index++) {\n//   var d = result[index];\n//   d[\"perusercost\"] = parseFloat(d.price) / parseFloat(d.capacity);\n//   if (d.isactive == \"1\") {\n//     if(d.slotid==1){\n//       var obj={};\n//       var capdetail = d.description + `  (capacity-` + d.capacity + `)`+` (7:00 AM)`;\n//       obj={ value: d.uuid, label:capdetail};\n//       countdata.push(obj)\n//     }\n//     if(d.slotid==2){\n//       var obj1={};\n//       var capdetail = d.description + `  (capacity-` + d.capacity + `)`+` (12:00 PM)`;\n//       obj1={ value: d.uuid, label:capdetail};\n//       countdata.push(obj1)\n//     }\n//   }\n// }\n// if(countdata.length>0){\n//   setIsBoatSeletionOpen(false);\n// }else{\n//   setIsBoatSeletionOpen(true);\n// }\n// setBoatdata(countdata);\n// setSelectedBoatData(countdata);\n}else{//  notify(2,\"No data found\");\n}}).catch(function(edata){notify(2,edata.toString(),1);});};/*#endregion Boat  */ /*#region hotel */var _useState61=useState([]),_useState62=_slicedToArray(_useState61,2),rawpreferredhotels=_useState62[0],setRawPreferredHotels=_useState62[1];var _useState63=useState([]),_useState64=_slicedToArray(_useState63,2),preferredhotels=_useState64[0],setPreferredHotels=_useState64[1];var _useState65=useState([]),_useState66=_slicedToArray(_useState65,2),selectedpreferredhotels=_useState66[0],setSelectedPreferredHotels=_useState66[1];var _useState67=useState([]),_useState68=_slicedToArray(_useState67,2),hotelbookingref=_useState68[0],setHotelBookingRef=_useState68[1];var handleChangeOptionPH=function handleChangeOptionPH(e){var Ph=preferredhotels.filter(function(obj){return obj.value===e.value;});setSelectedPreferredHotels(Ph);setLocalTravelInfoData(_objectSpread(_objectSpread({},localtravelinfodata),{},_defineProperty({},\"hotel\",Ph)));};var getpreferredhotels=function getpreferredhotels(){dataservice(\"hotel\",{requestfor:\"gethotel\",data:{flag:\"a\"}}).then(function(data){if(data.resultkey==1){var result=data.resultvalue;setRawPreferredHotels(result);//  ;\nvar countdata=[];//let country = [\"Caloocan\", \"Malabon\", \"Makati\", \"Manila\", \"Mandaluyong\"]\nfor(var index=0;index<result.length;index++){if(result[index].packageid==\"1\"){var item=result[index];countdata.push({value:item.id,label:item.description});}}setPreferredHotels(countdata);}else{//  notify(2,\"No data found\");\n}}).catch(function(edata){//   ;\nnotify(2,edata.toString(),1);});};/*#endregion hotel  */ /*#region vehicle */var _useState69=useState([]),_useState70=_slicedToArray(_useState69,2),vehicleselectdata=_useState70[0],setVehicleSelectData=_useState70[1];var _useState71=useState([]),_useState72=_slicedToArray(_useState71,2),selectedvehicle=_useState72[0],setSelectedVehicle=_useState72[1];var _useState73=useState([]),_useState74=_slicedToArray(_useState73,2),vehicledata=_useState74[0],setvehiclearray=_useState74[1];var _useState75=useState([]),_useState76=_slicedToArray(_useState75,2),vehiclegriddata=_useState76[0],setVehicleGridData=_useState76[1];var _useState77=useState(),_useState78=_slicedToArray(_useState77,2),selvehiclefordelete=_useState78[0],setSelectevehiclefordelet=_useState78[1];var _useState79=useState([]),_useState80=_slicedToArray(_useState79,2),vehicleqty=_useState80[0],setVehicleQty=_useState80[1];var _useState81=useState({fromdate:\"\",todate:\"\",timeslot:\"\",package:\"\",hotel:\"\",isboatproviderbyresort:false,vehicle:\"\",numberoofguest:0,ETAF:0,Bracelet:0,totalcharge:0,islandhoppingamt:0}),_useState82=_slicedToArray(_useState81,2),bookingdetail=_useState82[0],setBookingDetail=_useState82[1];var columns=[{name:\"Vehicle\",selector:\"typeofvehicle\",sortable:true},{name:\"Qty\",selector:\"qty\",sortable:true},{name:\"Total Charge\",selector:\"amount\",sortable:true},{name:\"Action\",selector:\"action\",ignoreRowClick:true,cell:function cell(row){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(CIcon,{name:\"cil-pencil\",onClick:function onClick(){editdata(row);},className:\"mfe-2 custcusrsor\"}),\" \",/*#__PURE__*/_jsx(CIcon,{name:\"cil-trash\",onClick:function onClick(){setSelectevehiclefordelet(row);},className:\"mfe-2 custcusrsor\"}),\" \"]});}}];var data=[];var _useState83=useState({columns:columns,data:data}),_useState84=_slicedToArray(_useState83,2),vgridata=_useState84[0],setvgriddata=_useState84[1];var editdata=function editdata(row,e){setIsUpdateVehicle(true);setVehicleQty(row.qty);console.log(row);var vh=[{label:row.typeofvehicle,value:row.id}];setSelectedVehicle(vh);};var handleChangeVehicle=function handleChangeVehicle(e){var vh=vehicleselectdata.filter(function(obj){return obj.value===e.value;});setSelectedVehicle(vh);};var handleChangevehicleqty=function handleChangevehicleqty(index){return function(e){console.log(\"index: \"+index);console.log(\"property name: \"+e.target.value);var _convertedval=isNaN(parseFloat(e.target.value));var newArr=_toConsumableArray(vehicledata);// copying the old datas array\nnewArr[index].qty=isNaN(parseFloat(e.target.value))==false?parseFloat(e.target.value):0;// replace e.target.value with whatever you want to change it to\nsetvehiclearray(newArr);// ??\n// updatevehicleprice();\nrecaltotal();};};var updatevehicleprice=function updatevehicleprice(){var todata=selectedtodate[0]==undefined?selectedtodate:selectedtodate[0];var fromdata=selectedfromdate[0]==undefined?selectedfromdate:selectedfromdate[0];var diffTime=Math.abs(todata-fromdata);// const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24))+1;\nvar diffDays=Math.ceil(diffTime/(1000*60*60*24));if(diffDays==0||diffDays==1){diffDays=1;}var tamount=0;if(vehicledata.length>0){var newdata=[];var _loop=function _loop(index){var velement=vehicledata[index];data=vehicleselectdata.map(function(item){if(item.id===velement.id){var updatedItem=_objectSpread(_objectSpread({},item),{},{amount:parseFloat(velement.unitprice)*diffDays*velement.qty});return updatedItem;}return item;});filterdata=data.filter(function(x){return x.id==velement.id;});if(filterdata.length>0){newdata.push(filterdata[0]);}};for(var index=0;index<vehicleselectdata.length;index++){var data;var filterdata;_loop(index);}if(newdata.length>0){setvgriddata(_objectSpread(_objectSpread({},vgridata),{},_defineProperty({},\"data\",newdata)));}}if(Array.isArray(localtravelinfodata)){}else{var totalamount=0;for(var _index=0;_index<localtravelinfodata.fees.length;_index++){var element=localtravelinfodata.fees[_index];if(element.id==5){element.amount=tamount;}}setLocalTravelInfoData(_objectSpread(_objectSpread({},localtravelinfodata),{},_defineProperty({},\"fees\",localtravelinfodata.fees)));}};var addvehicle=function addvehicle(){if(selectedvehicle.length>0&&vehicleqty!=\"\"){var todata=selectedtodate[0]==undefined?selectedtodate:selectedtodate[0];var fromdata=selectedfromdate[0]==undefined?selectedfromdate:selectedfromdate[0];var diffTime=Math.abs(todata-fromdata);//const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24))+1;\nvar diffDays=Math.ceil(diffTime/(1000*60*60*24));if(diffDays==0||diffDays==1){diffDays=1;}var _obj=vehicledata.filter(function(x){return x.id==selectedvehicle[0].value;});var _objdata;if(_obj.length>0){if(vgridata.data.length>0){var filtervh=vgridata.data.filter(function(x){return x.id==_obj[0].id;});if(isupdatevehicle){var tamount=_obj[0].amount*vehicleqty*diffDays;_objdata={typeofvehicle:_obj[0].typeofvehicle,qty:vehicleqty,id:_obj[0].id,unitprice:_obj[0].amount,amount:tamount};var newdata=vgridata[\"data\"].map(function(item){if(item.id===_obj[0].id){var updatedItem=_objectSpread(_objectSpread({},item),{},{amount:tamount,qty:vehicleqty});return updatedItem;}return item;});setvgriddata(_objectSpread(_objectSpread({},vgridata),{},_defineProperty({},\"data\",newdata)));}else{if(filtervh.length>0){notify(3,\"Vehicle Already exist!\");}else{var tamount=_obj[0].amount*vehicleqty*diffDays;_objdata={typeofvehicle:_obj[0].typeofvehicle,qty:vehicleqty,id:_obj[0].id,unitprice:_obj[0].amount,amount:tamount};setvgriddata(_objectSpread(_objectSpread({},vgridata),{},_defineProperty({},\"data\",[].concat(_toConsumableArray(vgridata.data),[_objdata]))));}}}else{var tamount=_obj[0].amount*vehicleqty*diffDays;_objdata={typeofvehicle:_obj[0].typeofvehicle,qty:vehicleqty,id:_obj[0].id,unitprice:_obj[0].amount,amount:tamount};setvgriddata(_objectSpread(_objectSpread({},vgridata),{},_defineProperty({},\"data\",[].concat(_toConsumableArray(vgridata.data),[_objdata]))));}setVehicleQty(\"\");setIsUpdateVehicle(false);}}};var getvehicles=function getvehicles(){//\ndataservice(\"vehicle\",{requestfor:\"getvehicle\",data:{flag:\"a\"}}).then(function(data){if(data.resultkey==1){var result=data.resultvalue;var countdata=[];//let country = [\"Caloocan\", \"Malabon\", \"Makati\", \"Manila\", \"Mandaluyong\"]\nfor(var index=0;index<result.length;index++){//\nvar item=result[index];countdata.push({value:item.id,label:item.typeofvehicle});if(countdata.length===1){// setSelectedvehicle(item.id);\n}}setVehicleSelectData(countdata);for(var _index2=0;_index2<result.length;_index2++){var element=result[_index2];element.qty=0;}setvehiclearray(result);}else{//  notify(2,\"No data found\");\n}}).catch(function(edata){notify(2,edata.toString(),1);});};/*#endregion vehicle */ /*#region slot  */var _useState85=useState([]),_useState86=_slicedToArray(_useState85,2),slotdate=_useState86[0],setSlotdate=_useState86[1];var getslotdata=function getslotdata(){dataservice(\"slots\",{requestfor:\"getslots\",data:{flag:\"a\"}}).then(function(data){debugger;if(data.resultkey==1){var tempdata=data.resultvalue;var countdata=[];for(var index=0;index<tempdata.length;index++){countdata.push({value:tempdata[index].id,label:tempdata[index].description,boattype:tempdata[index].boattype});}setRawTimeSlot(countdata);var filtertimeslot=countdata.filter(function(x){return x.boattype==1;});setTimeSlot(filtertimeslot);//document.write( dt );\n// setSelectedBoatData(countdata);\n}else{//  notify(2,\"No data found\");\n}}).catch(function(edata){notify(2,edata.toString(),1);});};/*#endregion slot */ /*#region useeffect  */useEffect(function(){var ss=gacc;getBoatType();getboatboatavailabilitybydate();getnumberofguest();setLocalTravelInfoData.apply(void 0,_toConsumableArray(localtravelinfodata).concat([traveldata.data]));setIsGuest(traveldata.data);getPackage();getboatdata();getpreferredhotels();getvehicles();getCitizenship();getCountry();getProvince();getMunicipalities();getGender();getslotdata();getfees();},[]);useEffect(function(){if(boatstatusdata!=undefined){}},[boatstatusdata]);useEffect(function(){setseletedboatbaseonavailability();},[selectedpreferredtimemorning]);useEffect(function(){if(selectednumberguest!=\"\"){var _objectSpread8;var guestdata=[];//\nfor(var index=0;index<selectednumberguest;index++){if(index==0){var defaultguest={Firstname:\"\",Middlename:\"\",Lastname:\"\",DOB:new Date(),Citizenship:\"\",CountryofOrigin:\"\",Province:\"\",Municipality:\"\",Gender:0,Address:\"\",Mobilenumber:\"\",emailid:\"\",ismaubancitizen:false,filedata:\"\",fileid:uuid(),isactive:true,newfilename:\"\",oldfilename:\"\",isprimary:true,isdiscountapplied:false,discountedamt:0,discountinfo:[],isreturningguest:false,isguestvaildated:false,isrentbracelet:false,braceletavailable:false,isLandHopping:false};guestdata.push(defaultguest);}else{var defaultguest={Firstname:\"\",Middlename:\"\",Lastname:\"\",DOB:new Date(),Citizenship:\"\",CountryofOrigin:\"\",Province:\"\",Municipality:\"\",Gender:0,Address:\"\",Mobilenumber:\"\",emailid:\"\",ismaubancitizen:false,filedata:\"\",fileid:uuid(),isactive:true,newfilename:\"\",oldfilename:\"\",isprimary:false,isdiscountapplied:false,discountedamt:0,discountinfo:[],isreturningguest:false,isguestvaildated:false,isrentbracelet:false,braceletavailable:false,isLandHopping:false};guestdata.push(defaultguest);}}// setLocalTravelInfoData({...localtravelinfodata, [\"guestinfo\"]: guestdata})\nsetLocalTravelInfoData(_objectSpread(_objectSpread({},localtravelinfodata),{},(_objectSpread8={},_defineProperty(_objectSpread8,\"numberofguest\",selectednumberguest),_defineProperty(_objectSpread8,\"guestinfo\",guestdata),_objectSpread8)));recaltotal();}},[selectednumberguest]);useEffect(function(){if(Array.isArray(localtravelinfodata)){}else{var totalamount=0;if(localtravelinfodata!=undefined){recaltotal();}}},[localtravelinfodata]);useEffect(function(){if(packagedata.length>0){var filterpck=packagedata.filter(function(x){return x.checked==true;});setLocalTravelInfoData(_objectSpread(_objectSpread({},localtravelinfodata),{},_defineProperty({},\"package\",filterpck)));if(filterpck.length>0){for(var index=0;index<localtravelinfodata.fees.length;index++){var element=localtravelinfodata.fees[index];if(element.id==3){var amountvalue=0;for(var fp=0;fp<filterpck.length;fp++){var fpelement=filterpck[fp];amountvalue=amountvalue+parseFloat(fpelement.price);}element.amount=amountvalue;}}}else{for(var _index3=0;_index3<localtravelinfodata.fees.length;_index3++){var element=localtravelinfodata.fees[_index3];if(element.id==3){element.amount=0;}}}recaltotal();}},[packagedata]);useEffect(function(){if(selectedboatdata.length>0){// var bc = boatdata.filter(obj => obj.value === selectedboatdata);\nvar selectedboats=[];var _loop2=function _loop2(index){var element=selectedboatdata[index];filterdata=boatdataarr.filter(function(x){return x.uuid==element;});if(filterdata.length>0){selectedboats.push(filterdata[0]);}};for(var index=0;index<selectedboatdata.length;index++){var filterdata;_loop2(index);}for(var _index4=0;_index4<localtravelinfodata.fees.length;_index4++){var element=localtravelinfodata.fees[_index4];if(element.id==2){var amountvalue=0;for(var bp=0;bp<selectedboatdata.length;bp++){var bpelement=selectedboatdata[bp];var filterdata=boatdataarr.filter(function(x){return x.uuid==bpelement;});if(filterdata.length>0){amountvalue=amountvalue+parseFloat(filterdata[0].twowayprice);}}element.amount=amountvalue;}}setLocalTravelInfoData(_objectSpread(_objectSpread({},localtravelinfodata),{},_defineProperty({},\"boatinfo\",selectedboats)));}else{if(Array.isArray(localtravelinfodata)){}else{if(localtravelinfodata.fees.length>0){for(var _index5=0;_index5<localtravelinfodata.fees.length;_index5++){var element=localtravelinfodata.fees[_index5];if(element.id==2){element.amount=0;}}setLocalTravelInfoData(_objectSpread(_objectSpread({},localtravelinfodata),{},_defineProperty({},\"boatinfo\",[])));}}}recaltotal();},[selectedboatdata]);useEffect(function(){if(boatdataarr.length>0){setseletedboatbaseonavailability();}},[boatdataarr]);useEffect(function(){if(vgridata.data.length>0){// var bc = boatdata.filter(obj => obj.value === selectedboatdata);\nsetLocalTravelInfoData(_objectSpread(_objectSpread({},localtravelinfodata),{},_defineProperty({},\"vehicle\",vgridata.data)));for(var index=0;index<localtravelinfodata.fees.length;index++){var element=localtravelinfodata.fees[index];if(element.id==5){var amountvalue=0;for(var fp=0;fp<vgridata.data.length;fp++){var fpelement=vgridata.data[fp];amountvalue=amountvalue+parseFloat(fpelement.amount);}element.amount=amountvalue;}}}else{if(Array.isArray(localtravelinfodata)){}else{for(var _index6=0;_index6<localtravelinfodata.fees.length;_index6++){var element=localtravelinfodata.fees[_index6];if(element.id==5){element.amount=0;}}recaltotal();}}},[vgridata===null||vgridata===void 0?void 0:vgridata.data]);useEffect(function(){if(selvehiclefordelete!=undefined){if(vgridata.data.length>0){var updateddata=vgridata.data.filter(function(x){return x.id!==selvehiclefordelete.id;});setvgriddata(_objectSpread(_objectSpread({},vgridata),{},_defineProperty({},\"data\",updateddata)));for(var index=0;index<localtravelinfodata.fees.length;index++){var element=localtravelinfodata.fees[index];if(element.id==5){var amountvalue=0;for(var fp=0;fp<updateddata.length;fp++){var fpelement=vgridata.data[fp];amountvalue=amountvalue+parseFloat(fpelement.amount);}element.amount=amountvalue;}}}//\nrecaltotal();//setLocalTravelInfoData({...localtravelinfodata, [\"boatinfo\"]:selectedboats});\n}},[selvehiclefordelete]);useEffect(function(){if(Array.isArray(localtravelinfodata)){}else{setgacc(localtravelinfodata);}},[localtravelinfodata]);useEffect(function(){updatevehicleprice();},[selectedfromdate]);useEffect(function(){updatevehicleprice();},[selectedtodate]);useEffect(function(){if(filedata.length>0){}},[filedata]);/*#endregion useeffect */var backaction=function backaction(){setLocalTravelInfoData(_objectSpread(_objectSpread({},localtravelinfodata),{},_defineProperty({},\"isguest\",false)));if(localtravelinfodata.package[0].id!=\"1\"){setIsVehicle(!isvehicle);}};var backtomainaction=function backtomainaction(){;setIsVehicle(!isvehicle);};var getGender=function getGender(){var countdata=[];var country=[\"Male\",\"Female\",\"Other\"];for(var index=0;index<3;index++){countdata.push({value:index,label:country[index]});}setGender(countdata);};var nextotguest=function nextotguest(){if(validationmainscreen()){setaction();setIsVehicle(!isvehicle);}};var checkvehiclerequire=function checkvehiclerequire(){//for cagbalete check vehicle\nif(localtravelinfodata.package[0].id==\"1\"){if(isvehicle==true){if(selectednumberguest>1&&localtravelinfodata.parkingnotreq==false){var selveh=vehicledata.filter(function(x){return x.qty!=0;});if(selveh.length>0){}else{notify(2,\"Please add vehicle\");return;}}setActivePosition(0);for(var index=0;index<localtravelinfodata[\"guestinfo\"].length;index++){localtravelinfodata[\"guestinfo\"][index].DOB=new Date(localtravelinfodata[\"guestinfo\"][index].DOB);}setGuestArr(localtravelinfodata[\"guestinfo\"][0]);setLocalTravelInfoData(_objectSpread(_objectSpread({},localtravelinfodata),{},_defineProperty({},\"isguest\",true)));setSelectedDOB(localtravelinfodata[\"guestinfo\"][0].DOB);localtravelinfodata[\"guestinfo\"][0][\"Citizenship\"]=citizenship[0].value;setSelectedCS(citizenship[0].value);localtravelinfodata[\"guestinfo\"][0][\"CountryofOrigin\"]=country[0].value;setSelectedCOO(country[0].value);var provincearr=RawProvince.filter(function(x){return x.countryid==country[0].value;});localtravelinfodata[\"guestinfo\"][0][\"Gender\"]=0;setSelectedGender(0);if(provincearr.length>0){var provincedata=getdropdownarr(provincearr);setProvince(provincedata);var _defaultprovince=provincedata.filter(function(x){return x.value==81;});var _deafultmunicipality;var Municipalityarr=RawMunicipality.filter(function(x){return x.provinceid==81;});if(Municipalityarr.length>0){var municipalitydata=getdropdownarr(Municipalityarr);setMunicipality(municipalitydata);_deafultmunicipality=municipalitydata.filter(function(x){return x.value==1968;});}for(var _index7=0;_index7<localtravelinfodata[\"guestinfo\"].length;_index7++){localtravelinfodata[\"guestinfo\"][_index7][\"Province\"]=_defaultprovince[0].value;localtravelinfodata[\"guestinfo\"][_index7][\"Municipality\"]=_deafultmunicipality[0].value;setSelectedProvince(_defaultprovince[0].value);setSelectedMunicipality(_deafultmunicipality[0].value);}}}}else{setActivePosition(0);for(var _index8=0;_index8<localtravelinfodata[\"guestinfo\"].length;_index8++){localtravelinfodata[\"guestinfo\"][_index8].DOB=new Date(localtravelinfodata[\"guestinfo\"][_index8].DOB);}setGuestArr(localtravelinfodata[\"guestinfo\"][0]);setLocalTravelInfoData(_objectSpread(_objectSpread({},localtravelinfodata),{},_defineProperty({},\"isguest\",true)));setSelectedDOB(localtravelinfodata[\"guestinfo\"][0].DOB);localtravelinfodata[\"guestinfo\"][0][\"Citizenship\"]=citizenship[0].value;setSelectedCS(citizenship[0].value);localtravelinfodata[\"guestinfo\"][0][\"CountryofOrigin\"]=country[0].value;setSelectedCOO(country[0].value);var provincearr=RawProvince.filter(function(x){return x.countryid==country[0].value;});localtravelinfodata[\"guestinfo\"][0][\"Gender\"]=0;setSelectedGender(0);if(provincearr.length>0){var provincedata=getdropdownarr(provincearr);setProvince(provincedata);var _defaultprovince=provincedata.filter(function(x){return x.value==81;});var _deafultmunicipality;var Municipalityarr=RawMunicipality.filter(function(x){return x.provinceid==81;});if(Municipalityarr.length>0){var municipalitydata=getdropdownarr(Municipalityarr);setMunicipality(municipalitydata);_deafultmunicipality=municipalitydata.filter(function(x){return x.value==1968;});}for(var _index9=0;_index9<localtravelinfodata[\"guestinfo\"].length;_index9++){localtravelinfodata[\"guestinfo\"][_index9][\"Province\"]=_defaultprovince[0].value;localtravelinfodata[\"guestinfo\"][_index9][\"Municipality\"]=_deafultmunicipality[0].value;setSelectedProvince(_defaultprovince[0].value);setSelectedMunicipality(_deafultmunicipality[0].value);}}}setTimeout(function(){setselectguest(0);},1000);};var setaction=function setaction(){if(validationmainscreen()){if(localtravelinfodata.isguest==true){var touristinfodata=localtravelinfodata[\"guestinfo\"];var seltimeslot=timeslot.filter(function(x){return x.value==selectedtimeslot;});var val=Math.floor(1000+Math.random()*9000);var todata=selectedtodate[0]==undefined?selectedtodate:selectedtodate[0];var fromdata=selectedfromdate[0]==undefined?selectedfromdate:selectedfromdate[0];var Difference_In_Time=todata-fromdata;var Difference_In_Days=Math.floor(Difference_In_Time/(1000*3600*24));var totalvehicleingrid=0;if(vgridata.data){for(var i=0;i<vgridata.data.length;i++){totalvehicleingrid=totalvehicleingrid+vgridata.data[i].qty;}}var _guestinfotosave=[];for(var index=0;index<localtravelinfodata.guestinfo.length;index++){var element=localtravelinfodata.guestinfo[index];_guestinfotosave.push(element);}var setvehicle=vehicledata.filter(function(x){return parseFloat(x.qty)>0;});var finalvehicle=[];if(setvehicle.length>0){var todata=selectedtodate[0]==undefined?selectedtodate:selectedtodate[0];var fromdata=selectedfromdate[0]==undefined?selectedfromdate:selectedfromdate[0];var diffTime=Math.abs(todata-fromdata);//  const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24))+1;\nvar diffDays=Math.ceil(diffTime/(1000*60*60*24));if(diffDays==0||diffDays==1){diffDays=1;}for(var _index10=0;_index10<setvehicle.length;_index10++){var parkele=setvehicle[_index10];var cost=parseFloat(parkele.qty)*parseFloat(parkele.amount);parkele.totalcost=cost*diffDays;}for(var _index11=0;_index11<setvehicle.length;_index11++){var finalelement=setvehicle[_index11];if(finalelement.qty>1){// let newArr = [...finalelement];\nfor(var _index12=0;_index12<finalelement.qty;_index12++){finalelement.uuid=uuid();finalvehicle.push(finalelement);}}else{finalelement.uuid=uuid();finalvehicle.push(finalelement);}}}var veh=\"\";if(finalvehicle.length>0){for(var _index13=0;_index13<finalvehicle.length;_index13++){var _element=finalvehicle[_index13];veh=veh+\"(\"+_element.typeofvehicle+\" - \"+_element.qty+\" ),\";}}if(veh.length>0){veh=veh.substring(0,veh.length-1);}var boatcap=\"\";if(localtravelinfodata.boatinfo.length>0){for(var _index14=0;_index14<localtravelinfodata.boatinfo.length;_index14++){var _element2=localtravelinfodata.boatinfo[_index14];boatcap=boatcap+\"(Capacity- \"+_element2.capacity+\" ),\";}}if(boatcap.length>0){boatcap=boatcap.substring(0,boatcap.length-1);}var islandhopper=touristinfodata.filter(function(x){return x.isLandHopping==true;}).length;setBookingDetail({fromdate:moment(selectedfromdate[0]==undefined?selectedfromdate:selectedfromdate[0]).format(\"MMM-DD-YYYY\"),todate:moment(selectedtodate[0]==undefined?selectedtodate:selectedtodate[0]).format(\"MMM-DD-YYYY\"),timeslot:seltimeslot.length>0?seltimeslot[0].label:\"\",boatcapcity:boatcap,package:localtravelinfodata.package[0].label,hotel:localtravelinfodata.hotel.length>0?localtravelinfodata.hotel[0].label:\"\",isboatproviderbyresort:ishotelprovideboat,vehicle:veh,numberoofguest:localtravelinfodata.numberofguest,ETAF:localtravelinfodata.fees[0].amount,totalcharge:localtravelinfodata.fees[8].amount,Bracelet:localtravelinfodata.fees[1].amount,islandhoppingamt:localtravelinfodata.fees[4].amount*islandhopper});if(vaildationbeforepay()){setIsConfirmBooking(!isconfirmbooking);}// Savedata();\n}else{checkvehiclerequire();}}};var validationmainscreen=function validationmainscreen(){var result=true;if(localtravelinfodata.numberofguest==\"\"){notify(2,\"Please select number of guest\");return false;}else if(localtravelinfodata.package.length<=0){notify(2,\"Please select package\");return false;}else{var iscagselected=false;for(var index=0;index<localtravelinfodata.package.length;index++){var element=localtravelinfodata.package[index];if(element.id==1){iscagselected=true;break;}}if(iscagselected){if(localtravelinfodata.boatinfo.length<=0&&ishotelprovideboat==false){notify(2,\"Please select boat\");return false;}else{var _cap=0;for(var bi=0;bi<localtravelinfodata.boatinfo.length;bi++){var _element3=localtravelinfodata.boatinfo[bi];_cap+=parseFloat(_element3.capacity);}if(selectednumberguest>_cap&&ishotelprovideboat==false){notify(2,\"number of guest not match with boat capacity,Please select boat!\");return false;}}}if(selectedpreferredhotels.length<=0){notify(2,\"Please select resort !\");return false;}if(hotelbookingref==\"\"){notify(2,\"Please enter hotel booking refrence number.\");return false;}}return result;};var getdropdownarr=function getdropdownarr(result){var countdata=[];//let country = [\"Caloocan\", \"Malabon\", \"Makati\", \"Manila\", \"Mandaluyong\"]\nfor(var index=0;index<result.length;index++){var item=result[index];countdata.push({value:item.id,label:item.description});}return countdata;};/*#region guest detail  */var _useState87=useState([]),_useState88=_slicedToArray(_useState87,2),guestarr=_useState88[0],setGuestArr=_useState88[1];var _useState89=useState([]),_useState90=_slicedToArray(_useState89,2),selecteddob=_useState90[0],setSelectedDOB=_useState90[1];var _useState91=useState([]),_useState92=_slicedToArray(_useState91,2),citizenship=_useState92[0],setCitizenship=_useState92[1];var _useState93=useState([]),_useState94=_slicedToArray(_useState93,2),selectedCS=_useState94[0],setSelectedCS=_useState94[1];var _useState95=useState([]),_useState96=_slicedToArray(_useState95,2),RawProvince=_useState96[0],setRawProvince=_useState96[1];var _useState97=useState([]),_useState98=_slicedToArray(_useState97,2),RawMunicipality=_useState98[0],setRawMunicipality=_useState98[1];var _useState99=useState([]),_useState100=_slicedToArray(_useState99,2),Province=_useState100[0],setProvince=_useState100[1];var _useState101=useState([]),_useState102=_slicedToArray(_useState101,2),Municipality=_useState102[0],setMunicipality=_useState102[1];var _useState103=useState(\"\"),_useState104=_slicedToArray(_useState103,2),selectedProvince=_useState104[0],setSelectedProvince=_useState104[1];var _useState105=useState([]),_useState106=_slicedToArray(_useState105,2),selectedMunicipality=_useState106[0],setSelectedMunicipality=_useState106[1];var _useState107=useState([]),_useState108=_slicedToArray(_useState107,2),Gender=_useState108[0],setGender=_useState108[1];var _useState109=useState([]),_useState110=_slicedToArray(_useState109,2),country=_useState110[0],setCountry=_useState110[1];var _useState111=useState([]),_useState112=_slicedToArray(_useState111,2),selectedCOO=_useState112[0],setSelectedCOO=_useState112[1];var _useState113=useState([]),_useState114=_slicedToArray(_useState113,2),selectedGender=_useState114[0],setSelectedGender=_useState114[1];var _useState115=useState(false),_useState116=_slicedToArray(_useState115,2),isprocessing=_useState116[0],setIsProcessing=_useState116[1];var _useState117=useState(false),_useState118=_slicedToArray(_useState117,2),isvaildatereturnprocessing=_useState118[0],setIsVaildatereturnProcessing=_useState118[1];var _useState119=useState(\"\"),_useState120=_slicedToArray(_useState119,2),vaildatereturnmsg=_useState120[0],setVaildateReturnmsg=_useState120[1];var getCitizenship=function getCitizenship(){dataservice(\"citizenship\",{requestfor:\"getcitizenship\",data:{flag:\"a\"}}).then(function(data){if(data.resultkey==1){var result=data.resultvalue;var countdata=[];//let country = [\"Caloocan\", \"Malabon\", \"Makati\", \"Manila\", \"Mandaluyong\"]\nfor(var index=0;index<result.length;index++){//\nvar item=result[index];countdata.push({value:item.id,label:item.description});}setCitizenship(countdata);}else{//  notify(2,\"No data found\");\n}}).catch(function(edata){notify(2,edata.toString(),1);});};var getCountry=function getCountry(){dataservice(\"country\",{requestfor:\"getcountry\",data:{flag:\"a\"}}).then(function(data){if(data.resultkey==1){var result=data.resultvalue;var countdata=[];//let country = [\"Caloocan\", \"Malabon\", \"Makati\", \"Manila\", \"Mandaluyong\"]\n// countdata.push({ value: \"-1\", label: \"Select Country\" })\nfor(var index=0;index<result.length;index++){//\nvar item=result[index];countdata.push({value:item.id,label:item.description});}setCountry(countdata);}else{//  notify(2,\"No data found\");\n}}).catch(function(edata){notify(2,edata.toString(),1);});};var getProvince=function getProvince(){dataservice(\"province\",{requestfor:\"getprovince\",data:{flag:\"a\"}}).then(function(data){if(data.resultkey==1){var result=data.resultvalue;setRawProvince(result);//setProvince(countdata);\n}else{//  notify(2,\"No data found\");\n}}).catch(function(edata){notify(2,edata.toString(),1);});};var getMunicipalities=function getMunicipalities(){dataservice(\"municipality\",{requestfor:\"getmunicipality\",data:{flag:\"a\"}}).then(function(data){if(data.resultkey==1){var result=data.resultvalue;var countdata=[];//let country = [\"Caloocan\", \"Malabon\", \"Makati\", \"Manila\", \"Mandaluyong\"]\nfor(var index=0;index<result.length;index++){//\nvar item=result[index];countdata.push({value:item.id,label:item.description});if(countdata.length===1){setSelectedMunicipality(item.id);}}// setMunicipality(countdata);\nsetRawMunicipality(result);}else{//  notify(2,\"No data found\");\n}}).catch(function(edata){notify(2,edata.toString(),1);});};var setselectguest=function setselectguest(position){setActivePosition(position);var guestinfo=localtravelinfodata.guestinfo[position];setSelectedGender(guestinfo[\"Gender\"]);setGuestArr(guestinfo);if(guestinfo[\"DOB\"]!=\"\"){setSelectedDOB(new Date(guestinfo[\"DOB\"]));}else{guestinfo[\"DOB\"]=new Date();setSelectedDOB(new Date());}if(guestinfo[\"Citizenship\"]!=\"\"){setSelectedCS(guestinfo[\"Citizenship\"]);}else{guestinfo[\"Citizenship\"]=citizenship[0].value;setSelectedCS(citizenship[0].value);}if(guestinfo[\"CountryofOrigin\"]!=\"\"){setSelectedCOO(guestinfo[\"CountryofOrigin\"]);}else{guestinfo[\"CountryofOrigin\"]=country[0].value;setSelectedCOO(country[0].value);}if(guestinfo[\"Province\"]!=\"\"){setSelectedProvince(guestinfo[\"Province\"]);}else{guestinfo[\"Province\"]=81;setSelectedProvince(81);}if(guestinfo[\"Municipality\"]!=\"\"){setSelectedMunicipality(guestinfo[\"Municipality\"]);}else{//  setSelectedMunicipality([]);\nguestinfo[\"Municipality\"]=1968;setSelectedMunicipality(1968);}};var handleChangeCOO=function handleChangeCOO(e){if(e.value==2){var guestinfo=localtravelinfodata.guestinfo[guestactivepostion];if(guestinfo[\"Province\"]!=\"\"){setSelectedProvince(guestinfo[\"Province\"]);}else{guestinfo[\"Province\"]=81;// setSelectedProvince(Province[0].value);\nsetSelectedProvince(81);}if(guestinfo[\"Municipality\"]!=\"\"){setSelectedMunicipality(guestinfo[\"Municipality\"]);}else{guestinfo[\"Municipality\"]=1968;setSelectedMunicipality(1968);}}else{setSelectedMunicipality([]);setSelectedProvince([]);}setSelectedCOO(e.value);if(localtravelinfodata[\"guestinfo\"].length>0){localtravelinfodata[\"guestinfo\"][guestactivepostion][\"CountryofOrigin\"]=e.value;}};var handleChangeCS=function handleChangeCS(e){setSelectedCS(e.value);};var handleChangeOptionMunicipality=function handleChangeOptionMunicipality(e){setSelectedMunicipality(e.value);if(localtravelinfodata[\"guestinfo\"].length>0){localtravelinfodata[\"guestinfo\"][guestactivepostion][\"Municipality\"]=e.value;}};var handleChangeOptionProvince=function handleChangeOptionProvince(e){setSelectedProvince(e.value);};var handleChange=function handleChange(e){console.log(e);var _e$target3=e.target,id=_e$target3.id,value=_e$target3.value;var guestinfo=localtravelinfodata.guestinfo[guestactivepostion];if(e.target.type===\"file\"){//guestarr[guestactivepostion][id] = e.target.files[0];\n//  setGuestArr({ ...guestarr, [id]: e.target.files[0] });\nlocaltravelinfodata[\"guestinfo\"][guestactivepostion][id]=e.target.files[0];setGuestArr(_objectSpread(_objectSpread({},guestarr),{},_defineProperty({},id,e.target.files[0])));}else if(e.target.type===\"checkbox\"){if(id==\"ismaubancitizen\"){if(e.target.checked){localtravelinfodata.fees[6].amount=localtravelinfodata.fees[6].amount+-1*localtravelinfodata.fees[0].amount;}else{localtravelinfodata.fees[6].amount=localtravelinfodata.fees[6].amount- -1*localtravelinfodata.fees[0].amount;}}else if(id==\"isreturningguest\"){localtravelinfodata[\"guestinfo\"][guestactivepostion].isguestvaildated=false;localtravelinfodata[\"guestinfo\"][guestactivepostion].emailid=\"\";localtravelinfodata[\"guestinfo\"][guestactivepostion].Address=\"\";localtravelinfodata[\"guestinfo\"][guestactivepostion].Mobilenumber=\"\";guestarr.isguestvaildated=false;guestarr.emailid=\"\";guestarr.Address=\"\";guestarr.Mobilenumber=\"\";if(e.target.checked){setReturnGuestMsg(\"Please Fill-in your Firstname, Lastname, gender and birthday to Validate!\");}else{setReturnGuestMsg(\"\");}}else if(id==\"parkingnotreq\"){localtravelinfodata.parkingnotreq=e.target.checked;if(e.target.checked){localtravelinfodata.fees[4].amount=0;for(var i=0;i<vehicledata.length;i++){var element=vehicledata[i];element.qty=0;}}setLocalTravelInfoData(_objectSpread(_objectSpread({},localtravelinfodata),{},_defineProperty({},\"parkingnotreq\",e.target.checked)));}else if(id==\"isrentbracelet\"){if(e.target.checked){localtravelinfodata[\"guestinfo\"][guestactivepostion].braceletavailable=false;guestarr.braceletavailable=false;}//else{\n//   localtravelinfodata[\"guestinfo\"][guestactivepostion][\"braceletavailable\"]=false;\n// }\n}else if(id==\"braceletavailable\"){if(e.target.checked){localtravelinfodata[\"guestinfo\"][guestactivepostion].isrentbracelet=false;guestarr.isrentbracelet=false;// }else{\n}}else if(id==\"isLandHopping\"){if(e.target.checked){localtravelinfodata[\"guestinfo\"][guestactivepostion].isLandHopping=false;guestarr.isLandHopping=false;}}if(id!=\"parkingnotreq\"){localtravelinfodata[\"guestinfo\"][guestactivepostion][id]=e.target.checked;setGuestArr(_objectSpread(_objectSpread({},guestarr),{},_defineProperty({},id,e.target.checked)));}}else{//setguestarr({...guestarr, [id]: value });\n// guestarr[guestactivepostion][id] = value;\n//setVehiclesData({ ...guestarr, guestarr });\nif(id==\"hotelbookingref\"){localtravelinfodata[\"hotelbookingref\"]=value;setHotelBookingRef(value);}else{setGuestArr(_objectSpread(_objectSpread({},guestarr),{},_defineProperty({},id,value)));guestinfo[id]=value;}}recaltotal();};var onChangeDateOfBirth=function onChangeDateOfBirth(e){var dob=e;//var ndob = moment(e).format(\"YYYY-MM-DD\");\n//setDOB(ndob);\nvar today=new Date();var age=Math.floor((today-dob)/(365.25*24*60*60*1000));var guestinfo=localtravelinfodata.guestinfo[guestactivepostion];guestinfo[\"DOB\"]=moment(dob).format(\"YYYY-MM-DD\");setSelectedDOB(dob);recaltotal();};var recaltotal=function recaltotal(){var totalamt=0;if(Array.isArray(localtravelinfodata)){}else{var _loop3=function _loop3(t){//    ;\nvar element=localtravelinfodata.fees[t];var feevals=[];if(feesdata.data!=undefined){if(feesdata.data.length>0){feevals=feesdata.data.filter(function(x){return parseInt(x.id)==element.id;});}}switch(element.id){case 1://Environment\nnumofguest=0;for(var index=0;index<localtravelinfodata.guestinfo.length;index++){if(!localtravelinfodata.guestinfo[index].isguestvaildated){numofguest=numofguest+1;}}amt=element.amount;selectedpck=packagedata.filter(function(x){return x.checked==true;});if(selectedpck.length>0){if(selectedpck[0].id!=\"1\"){amt=80;}}totalamt+=amt*localtravelinfodata.guestinfo.length;break;case 2://Boat\ntotalamt+=element.amount;break;case 3://Package\ntotalamt+=element.amount;break;case 4://Bracelet and islandhopping\npurchase=0;rental=0;alreadyhave=0;if(localtravelinfodata.guestinfo.length>0){purchase=localtravelinfodata.guestinfo.filter(function(x){return x.isrentbracelet==false&&x.braceletavailable==false;}).length;rental=localtravelinfodata.guestinfo.filter(function(x){return x.isrentbracelet==true;}).length;alreadyhave=localtravelinfodata.guestinfo.filter(function(x){return x.braceletavailable==true;}).length;}purchaseprice=0;purchaserent=0;if(feevals.length>0){purchaseprice=parseFloat(feevals[0].price);purchaserent=parseFloat(feevals[0].rentprice);}totalamt+=purchase*purchaseprice+rental*purchaserent;break;case 5://Parking\nparkingcharg=0;if(vehicledata!=undefined){if(vehicledata.length>0){todata=selectedtodate[0]==undefined?selectedtodate:selectedtodate[0];fromdata=selectedfromdate[0]==undefined?selectedfromdate:selectedfromdate[0];var diffTime=Math.abs(todata-fromdata);var diffDays=Math.ceil(diffTime/(1000*60*60*24));if(diffDays==0||diffDays==1){diffDays=1;}for(var _index15=0;_index15<vehicledata.length;_index15++){var elementpark=vehicledata[_index15];cost=elementpark.qty*parseFloat(elementpark.amount);parkingcharg=parkingcharg+cost*diffDays;}}}localtravelinfodata.fees[5].amount=parkingcharg;totalamt=totalamt+parkingcharg;break;case 6://Discount\nguestinfo=localtravelinfodata.guestinfo;discountamount=0;for(var _index16=0;_index16<guestinfo.length;_index16++){var guestinfoele=guestinfo[_index16];today=new Date();dob=new Date(guestinfoele.DOB);if(new Date(guestinfoele.DOB).getDate()==today.getDate()&&new Date(guestinfoele.DOB).getMonth()==today.getMonth()&&new Date(guestinfoele.DOB).getFullYear()==today.getFullYear()){discountamount+=0;}else{age=Math.floor((today-new Date(guestinfoele.DOB))/(365.25*24*60*60*1000));baramt=guestinfoele.isrentbracelet==true?localtravelinfodata.fees[1].rentprice:localtravelinfodata.fees[1].amount;if(localtravelinfodata.package[0].id==\"\"||localtravelinfodata.package[0].id==1){amount=localtravelinfodata.fees[0].amount+baramt;}else{amount=80+baramt;}if(age>60){discountamount+=parseFloat(calculateSale(amount,20));}else if(age>=0&&age<=7){discountamount+=parseFloat(calculateSale(amount,20));}}}totalamt=totalamt+-1*discountamount;element.amount=-1*discountamount;break;case 7://Exemption\n//   if(_ismaubancitizen){\ntotalamt=totalamt+element.amount;// }\nbreak;case 9:isLandHopping=localtravelinfodata.guestinfo.filter(function(x){return x.isLandHopping==true;}).length;islandhoppingprice=0;islandhoppingrent=0;if(feevals.length>0){islandhoppingprice=parseFloat(feevals[0].price);islandhoppingrent=parseFloat(feevals[0].rentprice);}totalamt=totalamt+islandhoppingprice*isLandHopping;break;default://total\nelement.amount=totalamt;break;}};for(var t=0;t<localtravelinfodata.fees.length;t++){var numofguest;var amt;var selectedpck;var purchase;var rental;var alreadyhave;var purchaseprice;var purchaserent;var parkingcharg;var todata;var fromdata;var cost;var guestinfo;var discountamount;var today;var dob;var age;var amount;var baramt;var isLandHopping;var islandhoppingprice;var islandhoppingrent;_loop3(t);}}};var getcapacityofboat=function getcapacityofboat(){var count=0;if(localtravelinfodata.boatinfo.length>0){for(var index=0;index<localtravelinfodata.boatinfo.length;index++){var element=localtravelinfodata.boatinfo[index];count+=element.capacity;}}return count;};var updatecalculation=function updatecalculation(){for(var index=0;index<localtravelinfodata.fees.length;index++){}};var calculateSale=function calculateSale(listPrice,discount){;listPrice=parseFloat(listPrice);discount=parseFloat(discount);return(listPrice*(discount/100)).toFixed(2);};var handleChangeOptionGender=function handleChangeOptionGender(e){if(localtravelinfodata[\"guestinfo\"].length>0){localtravelinfodata[\"guestinfo\"][guestactivepostion][\"Gender\"]=e.value;}setSelectedGender(e.value);};var handleChangeHPB=function handleChangeHPB(e){setIsHotelProvideBoat(e.target.checked);setSelectedBoatData([]);setIsBoatSeletionOpen(e.target.checked);};var handleChangeCheckbox=function handleChangeCheckbox(e){var guestinfo=localtravelinfodata.guestinfo;if(e.target.type===\"checkbox\"){guestinfo[guestactivepostion][\"ismaubancitizen\"]=e.target.checked;guestinfo[\"filedata\"]=\"\";if(e.target.checked){localtravelinfodata.fees[6].amount=localtravelinfodata.fees[6].amount+-1*localtravelinfodata.fees[0].amount;}else{localtravelinfodata.fees[6].amount=localtravelinfodata.fees[6].amount- -1*localtravelinfodata.fees[0].amount;}setLocalTravelInfoData(_objectSpread(_objectSpread({},localtravelinfodata),{},_defineProperty({},\"guestinfo\",guestinfo)));}};useEffect(function(){if(selectedProvince!=\"\"){var Municipalityarr=RawMunicipality.filter(function(x){return x.provinceid==selectedProvince;});if(Municipalityarr.length>0){var municipalitydata=getdropdownarr(Municipalityarr);setMunicipality(municipalitydata);localtravelinfodata[\"guestinfo\"][guestactivepostion][\"Province\"]=selectedProvince;if(localtravelinfodata[\"guestinfo\"][guestactivepostion][\"Municipality\"]==municipalitydata[0].value){localtravelinfodata[\"guestinfo\"][guestactivepostion][\"Municipality\"]=municipalitydata[0].value;setSelectedMunicipality(municipalitydata[0].value);}else{setSelectedMunicipality(localtravelinfodata[\"guestinfo\"][guestactivepostion][\"Municipality\"]);}}}},[selectedProvince]);/*#endregion guest detail  */var vaildationbeforepay=function vaildationbeforepay(){var result=true;for(var index=0;index<localtravelinfodata.guestinfo.length;index++){var element=localtravelinfodata.guestinfo[index];var guestcounter=index+1;var today=new Date();var age=Math.floor((today-element.DOB)/(365.25*24*60*60*1000));if(element.Firstname==\"\"){notify(2,\"Please enter first name for guest\"+guestcounter);setIsProcessing(false);return false;}else if(element.Lastname==\"\"){notify(2,\"Please enter last name for guest\"+guestcounter);setIsProcessing(false);return false;}else if(element.Mobilenumber==\"\"&&index==0){notify(2,\"Please enter mobile number for guest\"+guestcounter);setIsProcessing(false);return false;}else if(element.emailid==\"\"&&index==0){notify(2,\"Please enter email id for guest\"+guestcounter);setIsProcessing(false);return false;}else if(element.Address==\"\"){notify(2,\"Please enter address for guest\"+guestcounter);setIsProcessing(false);return false;}else if(element.ismaubancitizen){if(element.filedata==\"\"){notify(2,\"Please upload vaild id proof for guest\"+guestcounter);setIsProcessing(false);return false;}}else{if(element.emailid!=\"\"&&index==0){var regex=/^(([^<>()[\\]\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i;if(!element.emailid||regex.test(element.emailid)===false){notify(2,\"Invalid Email id for guest\"+guestcounter);setIsProcessing(false);return false;}}}// else if (age >= 66 || age <= 14) {\n//   notify(2, \"Age comply by IATF rules (age not below 14 and  above 65 )\");\n//   setIsProcessing(false);\n//   return false;\n// }\n}return result;};var funfileupload=function funfileupload(){var numberoffilestoupload=localtravelinfodata.guestinfo.filter(function(x){return x.ismaubancitizen;});//setfiledata(numberoffilestoupload);\nif(numberoffilestoupload.length>0){var form_data=new FormData();for(var index=0;index<numberoffilestoupload.length;index++){var element=numberoffilestoupload[index];form_data.append(\"files\",element.filedata);form_data.append(\"fileid\",element.fileid);}var requestOptions={method:\"POST\",body:form_data};fetch(common.fileuploadurl,requestOptions).then(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(response){var data,error,resultdata,_index17,_element4;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return response.json();case 2:data=_context.sent;if(response.ok){_context.next=6;break;}error=data&&data.message||response.status;return _context.abrupt(\"return\",Promise.reject(error));case 6:if(data.resultkey==1){resultdata=data.resultvalue;//   var numberoffilestoupload=localtravelinfodata.guestinfo.filter(x=>x.ismaubancitizen);\nfor(_index17=0;_index17<numberoffilestoupload.length;_index17++){_element4=numberoffilestoupload[_index17];if(_element4.fileid==resultdata.fileid[_index17]){_element4.newfilename=resultdata.newfilename[_index17];_element4.oldfilename=resultdata.oldfilename[_index17];//       break;\n}}setfiledata(numberoffilestoupload);finalsave();}case 7:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());}};var Savedata=function Savedata(){setIsProcessing(true);if(vaildationbeforepay()){var numberoffilestoupload=localtravelinfodata.guestinfo.filter(function(x){return x.ismaubancitizen;});if(numberoffilestoupload.length>0){funfileupload();return;}finalsave();}};var finalsave=function finalsave(){var val=Math.floor(1000+Math.random()*9000);var todata=selectedtodate[0]==undefined?selectedtodate:selectedtodate[0];var fromdata=selectedfromdate[0]==undefined?selectedfromdate:selectedfromdate[0];var Difference_In_Time=todata-fromdata;var Difference_In_Days=Math.floor(Difference_In_Time/(1000*3600*24));var totalvehicleingrid=0;if(vgridata.data){for(var i=0;i<vgridata.data.length;i++){totalvehicleingrid=totalvehicleingrid+vgridata.data[i].qty;}}var _guestinfotosave=[];for(var index=0;index<localtravelinfodata.guestinfo.length;index++){var element=localtravelinfodata.guestinfo[index];if(localtravelinfodata.guestinfo[index].Gender==undefined||localtravelinfodata.guestinfo[index].Gender==null){localtravelinfodata.guestinfo[index].Gender=0;}_guestinfotosave.push(element);}var setvehicle=vehicledata.filter(function(x){return parseFloat(x.qty)>0;});var finalvehicle=[];if(setvehicle.length>0){var todata=selectedtodate[0]==undefined?selectedtodate:selectedtodate[0];var fromdata=selectedfromdate[0]==undefined?selectedfromdate:selectedfromdate[0];var diffTime=Math.abs(todata-fromdata);// const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24))+1;\nvar diffDays=Math.ceil(diffTime/(1000*60*60*24));if(diffDays==0||diffDays==1){diffDays=1;}for(var _index18=0;_index18<setvehicle.length;_index18++){var parkele=setvehicle[_index18];var cost=parseFloat(parkele.qty)*parseFloat(parkele.amount);parkele.totalcost=cost*diffDays;}for(var _index19=0;_index19<setvehicle.length;_index19++){var finalelement=setvehicle[_index19];if(finalelement.qty>1){// let newArr = [...finalelement];\nfor(var _index20=0;_index20<finalelement.qty;_index20++){finalelement.uuid=uuid();finalelement.numberofnights=diffDays;finalvehicle.push(finalelement);}}else{finalelement.uuid=uuid();finalelement.numberofnights=diffDays;finalvehicle.push(finalelement);}}}var seltimeslot=timeslot.filter(function(x){return x.value==selectedtimeslot;});var submitdata={fromdate:moment(selectedfromdate[0]==undefined?selectedfromdate:selectedfromdate[0]).format(\"YYYY-MM-DD\"),todate:moment(selectedtodate[0]==undefined?selectedtodate:selectedtodate[0]).format(\"YYYY-MM-DD\"),numberofdays:Difference_In_Days,totalcharge:localtravelinfodata.fees[8].amount,pax:localtravelinfodata.numberofguest,boatcapcity:localtravelinfodata.boatinfo,preferredhotels:localtravelinfodata.hotel,paymentid:val,selectedvehicleinfo:[],touristinfo:localtravelinfodata.guestinfo,chargesinfo:[],numberofvehicle:localtravelinfodata.vehicle.length,touristvehicles:finalvehicle,packagedata:localtravelinfodata.package,slotid:selectedtimeslot,ishotelprovideboat:ishotelprovideboat,slotdetail:seltimeslot,parkingnotreq:localtravelinfodata.parkingnotreq,hotelbookingref:localtravelinfodata.hotelbookingref,packageinfo:{},bulkUpload:localtravelinfodata.isBulkUpload};// console.log(submitdata);\n// return;\n//check availability\ndataservice(\"booking\",{requestfor:\"checkavailability\",data:{fromdate:moment(selectedfromdate[0]==undefined?selectedfromdate:selectedfromdate[0]).format(\"YYYY-MM-DD\"),touristcount:localtravelinfodata.guestinfo.length}}).then(function(checkdata){if(checkdata.resultkey==1){if(checkdata.resultvalue[0].isSlotAvialble>0){dataservice(\"registration\",{requestfor:\"registration\",data:submitdata}).then(function(data){if(data.resultkey==1){var result=data.resultvalue;// {\"code\": 200, \"status\": true, \"results\": {\"data\": {\"url\": \"https://api.smartpay.net.ph/payment?reference_number=SP00002097\", \"method\": \"GET\", \"reference_number\": \"SP00002097\"}, \"message\": \"Success.\"}}\n//{\"code\": 402, \"status\": false, \"results\": {\"data\": {\"customer_email\": \"The Customer Email Address field must contain a valid email address.\"}, \"message\": \"Invalid Parameters.\"}}\nvar responseurl=JSON.parse(data.resultvalue.url);//.url;\nif(responseurl.status){if(responseurl.results!=\"\"&&responseurl.results!==undefined){window.location.href=responseurl.results.data.url;}else{var errormdg=responseurl.message+\"  \"+responseurl.results.toString();notify(2,errormdg);setIsProcessing(false);}}}else{notify(2,\"error!\");setIsProcessing(false);}}).catch(function(error){notify(2,\"error!\"+error);setIsProcessing(false);});}else{notify(2,\"no slot available for this date!\");setIsProcessing(false);}}else{notify(2,\"error !\"+JSON.stringify(checkdata.resultvalue));setIsProcessing(false);}}).catch(function(error){notify(2,\"error !\"+error);setIsProcessing(false);// console.log(error);\n});};var handleperferredtime=function handleperferredtime(e){var _e$target4=e.target,id=_e$target4.id,value=_e$target4.value;console.log(id);if(id==1){setselectedpreferredtimemorning(true);}else{setselectedpreferredtimemorning(false);}//setselectedpreferredtimemorning(data);\n};var vaildateguest=function vaildateguest(){setIsVaildatereturnProcessing(true);var selectedguest=localtravelinfodata[\"guestinfo\"][guestactivepostion];if(selectedguest.Firstname==\"\"){notify(2,\"Please enter first name!\");return;}else if(selectedguest.Lastname==\"\"){notify(2,\"Please enter last name!\");return;}else{dataservice(\"returnguest\",{requestfor:\"vaildatereturnguest\",data:{firstname:selectedguest.Firstname,lastname:selectedguest.Lastname,dob:moment(selectedguest.DOB).format(\"YYYY-MM-DD\"),gender:selectedguest.Gender}}).then(function(data){setIsVaildatereturnProcessing(false);if(data.resultkey==1){var result=data.resultvalue[0];if(result.lastvisited==0){localtravelinfodata[\"guestinfo\"][guestactivepostion].isguestvaildated=true;localtravelinfodata[\"guestinfo\"][guestactivepostion].emailid=result.emailid;localtravelinfodata[\"guestinfo\"][guestactivepostion].Address=result.address1;localtravelinfodata[\"guestinfo\"][guestactivepostion].Mobilenumber=result.mobilenumber;var _selcitizenid=citizenship.filter(function(x){return x.value==result.citizenid;});localtravelinfodata[\"guestinfo\"][0][\"Citizenship\"]=_selcitizenid[0].value;setSelectedCS(_selcitizenid[0].value);var _selcountry=country.filter(function(x){return x.value==result.nationalityid;});localtravelinfodata[\"guestinfo\"][0][\"CountryofOrigin\"]=_selcountry[0].value;setSelectedCOO(_selcountry[0].value);//localtravelinfodata[\"guestinfo\"][guestactivepostion].Municipality=result.ismaubancitizen;\nguestarr.isguestvaildated=true;guestarr.emailid=result.emailid;guestarr.Address=result.address1;guestarr.Mobilenumber=result.mobilenumber;setReturnGuestMsg(\"Guest validated successfully\");setVaildateReturnmsg(\"\");recaltotal();}// setVaildateReturnmsg(\"Sorry guest info doesn't exist.\"); setVaildateReturnmsg(\"Sorry guest info doesn't exist.\");\n}else{localtravelinfodata[\"guestinfo\"][guestactivepostion].isguestvaildated=false;setVaildateReturnmsg(\"Sorry guest info doesn't exist.\");}}).catch(function(edata){setIsVaildatereturnProcessing(false);setVaildateReturnmsg(edata.toString());notify(2,edata.toString(),1);});}};var _useState121=useState(false),_useState122=_slicedToArray(_useState121,2),isconfirmchange=_useState122[0],setIsConfirmChange=_useState122[1];var _useState123=useState(false),_useState124=_slicedToArray(_useState123,2),isopenbulkupload=_useState124[0],setIsOpenBulkUpload=_useState124[1];var _useState125=useState([]),_useState126=_slicedToArray(_useState125,2),bulkuploaddata=_useState126[0],setBulkUploadData=_useState126[1];var _useState127=useState([]),_useState128=_slicedToArray(_useState127,2),bulkuploadfilename=_useState128[0],setbulkuploadfilename=_useState128[1];var bulkupload=function bulkupload(){setIsOpenBulkUpload(!isopenbulkupload);};var handlebulkUpload=function handlebulkUpload(e){e.preventDefault();if(e.target.files.length>0){var files=e.target.files,f=files[0];setbulkuploadfilename(f);var reader=new FileReader();reader.onload=function(e){var data=e.target.result;var readedData=XLSX.read(data,{type:\"binary\",cellText:false,cellDates:true});var wsname=readedData.SheetNames[0];var ws=readedData.Sheets[wsname];/* Convert array to json*/var dataParse=XLSX.utils.sheet_to_json(ws,{header:1,raw:false,dateNF:\"yyyy-mm-dd\"});if(dataParse.length>1){var bulkupdatevalues=[];if(dataParse.length-1==selectednumberguest){var _loop4=function _loop4(index){var element=dataParse[index];guestdata={};if(element[0]!==undefined&&element[0]!==\"\"&&element[1]!==undefined&&element[1]!==\"\"&&element[2]!==undefined&&element[2]!==\"\"&&element[3]!==undefined&&element[3]!==\"\"){_gender=Gender.filter(function(x){return x.label==element[3];});_citizen=citizenship.filter(function(x){return x.label.toLowerCase()==element[9].toLowerCase();});_CountryofOrigin=country.filter(function(x){return x.label.toLowerCase()==element[10].toLowerCase();});provincearr=RawProvince.filter(function(x){return x.countryid==2;});provincedata=getdropdownarr(provincearr);_validateprovide=provincedata.filter(function(x){return x.label.toLowerCase()==element[11].toLowerCase();});_Province=RawProvince.filter(function(x){return x.description.toLowerCase()==element[11].toLowerCase();});municipalityarr=RawMunicipality.filter(function(x){return x.provinceid==_validateprovide[0].value;});municipalitydata=getdropdownarr(municipalityarr);_validmunicipality=municipalitydata.filter(function(x){return x.label.toLowerCase()==element[12].toLowerCase();});_Municipality=RawMunicipality.filter(function(x){return x.description.toLowerCase()==element[12].toLowerCase();});isvalidmunicipality=_validmunicipality.length>0?true:false;if(index==1){if(element[5]!==undefined&&element[5]!==\"\"&&element[6]!==undefined&&element[6]!==\"\"){guestdata={FirstName:element[0],LastName:element[1],DateOfBirth:moment(element[2]).format(\"YYYY-MM-DD\"),Gender:_gender[0].value,Address:element[4],MobileNumber:element[5],EmailID:element[6],RentBracelet:element[7].toString().toLowerCase()==\"yes\"?true:false,IslandHopping:false,// element[8].toString().toLowerCase() == \"yes\"\n//   ? true\n//   : false,\nCitizen:_citizen[0].value.toString(),Citizendesc:_citizen[0].label.toString(),Country:_CountryofOrigin[0].value.toString(),Countrydesc:_CountryofOrigin[0].label.toString(),Province:_Province[0].id.toString(),Provincedesc:_Province[0].description.toString(),Municipality:_Municipality[0].id.toString(),Municipalitydesc:_Municipality[0].description.toString(),isvalidmunicipality:isvalidmunicipality// \"Maubanin\":element[13].toString().toLowerCase()==\"yes\"?true:false\n};}else{notify(2,\"Invaild uploaded excel,Please fill all required field for guest!\");return{v:void 0};}}else{guestdata={FirstName:element[0],LastName:element[1],DateOfBirth:moment(element[2]).format(\"YYYY-MM-DD\"),Gender:_gender[0].value,Address:element[4],MobileNumber:element[5],EmailID:element[6],RentBracelet:element[7].toString().toLowerCase()==\"yes\"?true:false,IslandHopping:false,// element[8].toString().toLowerCase() == \"yes\"\n//   ? true\n//   : false,\nCitizen:_citizen[0].value.toString(),Citizendesc:_citizen[0].label.toString(),Country:_CountryofOrigin[0].value.toString(),Countrydesc:_CountryofOrigin[0].label.toString(),Province:_Province[0].id.toString(),Provincedesc:_Province[0].description.toString(),Municipality:_Municipality[0].id.toString(),Municipalitydesc:_Municipality[0].description.toString(),isvalidmunicipality:isvalidmunicipality//  \"Maubanin\":element[13].toString().toLowerCase()==\"yes\"?true:false\n};}}else{notify(2,\"Invaild uploaded excel,Please fill all required field for guest!\");return{v:void 0};}bulkupdatevalues.push(guestdata);};for(var index=1;index<dataParse.length;index++){var guestdata;var _gender;var _citizen;var _CountryofOrigin;var provincearr;var provincedata;var _validateprovide;var _Province;var municipalityarr;var municipalitydata;var _validmunicipality;var _Municipality;var isvalidmunicipality;var _ret=_loop4(index);if(typeof _ret===\"object\")return _ret.v;}}else{notify(2,\"number of guest  is not matching with uploaded guest\");}setBulkUploadData(bulkupdatevalues);}else{notify(2,\"No guest data \");}// setFileUploaded(dataParse);\n};reader.readAsBinaryString(f);}else{setBulkUploadData([]);}};var cancelbulkupload=function cancelbulkupload(){setBulkUploadData([]);};var savebulkupload=function savebulkupload(){//update number of guest\nsetSelectedNumberGuest(bulkuploaddata.length);setIsOpenBulkUpload(!isopenbulkupload);var guestinfo=localtravelinfodata[\"guestinfo\"];localtravelinfodata.isBulkUpload=false;if(bulkuploaddata.length>0){localtravelinfodata.isBulkUpload=true;for(var index=0;index<guestinfo.length;index++){var element=guestinfo[index];element.Address=bulkuploaddata[index].Address;element.Firstname=bulkuploaddata[index].FirstName;element.Lastname=bulkuploaddata[index].LastName;element.DOB=new Date(bulkuploaddata[index].DateOfBirth);element.Mobilenumber=bulkuploaddata[index].MobileNumber;element.emailid=bulkuploaddata[index].EmailID;element.Gender=bulkuploaddata[index].Gender;element.isLandHopping=bulkuploaddata[index].IslandHopping;element.isrentbracelet=bulkuploaddata[index].RentBracelet;//  element.ismaubancitizen=bulkuploaddata[index].Maubanin;\nelement.Citizenship=bulkuploaddata[index].Citizen;element.CountryofOrigin=bulkuploaddata[index].Country;element.Municipality=bulkuploaddata[index].Municipality;element.Province=bulkuploaddata[index].Province;}}setselectguest(0);recaltotal();};var Changenumberofguest=function Changenumberofguest(){setSelectedNumberGuest(selectednumberguestbeforeconfirm);setBulkUploadData([]);setIsConfirmChange(!isconfirmchange);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h5\",{children:localtravelinfodata.isguest==true?\"\":\"\"}),/*#__PURE__*/_jsxs(CCardBody,{children:[/*#__PURE__*/_jsxs(CRow,{children:[/*#__PURE__*/_jsx(\"div\",{style:{display:localtravelinfodata.isguest==true?\"none\":\"\"},className:\"col-md-8 mb-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:isvehicle==true?\"none\":\"\"},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-4 col-md-12 mb-4\",children:[/*#__PURE__*/_jsxs(\"label\",{for:\"guests\",children:[\"Number Of Guests\",/*#__PURE__*/_jsx(\"span\",{style:{color:\"red\"},children:/*#__PURE__*/_jsx(\"sup\",{children:\"*\"})})]}),/*#__PURE__*/_jsx(Select,{className:\"dropdown\",placeholder:\"Select\",value:numberofguests.find(function(obj){return obj.value===selectednumberguest;})// set selected values\n,options:numberofguests// set list of the data\n,onChange:handleChangeOptionNOG// assign onChange function\n})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-4 col-md-12 mb-4\",children:[/*#__PURE__*/_jsxs(\"label\",{for:\"country\",children:[\"Start Date\",/*#__PURE__*/_jsx(\"span\",{style:{color:\"red\"},children:/*#__PURE__*/_jsx(\"sup\",{children:\"*\"})})]}),/*#__PURE__*/_jsx(DatePicker,{className:\"form-control\",value:selectedfromdate,minDate:new Date(),onChange:setselectedfromdate})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-4 col-md-12 mb-4\",children:[/*#__PURE__*/_jsxs(\"label\",{for:\"country\",children:[\"End Date\",/*#__PURE__*/_jsx(\"span\",{style:{color:\"red\"},children:/*#__PURE__*/_jsx(\"sup\",{children:\"*\"})})]}),/*#__PURE__*/_jsx(DatePicker,{className:\"form-control\",value:selectedtodate,minDate:new Date(selectedfromdate),onChange:setselectedtodate})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-6 col-md-12 mb-6\",children:[\"Select Type of Boat\",/*#__PURE__*/_jsx(\"span\",{style:{color:\"red\"},children:/*#__PURE__*/_jsx(\"sup\",{children:\"*\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:function(){var rows=[];if(boatTypeData.length>0){for(var i=0;i<boatTypeData.length;i++){var _pck=boatTypeData[i];var cls=_pck.checked==true?\"btn btn-block btn-success active\":\"btn btn-block btn-outline-primary\";//_veh.checked = false;\nrows.push(/*#__PURE__*/_jsxs(_Fragment,{children:[\" \",/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3 mb-3\",children:/*#__PURE__*/_jsxs(\"button\",{className:cls,id:_pck.id,value:_pck.checked,onClick:handleboattypechanges,type:\"button\",children:[_pck.label,\" \"]},i)},i)]}));}return rows;}}()}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-6 col-md-12 mb-6\",children:[\"Select Package\",/*#__PURE__*/_jsx(\"span\",{style:{color:\"red\"},children:/*#__PURE__*/_jsx(\"sup\",{children:\"*\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:function(){var rows=[];if(packagedata.length>0){for(var i=0;i<packagedata.length;i++){var _pck=packagedata[i];var cls=_pck.checked==true?\"btn btn-block btn-success active\":\"btn btn-block btn-outline-primary\";//_veh.checked = false;\nrows.push(/*#__PURE__*/_jsxs(_Fragment,{children:[\" \",/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3 mb-3\",children:/*#__PURE__*/_jsxs(\"button\",{className:cls,id:_pck.id,value:_pck.checked,onClick:handlepackagechanges,type:\"button\",children:[_pck.label,\" \"]},i)},i)]}));}return rows;}}()}),/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h6\",{children:\" Sechdule \"}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-8 col-md-12 mb-4\",children:[/*#__PURE__*/_jsxs(\"label\",{for:\"guests\",children:[\"Time of Arrival in Mauban\",/*#__PURE__*/_jsx(\"span\",{style:{color:\"red\"},children:/*#__PURE__*/_jsx(\"sup\",{children:\"*\"})})]}),/*#__PURE__*/_jsx(Select,{className:\"dropdown\",placeholder:\"Select\",value:timeslot.find(function(obj){return obj.value===selectedtimeslot;})// set selected values\n,options:timeslot// set list of the data\n,onChange:handleChangeOptionTS// assign onChange function\n})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card\",hidden:!isshowboatselection,children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h6\",{children:\" Boat selections  \"}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-6 col-md-12 mb-6\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"country\",children:\"Boat Capacity\"}),/*#__PURE__*/_jsx(Select,{isMulti:true,isDisabled:isboatselectionopen,className:\"dropdown\",placeholder:\"Select Boat Capacity\",value:boatdata.filter(function(obj){return selectedboatdata.includes(obj.value);})// set selected values\n,options:boatdata// set list of the data\n,onChange:handleChangeOptionBC// assign onChange function\n})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-6 col-md-6 mb-6\",style:{display:\"none\"},children:[/*#__PURE__*/_jsx(\"label\",{for:\"state\",children:\"Is Boat Provided by Resort?\"}),/*#__PURE__*/_jsx(CInput,{style:{width:\"6%\",fontSize:\"1rem\"},type:\"checkbox\",onChange:handleChangeHPB,id:\"ismaubancitizen\"})]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h6\",{children:\"Hotel Details\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-6 col-md-6 mb-6\",children:[/*#__PURE__*/_jsxs(\"label\",{for:\"state\",children:[\"Accommodation\",/*#__PURE__*/_jsx(\"span\",{style:{color:\"red\"},children:/*#__PURE__*/_jsx(\"sup\",{children:\"*\"})})]}),/*#__PURE__*/_jsx(Select,{className:\"dropdown\",placeholder:\"Select Resort\",value:selectedpreferredhotels// set selected values\n,options:preferredhotels// set list of the data\n,onChange:handleChangeOptionPH// assign onChange function\n})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-6 col-md-6 mb-6\",children:[/*#__PURE__*/_jsxs(\"label\",{for:\"guests\",children:[\" \",\"Booking Reference#\",/*#__PURE__*/_jsx(\"span\",{style:{color:\"red\"},children:/*#__PURE__*/_jsx(\"sup\",{children:\"*\"})})]}),/*#__PURE__*/_jsx(CInput,{onChange:handleChange,value:hotelbookingref,type:\"text\",id:\"hotelbookingref\",placeholder:\" Booking Reference Number\"})]})]})]})}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:isvehicle==true?\"\":\"none\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-6 col-md-12 mb-4\",children:[/*#__PURE__*/_jsxs(\"label\",{for:\"guests\",children:[\"Parking not Required \",localtravelinfodata.parkingnotreq]}),/*#__PURE__*/_jsx(CInput,{style:{width:\"20%\",fontSize:\"0rem\"},onChange:handleChange,type:\"checkbox\",checked:localtravelinfodata.parkingnotreq,value:localtravelinfodata.parkingnotreq,id:\"parkingnotreq\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsxs(\"thead\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"vehicle\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Qty\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Total Charge\"})]}),/*#__PURE__*/_jsx(\"tbody\",{children:function(){var rows=[];if(vehicledata.length>0){for(var i=0;i<vehicledata.length;i++){var _veh=vehicledata[i];//_veh.checked = false;\nrows.push(/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:_veh.typeofvehicle}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(InputDecimal,{type:\"text\",readOnly:localtravelinfodata.parkingnotreq,value:_veh.qty,id:_veh.id,onChange:handleChangevehicleqty(i),placeholder:\"Qty\"})}),/*#__PURE__*/_jsx(\"td\",{children:_veh.qty*parseFloat(_veh.amount)})]}),\" \"]}));}return rows;}}()})]})}),/*#__PURE__*/_jsx(\"br\",{})]})]})})}),/*#__PURE__*/_jsx(\"div\",{style:{display:localtravelinfodata.isguest==true?\"\":\"none\"},className:\"col-md-8 mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3 mb-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(CButton,{block:true,onClick:function onClick(){return bulkupload();},color:\"primary\",children:[\"Bulk Upload\",\" \"]}),localtravelinfodata.guestinfo&&localtravelinfodata.guestinfo.map(function(guestinfo,index){return/*#__PURE__*/_jsxs(CButton,{block:true,onClick:function onClick(){return setselectguest(index);},variant:index==guestactivepostion?\"\":\"outline\",color:\"success\",children:[\"Guest \",index+1,\" \"]});})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-9 mb-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-4 col-md-12 mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"guests\",children:\"Returning Guest?\"}),/*#__PURE__*/_jsx(CInput,{style:{width:\"20%\",fontSize:\"0rem\"},onChange:handleChange,type:\"checkbox\",checked:guestarr.isreturningguest,value:guestarr.isreturningguest,id:\"isreturningguest\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",style:{display:guestarr.isreturningguest==true?\"\":\"none\"},children:/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-12 col-md-12 mb-4\",children:/*#__PURE__*/_jsx(\"label\",{for:\"guests\",style:{color:\"red\"},children:returnguestmsg})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-6 col-md-12 mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"guests\",children:\"First name\"}),/*#__PURE__*/_jsx(CInput,{onChange:handleChange,value:guestarr.Firstname,type:\"text\",id:\"Firstname\",placeholder:\"First Name\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-6 col-md-12 mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"guests\",children:\"Last name\"}),/*#__PURE__*/_jsx(CInput,{onChange:handleChange,type:\"text\",value:guestarr.Lastname,id:\"Lastname\",placeholder:\"Last name\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-6 col-md-12 mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"guests\",children:\"Date Of Birth\"}),/*#__PURE__*/_jsx(DatePicker,{value:selecteddob,onChange:onChangeDateOfBirth})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-6 col-md-12 mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"guests\",children:\"Gender\"}),/*#__PURE__*/_jsx(Select,{className:\"dropdown\",placeholder:\"Select\",value:Gender.find(function(obj){return obj.value===selectedGender;})// set selected values\n,options:Gender// set list of the data\n,onChange:handleChangeOptionGender// assign onChange function\n})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",style:{display:guestarr.isreturningguest==true?\"\":\"none\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-4 col-md-12 mb-4\",children:/*#__PURE__*/_jsx(CButton,{color:\"primary\",onClick:function onClick(){return vaildateguest(guestarr);},children:\"Validate\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-8 col-md-12 mb-4\",children:[/*#__PURE__*/_jsx(CImg,{src:processing,height:\"50\",width:\"50\",id:\"proceesing\",style:{display:isvaildatereturnprocessing==true?\"\":\"none\"},alt:\"qrcode\"}),/*#__PURE__*/_jsx(\"label\",{for:\"guests\",style:{color:\"red\",display:isvaildatereturnprocessing==true?\"none\":\"\"},children:vaildatereturnmsg})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-6 col-md-12 mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"guests\",children:\"Citizenship\"}),/*#__PURE__*/_jsx(Select,{className:\"dropdown\",isDisabled:guestarr.isreturningguest==true?!guestarr.isguestvaildated:false,placeholder:\"Select Citizenship\",value:citizenship.find(function(obj){return obj.value===selectedCS;})// set selected values\n,options:citizenship// set list of the data\n,onChange:handleChangeCS// assign onChange function\n})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-6 col-md-12 mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"guests\",children:\"Country Of orgin\"}),/*#__PURE__*/_jsx(Select,{id:\"CountryofOrigin\",className:\"dropdown\",isDisabled:guestarr.isreturningguest==true?!guestarr.isguestvaildated:false,placeholder:\"Select\",value:country.find(function(obj){return obj.value===selectedCOO;})// set selected values\n,options:country// set list of the data\n,onChange:handleChangeCOO// assign onChange function\n})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-6 col-md-12 mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"guests\",children:\"Province\"}),/*#__PURE__*/_jsx(Select,{className:\"dropdown\",placeholder:\"Select\",isDisabled:guestarr.isreturningguest==true?!guestarr.isguestvaildated:false,value:Province.find(function(obj){return obj.value===selectedProvince;})// set selected values\n,options:Province// set list of the data\n,onChange:handleChangeOptionProvince// assign onChange function\n})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-6 col-md-12 mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"guests\",children:\"Municipality\"}),/*#__PURE__*/_jsx(Select,{className:\"dropdown\",placeholder:\"Select\",isDisabled:guestarr.isreturningguest==true?!guestarr.isguestvaildated:false,value:Municipality.find(function(obj){return obj.value===selectedMunicipality;})// set selected values\n,options:Municipality// set list of the data\n,onChange:handleChangeOptionMunicipality// assign onChange function\n})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-12 col-md-12 mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"guests\",children:\"Address\"}),/*#__PURE__*/_jsx(CInput,{onChange:handleChange,disabled:guestarr.isreturningguest==true?!guestarr.isguestvaildated:false,value:guestarr.Address,type:\"text\",id:\"Address\",placeholder:\"Address\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-6 col-md-12 mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"guests\",children:\"Mobile Number\"}),/*#__PURE__*/_jsx(CInput,{onChange:handleChange,disabled:guestarr.isreturningguest==true?!guestarr.isguestvaildated:false,value:guestarr.Mobilenumber,type:\"text\",id:\"Mobilenumber\",placeholder:\"Mobile \"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-6 col-md-12 mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"guests\",children:\"E-mail Address\"}),/*#__PURE__*/_jsx(CInput,{onChange:handleChange,disabled:guestarr.isreturningguest==true?!guestarr.isguestvaildated:false,value:guestarr.emailid,type:\"text\",id:\"emailid\",placeholder:\"Email\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",style:{display:\"none\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-1 \",children:/*#__PURE__*/_jsx(\"input\",{style:{fontSize:\"0rem\"},disabled:guestarr.isreturningguest==true?!guestarr.isguestvaildated:false,onChange:handleChange,type:\"checkbox\",checked:guestarr.ismaubancitizen,value:guestarr.ismaubancitizen,id:\"ismaubancitizen\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-8\",children:/*#__PURE__*/_jsx(\"label\",{for:\"guests\",children:\"Please tick the box if you are Maubanin?\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",style:{display:\"none\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-8 col-md-12 mb-4\",style:{display:guestarr.ismaubancitizen==true?\"\":\"none\"},children:[/*#__PURE__*/_jsx(\"label\",{for:\"guests\",children:\"Filename:\"}),/*#__PURE__*/_jsx(CInput,{onChange:handleChange,style:{color:\"transparent\"},id:\"filedata\",type:\"file\"}),function(){var rows=[];if(guestarr.filedata!=undefined){rows.push(/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(CCol,{xs:\"12\",style:{color:\"green\"},children:guestarr.filedata.name})}));return rows;}}()]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-4 col-md-12 mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"guests\",style:{fontSize:\"14px\"},children:\"Rent Bracelet\"}),/*#__PURE__*/_jsx(CInput,{style:{width:\"20%\",fontSize:\"0rem\"},disabled:guestarr.isreturningguest==true?!guestarr.isguestvaildated:false,onChange:handleChange,type:\"checkbox\",checked:guestarr.isrentbracelet,value:guestarr.isrentbracelet,id:\"isrentbracelet\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-4 col-md-12 mb-4\",style:{display:guestarr.isguestvaildated==true?\"\":\"none\"},children:[/*#__PURE__*/_jsx(\"label\",{for:\"guests\",style:{fontSize:\"14px\"},children:\"Do you have Bracelet\"}),/*#__PURE__*/_jsx(CInput,{style:{width:\"20%\",fontSize:\"0rem\"},disabled:guestarr.isreturningguest==true?!guestarr.isguestvaildated:false,onChange:handleChange,type:\"checkbox\",checked:guestarr.braceletavailable,value:guestarr.braceletavailable,id:\"braceletavailable\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",style:{display:\"none\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-12 col-md-12 mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"guests\",children:\"Do you want to add the guest for island hopping?\"}),/*#__PURE__*/_jsx(CInput,{style:{width:\"5%\",fontSize:\"0rem\"},disabled:guestarr.isreturningguest==true?!guestarr.isguestvaildated:false,onChange:handleChange,type:\"checkbox\",checked:guestarr.isLandHopping,value:guestarr.isLandHopping,id:\"isLandHopping\"})]})})]})})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 mb-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{style:{color:\"red\"},children:/*#__PURE__*/_jsx(\"sup\",{children:\"* Marked fields are mandatory\"})}),\" \"]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{style:{color:\"black\"},children:/*#__PURE__*/_jsx(\"sup\",{children:\"* Additional Charges will applied for island hopping\"})}),\" \"]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{style:{color:\"green\"},children:/*#__PURE__*/_jsx(\"sup\",{children:\"P=Purchase R=Rental A=Already have\"})}),\" \"]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{style:{color:\"green\"},children:/*#__PURE__*/_jsx(\"sup\",{children:\"RE=Return Guest N=New\"})}),\" \"]}),/*#__PURE__*/_jsx(\"h4\",{className:\"d-flex justify-content-between align-items-center mb-3\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-muted\",children:\"Fee Calculation\"})}),/*#__PURE__*/_jsxs(\"b\",{children:[\" \",/*#__PURE__*/_jsxs(\"sup\",{style:{fontSize:\"10px\"},className:\"text-muted\",children:[\"Traveling Date:\",\" \",moment(selectedfromdate[0]==undefined?selectedfromdate:selectedfromdate[0]).format(\"YYYY-MM-DD\"),\" \",\"-\",\" \",moment(selectedtodate[0]==undefined?selectedtodate:selectedtodate[0]).format(\"YYYY-MM-DD\"),\" \"]})]}),/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsxs(\"b\",{children:[\" \",/*#__PURE__*/_jsxs(\"sup\",{style:{fontSize:\"10px\"},className:\"text-muted\",children:[\"Number Of Days:\",numberofdaystravel]})]}),/*#__PURE__*/_jsx(\"ul\",{className:\"list-group mb-3 z-depth-1\",children:localtravelinfodata.fees&&localtravelinfodata.fees.map(function(feedata,index){var purchase=0;var alreadyhave=0;var rental=0;var islandhoppingamt=0;var etafretunrguest=0;var etafnonretunrguest=0;var feevals=[];var feevalsprice=0;var packageid=localtravelinfodata.package.length>0?localtravelinfodata.package[0].id:\"\";;if(feesdata.data!=undefined){if(feesdata.data.length>0){feevals=feesdata.data.filter(function(x){return parseInt(x.id)==feedata.id;});if(feevals.length>0){feevalsprice=parseFloat(feevals[0].price);}}}if(localtravelinfodata.guestinfo.length>0){purchase=localtravelinfodata.guestinfo.filter(function(x){return x.isrentbracelet==false&&x.braceletavailable==false;}).length;rental=localtravelinfodata.guestinfo.filter(function(x){return x.isrentbracelet==true;}).length;alreadyhave=localtravelinfodata.guestinfo.filter(function(x){return x.braceletavailable==true;}).length;islandhoppingamt=localtravelinfodata.guestinfo.filter(function(x){return x.isLandHopping==true;}).length;etafnonretunrguest=localtravelinfodata.guestinfo.filter(function(x){return x.isguestvaildated==false;}).length;etafretunrguest=localtravelinfodata.guestinfo.filter(function(x){return x.isguestvaildated==true;}).length;}if(feedata.id==8){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Total \"}),/*#__PURE__*/_jsx(\"strong\",{children:feedata.amount.toFixed(2)})]})});}else if(feedata.id==1){if(packageid==\"\"||packageid==\"1\"){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item d-flex justify-content-between lh-condensed\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h6\",{className:\"my-0\",children:feedata.feefor}),/*#__PURE__*/_jsx(\"sup\",{style:{fontSize:\"10px\"},className:\"text-muted\",children:\"Environmental Tourism and Administrative Fee\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[\"RE:\",etafretunrguest,\" X \",0]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[\"N:\",etafnonretunrguest,\" X \",feedata.amount]})]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-muted\",children:(etafnonretunrguest*feedata.amount).toFixed(2)})]})});}else{return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item d-flex justify-content-between lh-condensed\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h6\",{className:\"my-0\",children:feedata.feefor}),/*#__PURE__*/_jsx(\"sup\",{style:{fontSize:\"10px\"},className:\"text-muted\",children:\"Environmental Tourism and Administrative Fee\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[\"RE:\",etafretunrguest,\" X \",0]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[\"N:\",etafnonretunrguest,\" X 80\"]})]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-muted\",children:(etafnonretunrguest*80).toFixed(2)})]})});}}else if(feedata.id==4){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item d-flex justify-content-between lh-condensed\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h6\",{className:\"my-0\",children:feedata.feefor}),/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[\"P : \",purchase,\" X \",feedata.amount]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[\"R : \",rental,\" X \",feedata.rentprice]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[\"A : \",alreadyhave,\" X \",0]}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-muted\",children:(purchase*feedata.amount+rental*feedata.rentprice).toFixed(2)})]})});}else if(feedata.id==2){if(packageid==\"\"||packageid==\"1\"){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item d-flex justify-content-between lh-condensed\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h6\",{className:\"my-0\",children:feedata.feefor}),/*#__PURE__*/_jsx(\"sup\",{style:{fontSize:\"10px\"},className:\"text-muted\",children:\"(two way price)\"}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-muted\",children:feedata.amount.toFixed(2)})]})});}else{return/*#__PURE__*/_jsx(_Fragment,{});}}else if(feedata.id==9){if(packageid==\"\"||packageid==\"1\"){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item d-flex justify-content-between lh-condensed\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h6\",{className:\"my-0\",children:feedata.feefor})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-muted\",children:(islandhoppingamt*feevalsprice).toFixed(2)})]})});}else{return/*#__PURE__*/_jsx(_Fragment,{});}}else if(feedata.id==5){if(packageid==\"\"||packageid==\"1\"){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item d-flex justify-content-between lh-condensed\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h6\",{className:\"my-0\",children:feedata.feefor})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-muted\",children:feedata.amount.toFixed(2)})]})});}else{return/*#__PURE__*/_jsx(_Fragment,{});}}else{return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item d-flex justify-content-between lh-condensed\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h6\",{className:\"my-0\",children:feedata.feefor})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-muted\",children:feedata.amount.toFixed(2)})]})});}})})]})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 mb-6\",children:function(){var rows=[];if(isvehicle&&localtravelinfodata.isguest==false){rows.push(/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(CButton,{block:true,onClick:function onClick(){return backtomainaction();},variant:\"\",color:\"primary\",style:{backgroundColor:\"white\",color:\"#007bff\"},children:[\"Back\",\" \"]})}));}else{rows.push(/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(CButton,{block:true,onClick:function onClick(){return backaction();},variant:\"\",color:\"primary\",style:{display:localtravelinfodata.isguest==false?\"none\":\"\",backgroundColor:\"white\",color:\"#007bff\"},children:[\"Back\",\" \"]})}));}return rows;}()}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 mb-6\",children:function(){var rows=[];if(isvehicle){rows.push(/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(CButton,{block:true,onClick:function onClick(){return setaction();},style:{backgroundColor:\"white\",color:\"#007bff\"},variant:\"\",color:\"primary\",children:[localtravelinfodata.isguest==true?\"Proceed to Pay\":\"Next\",\" \"]})}));}else{rows.push(/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(CButton,{block:true,onClick:function onClick(){return nextotguest();},style:{backgroundColor:\"white\",color:\"#007bff\"},variant:\"\",color:\"primary\",children:[localtravelinfodata.isguest==true?\"Proceed to Pay\":\"Next\",\" \"]})}));}return rows;}()})]})]}),/*#__PURE__*/_jsxs(CModal,{show:isconfirmbooking,onClose:function onClose(){return setIsConfirmBooking(!isconfirmbooking);},size:\"lg\",children:[/*#__PURE__*/_jsx(CModalHeader,{closeButton:true,children:/*#__PURE__*/_jsxs(CModalTitle,{children:[\"Booking \",/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:\" Detail\"}),\" \"]})}),/*#__PURE__*/_jsx(CModalBody,{children:/*#__PURE__*/_jsx(CCol,{md:\"12\",children:/*#__PURE__*/_jsx(CForm,{children:/*#__PURE__*/_jsxs(CRow,{children:[/*#__PURE__*/_jsxs(CCol,{xs:\"3\",children:[/*#__PURE__*/_jsx(CLabel,{children:\"From Date\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(CLabel,{children:/*#__PURE__*/_jsx(\"b\",{children:bookingdetail.fromdate})})]}),/*#__PURE__*/_jsxs(CCol,{xs:\"3\",children:[/*#__PURE__*/_jsx(CLabel,{children:\"To Date\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(CLabel,{children:/*#__PURE__*/_jsx(\"b\",{children:bookingdetail.todate})})]}),/*#__PURE__*/_jsxs(CCol,{xs:\"3\",children:[/*#__PURE__*/_jsx(CLabel,{children:\"Time\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(CLabel,{children:/*#__PURE__*/_jsx(\"b\",{children:bookingdetail.timeslot})})]}),/*#__PURE__*/_jsxs(CCol,{xs:\"3\",hidden:!isshowboatselection,children:[/*#__PURE__*/_jsx(CLabel,{children:\"Boat Capacity\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(CLabel,{children:/*#__PURE__*/_jsx(\"b\",{children:bookingdetail.boatcapcity})})]}),/*#__PURE__*/_jsxs(CCol,{xs:\"3\",children:[/*#__PURE__*/_jsx(CLabel,{children:\"Package\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(CLabel,{children:/*#__PURE__*/_jsx(\"b\",{children:bookingdetail.package})})]}),/*#__PURE__*/_jsxs(CCol,{xs:\"3\",hidden:!isshowboatselection,children:[/*#__PURE__*/_jsx(CLabel,{children:\"Boat Provided by Resort\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(CLabel,{children:/*#__PURE__*/_jsx(\"b\",{children:bookingdetail.isboatproviderbyresort==true?\"Yes\":\"No\"})})]}),/*#__PURE__*/_jsxs(CCol,{xs:\"3\",children:[/*#__PURE__*/_jsx(CLabel,{children:\"Accommodation\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(CLabel,{children:/*#__PURE__*/_jsx(\"b\",{children:bookingdetail.hotel})})]}),/*#__PURE__*/_jsxs(CCol,{xs:\"3\",hidden:!isshowboatselection,children:[/*#__PURE__*/_jsx(CLabel,{children:\"Vehicle Parking\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(CLabel,{children:/*#__PURE__*/_jsx(\"b\",{children:bookingdetail.vehicle})})]}),/*#__PURE__*/_jsxs(CCol,{xs:\"3\",children:[/*#__PURE__*/_jsx(CLabel,{children:\"Number Of Guest\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(CLabel,{children:/*#__PURE__*/_jsx(\"b\",{children:bookingdetail.numberoofguest})})]}),/*#__PURE__*/_jsxs(CCol,{xs:\"3\",children:[/*#__PURE__*/_jsx(CLabel,{children:\"IslandHopping\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(CLabel,{children:/*#__PURE__*/_jsxs(\"b\",{children:[\"PHP \",parseFloat(bookingdetail.islandhoppingamt).toFixed(2)]})})]}),/*#__PURE__*/_jsxs(CCol,{xs:\"3\",children:[/*#__PURE__*/_jsx(CLabel,{children:\"Total\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(CLabel,{children:/*#__PURE__*/_jsxs(\"b\",{children:[\"PHP \",parseFloat(bookingdetail.totalcharge).toFixed(2)]})})]})]})})})}),/*#__PURE__*/_jsxs(CModalFooter,{children:[/*#__PURE__*/_jsx(CImg,{src:processing,height:\"50\",width:\"50\",style:{display:isprocessing==true?\"\":\"none\"},alt:\"qrcode\"}),/*#__PURE__*/_jsx(CButton,{color:\"primary \",style:{float:\"right\",display:isprocessing==true?\"none\":\"\"},onClick:function onClick(){return Savedata();},children:\"Proceed to Pay\"}),/*#__PURE__*/_jsx(CButton,{color:\"primary \",style:{float:\"right\"},onClick:function onClick(){return setIsConfirmBooking(!isconfirmbooking);},children:\"Make Changes\"})]})]}),/*#__PURE__*/_jsxs(CModal,{show:isopenbulkupload,onClose:function onClose(){return setIsOpenBulkUpload(!isopenbulkupload);},size:\"lgx\",children:[/*#__PURE__*/_jsxs(CModalHeader,{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Bulk Upload\"}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsxs(CModalBody,{children:[/*#__PURE__*/_jsxs(CCol,{md:\"12\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Please download the excel template from below and fill out the guest detail and upload it.\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{style:{color:\"red\"},children:\"(Required fields FirstName,LastName,Gender,Address,Mobile Number,EmailID)\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(CCol,{md:\"12\",children:/*#__PURE__*/_jsxs(\"a\",{href:common.guesttemplate,download:true,children:[\"Download Guest Template\",\" \"]})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(CCol,{md:\"12\",children:/*#__PURE__*/_jsx(CForm,{children:/*#__PURE__*/_jsxs(CRow,{children:[/*#__PURE__*/_jsxs(CCol,{xs:\"8\",children:[/*#__PURE__*/_jsx(CLabel,{children:\"Filename\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:handlebulkUpload,style:{color:\"transparent\"},name:\"ImportExcel\",title:\"Select File\",id:\"importData\",accept:\".xls,.xlsx\"}),function(){var rows=[];if(bulkuploadfilename!=undefined){rows.push(/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(CCol,{xs:\"12\",style:{color:\"green\"},children:bulkuploadfilename.name})}));return rows;}}()]}),/*#__PURE__*/_jsx(CCol,{xs:\"4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",hidden:bulkuploaddata.length>0?false:true,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-6\",children:[\" \",/*#__PURE__*/_jsxs(CButton,{block:true,onClick:function onClick(){return savebulkupload();},color:\"primary\",children:[\"Save\",\" \"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-6\",children:[\" \",/*#__PURE__*/_jsxs(CButton,{block:true,onClick:function onClick(){return cancelbulkupload();},color:\"primary\",children:[\"Cancel\",\" \"]})]})]})})]})})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(CCol,{md:\"12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{}),/*#__PURE__*/_jsx(\"th\",{children:\"First Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Last Name\"}),/*#__PURE__*/_jsxs(\"th\",{children:[/*#__PURE__*/_jsx(\"span\",{style:{color:\"transparent\"},children:\"aaaaaaaaaaaaa\"}),/*#__PURE__*/_jsx(\"br\",{}),\"Date Of Birth\"]}),/*#__PURE__*/_jsx(\"th\",{children:\"Gender\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Address\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Mobile Number\"}),/*#__PURE__*/_jsx(\"th\",{children:\"EmailID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Rent Bracelet\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Island Hopping\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Citizen\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Country\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Province\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Municipality\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Maubanin\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:function(){var rows=[];if(bulkuploadfilename!=undefined){for(var i=0;i<bulkuploaddata.length;i++){var _uploadedfile=bulkuploaddata[i];rows.push(/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{children:[\" \",_uploadedfile.isvalidmunicipality==true?/*#__PURE__*/_jsx(CIcon,{name:\"cil-thumb-up\",style:{color:\"green \"}}):/*#__PURE__*/_jsx(CIcon,{name:\"cil-thumb-down\",style:{color:\"red\"}}),\" \"]}),/*#__PURE__*/_jsx(\"td\",{children:_uploadedfile.FirstName}),/*#__PURE__*/_jsx(\"td\",{children:_uploadedfile.LastName}),/*#__PURE__*/_jsx(\"td\",{children:_uploadedfile.DateOfBirth}),/*#__PURE__*/_jsx(\"td\",{children:_uploadedfile.Gender==0?\"Male\":_uploadedfile.Gender==1?\"Femal\":\"Other\"}),/*#__PURE__*/_jsx(\"td\",{children:_uploadedfile.Address}),/*#__PURE__*/_jsx(\"td\",{children:_uploadedfile.MobileNumber}),/*#__PURE__*/_jsx(\"td\",{children:_uploadedfile.EmailID}),/*#__PURE__*/_jsx(\"td\",{children:_uploadedfile.RentBracelet==true?\"Yes\":\"No\"}),/*#__PURE__*/_jsx(\"td\",{children:_uploadedfile.IslandHopping==true?\"Yes\":\"No\"}),/*#__PURE__*/_jsx(\"td\",{children:_uploadedfile.Citizendesc}),/*#__PURE__*/_jsx(\"td\",{children:_uploadedfile.Countrydesc}),/*#__PURE__*/_jsx(\"td\",{children:_uploadedfile.Provincedesc}),/*#__PURE__*/_jsx(\"td\",{style:{color:_uploadedfile.isvalidmunicipality==true?\"\":\"red\"},children:_uploadedfile.Municipalitydesc}),/*#__PURE__*/_jsx(\"td\",{children:_uploadedfile.Maubanin==true?\"Yes\":\"No\"})]})}));}return rows;}}()})]})})})]})]}),/*#__PURE__*/_jsxs(CModal,{show:isconfirmchange,onClose:function onClose(){return setIsConfirmChange(!isconfirmchange);},size:\"sm\",children:[/*#__PURE__*/_jsx(CModalHeader,{children:\"Confirmation!\"}),/*#__PURE__*/_jsxs(CModalBody,{children:[\"Are you sure you want to change number of guest?\",/*#__PURE__*/_jsx(\"br\",{}),\"(this will remove your bulk upload guest detail)\"]}),/*#__PURE__*/_jsxs(CModalFooter,{children:[/*#__PURE__*/_jsx(CButton,{color:\"primary \",style:{float:\"right\",display:isprocessing==true?\"none\":\"\"},onClick:function onClick(){return Changenumberofguest();},children:\"Change\"}),/*#__PURE__*/_jsx(CButton,{color:\"primary \",style:{float:\"right\"},onClick:function onClick(){return setIsConfirmChange(!isconfirmchange);},children:\"Cancel\"})]})]})]});};export default TravelInfo;","map":{"version":3,"sources":["D:/I2T/Smarttech/tourbookingwebgit/src/views/pages/register/TravelInfo.js"],"names":["React","useState","useEffect","useContext","useHistory","useLocation","CCard","CCardBody","CCardHeader","CCol","CRow","CButton","CModal","CModalTitle","CModalHeader","CModalBody","CForm","CInputGroupPrepend","CInputGroupText","CInputGroup","CInput","CFormGroup","CInputCheckbox","CLabel","CModalFooter","CBadge","CContainer","CSelect","CCardFooter","CImg","CHeader","DataTable","DataTableExtensions","Select","CIcon","dataservice","toast","InputDecimal","DatePicker","discounticon","moment","uuid","common","userContext","FormFile","CheckedSelect","XLSX","freeSet","getIconsView","TravelInfo","traveldata","processing","process","env","PUBLIC_URL","notify","type","message","systemerror","success","position","POSITION","TOP_CENTER","dtlmsg","undefined","error","warning","gacc","setgacc","localtravelinfodata","setLocalTravelInfoData","isguest","setIsGuest","isupdatevehicle","setIsUpdateVehicle","isboatselection","setIsBoatSeletion","ishotelprovideboat","setIsHotelProvideBoat","guestactivepostion","setActivePosition","filedata","setfiledata","selectedpreferredtimemorning","setselectedpreferredtimemorning","isvehicle","setIsVehicle","isboatselectionopen","setIsBoatSeletionOpen","isconfirmbooking","setIsConfirmBooking","numberofdaystravel","setNumberofDays","returnguestmsg","setReturnGuestMsg","isshowboatselection","setIsShowBoatSelection","options","label","value","disabled","currentSelection","feesdata","setFeesData","getfees","requestfor","data","flag","then","resultkey","result","resultvalue","catch","edata","toString","numberofguests","setNumberOfGuestData","timeslot","setTimeSlot","rawtimeslot","setRawTimeSlot","selectednumberguest","setSelectedNumberGuest","selectedtimeslot","setSelectedTimeSlot","selectednumberguestbeforeconfirm","setSelectedNumberGuestBeforConfirm","getnumberofguest","countdata","index","parseInt","push","handleChangeOptionNOG","e","bulkuploaddata","length","setIsConfirmChange","isconfirmchange","handleChangeOptionTS","Date","selectedfromdate","setFromdate","setselectedfromdate","setTodate","todata","fromdata","diffTime","Math","abs","diffDays","ceil","selectedtodate","setselectedtodate","boatTypeData","setBoatTypeData","getBoatType","d","isactive","id","packdetail","desc","checked","handleboattypechanges","target","newdata","map","item","updatedItem","setSelectedBoatData","filtertimeslot","filter","x","boattype","getboatboatavailabilitybydate","filterBoat","boatdataprocess","setBoatdata","setseletedboatbaseonavailability","packagedata","setPackagedata","handlepackagechanges","_preferredhotels","rawpreferredhotels","packageid","description","setPreferredHotels","setdefaultpackage","getPackage","price","isboatreq","boatdata","boatdataarr","setBoatdataarr","setBoatDataProcess","selectedboatdata","boatstatusdata","setBoatstatusdata","handleChangeOptionBC","Array","isArray","parseFloat","capacity","slotid","obj","capdetail","obj1","bookingdate","format","tempdata","getboatdata","element","twowayprice","setRawPreferredHotels","preferredhotels","selectedpreferredhotels","setSelectedPreferredHotels","hotelbookingref","setHotelBookingRef","handleChangeOptionPH","Ph","getpreferredhotels","vehicleselectdata","setVehicleSelectData","selectedvehicle","setSelectedVehicle","vehicledata","setvehiclearray","vehiclegriddata","setVehicleGridData","selvehiclefordelete","setSelectevehiclefordelet","vehicleqty","setVehicleQty","fromdate","todate","package","hotel","isboatproviderbyresort","vehicle","numberoofguest","ETAF","Bracelet","totalcharge","islandhoppingamt","bookingdetail","setBookingDetail","columns","name","selector","sortable","ignoreRowClick","cell","row","editdata","vgridata","setvgriddata","qty","console","log","vh","typeofvehicle","handleChangeVehicle","handleChangevehicleqty","_convertedval","isNaN","newArr","recaltotal","updatevehicleprice","tamount","velement","amount","unitprice","filterdata","totalamount","fees","addvehicle","_obj","_objdata","filtervh","getvehicles","slotdate","setSlotdate","getslotdata","ss","getCitizenship","getCountry","getProvince","getMunicipalities","getGender","guestdata","defaultguest","Firstname","Middlename","Lastname","DOB","Citizenship","CountryofOrigin","Province","Municipality","Gender","Address","Mobilenumber","emailid","ismaubancitizen","fileid","newfilename","oldfilename","isprimary","isdiscountapplied","discountedamt","discountinfo","isreturningguest","isguestvaildated","isrentbracelet","braceletavailable","isLandHopping","filterpck","amountvalue","fp","fpelement","selectedboats","bp","bpelement","updateddata","backaction","backtomainaction","country","setGender","nextotguest","validationmainscreen","setaction","checkvehiclerequire","parkingnotreq","selveh","setGuestArr","setSelectedDOB","citizenship","setSelectedCS","setSelectedCOO","provincearr","RawProvince","countryid","setSelectedGender","provincedata","getdropdownarr","setProvince","_defaultprovince","_deafultmunicipality","Municipalityarr","RawMunicipality","provinceid","municipalitydata","setMunicipality","setSelectedProvince","setSelectedMunicipality","setTimeout","setselectguest","touristinfodata","seltimeslot","val","floor","random","Difference_In_Time","Difference_In_Days","totalvehicleingrid","i","_guestinfotosave","guestinfo","setvehicle","finalvehicle","parkele","cost","totalcost","finalelement","veh","substring","boatcap","boatinfo","islandhopper","boatcapcity","numberofguest","vaildationbeforepay","iscagselected","_cap","bi","guestarr","selecteddob","setCitizenship","selectedCS","setRawProvince","setRawMunicipality","selectedProvince","selectedMunicipality","setCountry","selectedCOO","selectedGender","isprocessing","setIsProcessing","isvaildatereturnprocessing","setIsVaildatereturnProcessing","vaildatereturnmsg","setVaildateReturnmsg","handleChangeCOO","handleChangeCS","handleChangeOptionMunicipality","handleChangeOptionProvince","handleChange","files","onChangeDateOfBirth","dob","today","age","totalamt","t","feevals","numofguest","amt","selectedpck","purchase","rental","alreadyhave","purchaseprice","purchaserent","rentprice","parkingcharg","elementpark","discountamount","guestinfoele","getDate","getMonth","getFullYear","baramt","calculateSale","islandhoppingprice","islandhoppingrent","getcapacityofboat","count","updatecalculation","listPrice","discount","toFixed","handleChangeOptionGender","handleChangeHPB","handleChangeCheckbox","guestcounter","regex","test","funfileupload","numberoffilestoupload","form_data","FormData","append","requestOptions","method","body","fetch","fileuploadurl","response","json","ok","status","Promise","reject","resultdata","finalsave","Savedata","numberofnights","submitdata","numberofdays","pax","paymentid","selectedvehicleinfo","touristinfo","chargesinfo","numberofvehicle","touristvehicles","slotdetail","packageinfo","bulkUpload","isBulkUpload","touristcount","checkdata","isSlotAvialble","responseurl","JSON","parse","url","results","window","location","href","errormdg","stringify","handleperferredtime","vaildateguest","selectedguest","firstname","lastname","gender","lastvisited","address1","mobilenumber","_selcitizenid","citizenid","_selcountry","nationalityid","isopenbulkupload","setIsOpenBulkUpload","setBulkUploadData","bulkuploadfilename","setbulkuploadfilename","bulkupload","handlebulkUpload","preventDefault","f","reader","FileReader","onload","readedData","read","cellText","cellDates","wsname","SheetNames","ws","Sheets","dataParse","utils","sheet_to_json","header","raw","dateNF","bulkupdatevalues","_gender","_citizen","toLowerCase","_CountryofOrigin","_validateprovide","_Province","municipalityarr","_validmunicipality","_Municipality","isvalidmunicipality","FirstName","LastName","DateOfBirth","MobileNumber","EmailID","RentBracelet","IslandHopping","Citizen","Citizendesc","Country","Countrydesc","Provincedesc","Municipalitydesc","readAsBinaryString","cancelbulkupload","savebulkupload","Changenumberofguest","display","color","find","rows","_pck","cls","includes","width","fontSize","_veh","feedata","etafretunrguest","etafnonretunrguest","feevalsprice","feefor","backgroundColor","float","guesttemplate","_uploadedfile","Maubanin"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport {\r\n  CCard,\r\n  CCardBody,\r\n  CCardHeader,\r\n  CCol,\r\n  CRow,\r\n  CButton,\r\n  CModal,\r\n  CModalTitle,\r\n  CModalHeader,\r\n  CModalBody,\r\n  CForm,\r\n  CInputGroupPrepend,\r\n  CInputGroupText,\r\n  CInputGroup,\r\n  CInput,\r\n  CFormGroup,\r\n  CInputCheckbox,\r\n  CLabel,\r\n  CModalFooter,\r\n  CBadge,\r\n  CContainer,\r\n  CSelect,\r\n  CCardFooter,\r\n  CImg,\r\n  CHeader,\r\n} from \"@coreui/react\";\r\n\r\nimport DataTable from \"react-data-table-component\";\r\nimport DataTableExtensions from \"react-data-table-component-extensions\";\r\nimport Select from \"react-select\";\r\nimport CIcon from \"@coreui/icons-react\";\r\nimport dataservice from \"../../service/dataservice\";\r\nimport { toast } from \"react-toastify\";\r\nimport { InputDecimal } from \"../../commoncomponents/inputdecimal\";\r\nimport DatePicker from \"react-date-picker\";\r\nimport { discounticon } from \"src/assets/icons/discounticon\";\r\nimport moment from \"moment\";\r\nimport uuid from \"react-uuid\";\r\nimport common from \"../../common/common\";\r\nimport { userContext } from \"src/views/userContext\";\r\nimport { FormFile } from \"react-bootstrap\";\r\nimport CheckedSelect from \"react-select-checked\";\r\nimport * as XLSX from \"xlsx\";\r\nimport { freeSet } from \"@coreui/icons\";\r\nimport { getIconsView } from \"../../icons/brands/Brands.js\";\r\nconst TravelInfo = (traveldata) => {\r\n  var processing = process.env.PUBLIC_URL + \"/processing.gif\";\r\n\r\n  /*#region notification  */\r\n  const notify = (type, message, systemerror) => {\r\n    switch (type) {\r\n      case 1:\r\n        toast.success(message, {\r\n          position: toast.POSITION.TOP_CENTER,\r\n        });\r\n        break;\r\n      case 2:\r\n        var dtlmsg;\r\n        if (systemerror !== undefined) {\r\n          dtlmsg = (\r\n            <div>\r\n              Please contact to administrator!<br></br>\r\n              {message}\r\n            </div>\r\n          );\r\n        } else {\r\n          dtlmsg = <div>{message}</div>;\r\n        }\r\n\r\n        toast.error(\r\n          <div>\r\n            <CIcon name=\"cil-warning\" /> Error\r\n            {dtlmsg}\r\n          </div>,\r\n          {\r\n            position: toast.POSITION.TOP_CENTER,\r\n          }\r\n        );\r\n        break;\r\n      case 3:\r\n        toast.warning(message, {\r\n          position: toast.POSITION.TOP_CENTER,\r\n        });\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n  /*#endregion notification  */\r\n  const { gacc, setgacc } = useContext(userContext);\r\n  const [localtravelinfodata, setLocalTravelInfoData] = useState([]);\r\n  const [isguest, setIsGuest] = useState(false);\r\n  const [isupdatevehicle, setIsUpdateVehicle] = useState(false);\r\n  const [isboatselection, setIsBoatSeletion] = useState(true);\r\n  const [ishotelprovideboat, setIsHotelProvideBoat] = useState(false);\r\n  const [guestactivepostion, setActivePosition] = useState(0);\r\n  const [filedata, setfiledata] = useState([]);\r\n  const [selectedpreferredtimemorning, setselectedpreferredtimemorning] =\r\n    useState(true);\r\n  const [isvehicle, setIsVehicle] = useState(false);\r\n  const [isboatselectionopen, setIsBoatSeletionOpen] = useState(true);\r\n  const [isconfirmbooking, setIsConfirmBooking] = useState(false);\r\n  const [numberofdaystravel, setNumberofDays] = useState(1);\r\n  const [returnguestmsg, setReturnGuestMsg] = useState(\"\");\r\n  const [isshowboatselection, setIsShowBoatSelection] = useState(true);\r\n  const options = [\r\n    { label: \"Chocolate\", value: \"chocolate\", disabled: true },\r\n    { label: \"Vanilla\", value: \"vanilla\" },\r\n    { label: \"Strawberry\", value: \"strawberry\" },\r\n    { label: \"Caramel\", value: \"caramel\" },\r\n  ];\r\n\r\n  const currentSelection = [{ label: \"Caramel\", value: \"caramel\" }];\r\n  const [feesdata, setFeesData] = useState([]);\r\n  const getfees = () => {\r\n    dataservice(\"fees\", { requestfor: \"getfees\", data: { flag: \"a\" } })\r\n      .then(function (data) {\r\n        if (data.resultkey == 1) {\r\n          //\r\n          var result = data.resultvalue;\r\n\r\n          setFeesData({ ...feesdata, data: result });\r\n        } else {\r\n          //  notify(2,\"No data found\");\r\n        }\r\n      })\r\n      .catch(function (edata) {\r\n        notify(2, edata.toString(), 1);\r\n      });\r\n  };\r\n  /*#region number of guest  */\r\n  const [numberofguests, setNumberOfGuestData] = useState([]);\r\n  const [timeslot, setTimeSlot] = useState([]);\r\n  const [rawtimeslot, setRawTimeSlot] = useState([]);\r\n  const [selectednumberguest, setSelectedNumberGuest] = useState(\"\");\r\n  const [selectedtimeslot, setSelectedTimeSlot] = useState(\"\");\r\n  const [selectednumberguestbeforeconfirm, setSelectedNumberGuestBeforConfirm] =\r\n    useState(\"\");\r\n  const getnumberofguest = () => {\r\n    let countdata = [];\r\n    for (let index = 1; index <= parseInt(100); index++) {\r\n      countdata.push({\r\n        value: index,\r\n        label: index.toString(),\r\n      });\r\n    }\r\n    setNumberOfGuestData(countdata);\r\n  };\r\n  const handleChangeOptionNOG = (e) => {\r\n    if (bulkuploaddata.length > 0) {\r\n      setSelectedNumberGuestBeforConfirm(e.value);\r\n      setIsConfirmChange(!isconfirmchange);\r\n    } else {\r\n      setSelectedNumberGuest(e.value);\r\n    }\r\n  };\r\n  const handleChangeOptionTS = (e) => {\r\n    setSelectedTimeSlot(e.value);\r\n  };\r\n  /*#endregion number of guest  */\r\n  /*#region SDate  */\r\n\r\n  const [selectedfromdate, setFromdate] = useState([new Date()]);\r\n  const setselectedfromdate = (e) => {\r\n    setFromdate(e);\r\n    setTodate(e);\r\n    var todata = e;\r\n    var fromdata = e;\r\n    const diffTime = Math.abs(todata - fromdata);\r\n    // const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24))+1;\r\n    let diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\r\n    if (diffDays == 0 || diffDays == 1) {\r\n      diffDays = 1;\r\n    }\r\n    setNumberofDays(diffDays);\r\n  };\r\n\r\n  /*#endregion SDate  */\r\n\r\n  /*#region EDate  */\r\n  const [selectedtodate, setTodate] = useState([new Date()]);\r\n  const setselectedtodate = (e) => {\r\n    setTodate(e);\r\n    var todata = e;\r\n    var fromdata =\r\n      selectedfromdate[0] == undefined ? selectedfromdate : selectedfromdate[0];\r\n    const diffTime = Math.abs(todata - fromdata);\r\n    // const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24))+1;\r\n    let diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\r\n    if (diffDays == 0 || diffDays == 1) {\r\n      diffDays = 1;\r\n    }\r\n    setNumberofDays(diffDays);\r\n  };\r\n\r\n  /*#endregion EDate  */\r\n  /*#region Boat Type  */\r\n  const [boatTypeData, setBoatTypeData] = useState([]);\r\n\r\n  const getBoatType = () => {\r\n    dataservice(\"boattype\", { requestfor: \"getboattype\", data: { flag: \"a\" } })\r\n      .then(function (data) {\r\n        debugger;\r\n        if (data.resultkey == 1) {\r\n          var result = data.resultvalue;\r\n          var countdata = [];\r\n          for (let index = 0; index < result.length; index++) {\r\n            //\r\n            var d = result[index];\r\n\r\n            if (d.isactive == \"1\") {\r\n              if (d.id == 1) {\r\n                var packdetail = d.desc;\r\n                countdata.push({\r\n                  id: d.id,\r\n                  label: packdetail,\r\n                  checked: true,\r\n\r\n                });\r\n              } else {\r\n                var packdetail = d.desc;\r\n                countdata.push({\r\n                  id: d.id,\r\n                  label: packdetail,\r\n                  checked: false,\r\n\r\n                });\r\n              }\r\n            }\r\n          }\r\n          setBoatTypeData(countdata);\r\n\r\n        } else {\r\n        }\r\n      })\r\n      .catch(function (edata) {\r\n        notify(2, edata.toString(), 1);\r\n      });\r\n  };\r\n\r\n\r\n\r\n  const handleboattypechanges = (e) => {\r\n    const { id, value } = e.target;\r\n\r\n    const newdata = boatTypeData.map((item) => {\r\n      if (item.id.toString() === id) {\r\n        const updatedItem = {\r\n          ...item,\r\n          checked: true,\r\n        };\r\n\r\n        return updatedItem;\r\n      } else {\r\n        const updatedItem = {\r\n          ...item,\r\n          checked: false,\r\n        };\r\n\r\n        return updatedItem;\r\n      }\r\n\r\n      return item;\r\n    });\r\n    debugger;\r\n    setBoatTypeData(newdata);\r\n    if (id == 3) {\r\n      setSelectedBoatData([]);\r\n      var filtertimeslot = rawtimeslot.filter(x => x.boattype == 1);\r\n      setTimeSlot(filtertimeslot);\r\n\r\n    } else {\r\n      var filtertimeslot = rawtimeslot.filter(x => x.boattype == id);\r\n      setTimeSlot(filtertimeslot);\r\n\r\n      getboatboatavailabilitybydate();\r\n\r\n\r\n    }\r\n\r\n    var filterBoat = boatdataprocess.filter(x => x.boattype == id)\r\n    setBoatdata(filterBoat);\r\n    setseletedboatbaseonavailability();\r\n\r\n\r\n  };\r\n  /*#endregion Boat Type  */\r\n\r\n  /*#region Package  */\r\n  const [packagedata, setPackagedata] = useState([]);\r\n\r\n  const handlepackagechanges = (e) => {\r\n    const { id, value } = e.target;\r\n    var _preferredhotels = rawpreferredhotels.filter(x => x.packageid == id);\r\n    let countdata = [];\r\n    for (let index = 0; index < _preferredhotels.length; index++) {\r\n      let item = _preferredhotels[index];\r\n      countdata.push({ value: item.id, label: item.description });\r\n    }\r\n    setPreferredHotels(countdata);\r\n\r\n    if (id == \"1\") {\r\n      setIsBoatSeletion(value == \"false\" ? false : true);\r\n      getboatboatavailabilitybydate();\r\n      setseletedboatbaseonavailability();\r\n      setIsShowBoatSelection(true);\r\n    } else {\r\n      setIsShowBoatSelection(false);\r\n    }\r\n\r\n    const newdata = packagedata.map((item) => {\r\n      if (item.id.toString() === id) {\r\n        const updatedItem = {\r\n          ...item,\r\n          checked: true,\r\n        };\r\n\r\n        return updatedItem;\r\n      } else {\r\n        const updatedItem = {\r\n          ...item,\r\n          checked: false,\r\n        };\r\n\r\n        return updatedItem;\r\n      }\r\n\r\n      return item;\r\n    });\r\n\r\n    setPackagedata(newdata);\r\n  };\r\n\r\n  const setdefaultpackage = () => {\r\n    setIsBoatSeletion(false);\r\n    setseletedboatbaseonavailability();\r\n\r\n  };\r\n\r\n  const getPackage = () => {\r\n    dataservice(\"package\", { requestfor: \"getpackage\", data: { flag: \"a\" } })\r\n      .then(function (data) {\r\n        if (data.resultkey == 1) {\r\n          var result = data.resultvalue;\r\n          var countdata = [];\r\n          for (let index = 0; index < result.length; index++) {\r\n            //\r\n            var d = result[index];\r\n\r\n            if (d.isactive == \"1\") {\r\n              if (d.id == 1) {\r\n                var packdetail = d.description;\r\n                countdata.push({\r\n                  id: d.id,\r\n                  label: packdetail,\r\n                  checked: true,\r\n                  price: d.price,\r\n                  isboatreq: d.isboatreq\r\n                });\r\n              } else {\r\n                var packdetail = d.description;\r\n                countdata.push({\r\n                  id: d.id,\r\n                  label: packdetail,\r\n                  checked: false,\r\n                  price: d.price,\r\n                  isboatreq: d.isboatreq\r\n                });\r\n              }\r\n            }\r\n          }\r\n          setPackagedata(countdata);\r\n          setdefaultpackage();\r\n        } else {\r\n        }\r\n      })\r\n      .catch(function (edata) {\r\n        notify(2, edata.toString(), 1);\r\n      });\r\n  };\r\n  /*#endregion Package  */\r\n\r\n  /*#region Boat  */\r\n  const [boatdata, setBoatdata] = useState([]);\r\n  const [boatdataarr, setBoatdataarr] = useState([]);\r\n  const [boatdataprocess, setBoatDataProcess] = useState([]);\r\n  const [selectedboatdata, setSelectedBoatData] = useState([]);\r\n  const [boatstatusdata, setBoatstatusdata] = useState();\r\n  const handleChangeOptionBC = (e) => {\r\n    // var bc = boatdata.filter(obj => obj.value === e.value);\r\n    // setSelectedBoatData(bc);\r\n    setSelectedBoatData(Array.isArray(e) ? e.map((x) => x.value) : []);\r\n    //let bcapacityitem = boatdata.result.find(obj => obj.id === e.value);\r\n  };\r\n  const setseletedboatbaseonavailability = () => {\r\n    var countdata = [];\r\n    for (let index = 0; index < boatdataarr.length; index++) {\r\n      var d = boatdataarr[index];\r\n      d[\"perusercost\"] = parseFloat(d.price) / parseFloat(d.capacity);\r\n      if (d.isactive == \"1\") {\r\n        if (selectedpreferredtimemorning) {\r\n          if (d.slotid == 1) {\r\n            var obj = {};\r\n            var capdetail =\r\n              d.description + `  (capacity-` + d.capacity + `)` + ` (7:00 AM)`;\r\n            obj = { value: d.uuid, label: capdetail };\r\n            countdata.push(obj);\r\n          }\r\n        } else {\r\n          if (d.slotid == 2) {\r\n            var obj1 = {};\r\n            var capdetail =\r\n              d.description + `  (capacity-` + d.capacity + `)` + ` (12:00 PM)`;\r\n            obj1 = { value: d.uuid, label: capdetail };\r\n            countdata.push(obj1);\r\n          }\r\n        }\r\n      }\r\n    }\r\n    //  setBoatdata(countdata);\r\n  };\r\n  const getboatboatavailabilitybydate = () => {\r\n    var fromdata =\r\n      selectedfromdate[0] == undefined ? selectedfromdate : selectedfromdate[0];\r\n    dataservice(\"boat\", {\r\n      requestfor: \"checkboatavailability\",\r\n      data: { bookingdate: moment(fromdata).format(\"YYYY-MM-DD\") },\r\n    })\r\n      .then(function (data) {\r\n        if (data.resultkey == 1) {\r\n          var tempdata = data.resultvalue;\r\n          setBoatstatusdata(tempdata);\r\n        } else {\r\n          //  notify(2,\"No data found\");\r\n        }\r\n      })\r\n      .catch(function (edata) {\r\n        notify(2, edata.toString(), 1);\r\n      });\r\n  };\r\n  const getboatdata = () => {\r\n    dataservice(\"boat\", { requestfor: \"getboatcapacity\", data: { flag: \"a\" } })\r\n      .then(function (data) {\r\n        if (data.resultkey == 1) {\r\n          var tempdata = data.resultvalue;\r\n          debugger;\r\n          var result = [];\r\n\r\n          var countdata = [];\r\n          for (let index = 0; index < tempdata.length; index++) {\r\n            let element = tempdata[index];\r\n            element.uuid = uuid();\r\n            //     var obj={\r\n            //       uuid:uuid(),\r\n            //       capacity: element.capacity,\r\n            //       description: element.description,\r\n            //       id: element.id,\r\n            //       isactive: \"1\",\r\n            //       ownername: element.ownername,\r\n            //       price: element.price,\r\n            //       slotid: 1,\r\n            //       status: element.status,\r\n            //       twowayprice:element.twowayprice\r\n            //   result.push(element);\r\n            var obj1 = {};\r\n            if (element.boattype == 2) {\r\n              obj1 = {\r\n                value: element.uuid,\r\n                label: `  LGU Boat`,\r\n                price: element.twowayprice,\r\n                boattype: element.boattype\r\n              };\r\n            } else {\r\n              obj1 = {\r\n                value: element.uuid,\r\n                label: `  (capacity-` + element.capacity + `)`,\r\n                price: element.twowayprice,\r\n                boattype: element.boattype\r\n              };\r\n            }\r\n\r\n            countdata.push(obj1);\r\n          }\r\n          setBoatdataarr(tempdata);\r\n          setBoatDataProcess(countdata);\r\n          var filterBoat = countdata.filter(x => x.boattype == 1)\r\n          if (filterBoat.length > 0) {\r\n            setIsBoatSeletionOpen(false);\r\n          } else {\r\n            setIsBoatSeletionOpen(true);\r\n          }\r\n\r\n          setBoatdata(filterBoat);\r\n\r\n          //   result.push(obj);\r\n          //   var obj1={\r\n          //     uuid:uuid(),\r\n          //     capacity: element.capacity,\r\n          //     description: element.description,\r\n          //     id: element.id,\r\n          //     isactive: \"1\",\r\n          //     ownername: element.ownername,\r\n          //     price: element.price,\r\n          //     slotid: 2,\r\n          //     status: element.status,\r\n          //     twowayprice:element.twowayprice\r\n\r\n          //   }\r\n          //   result.push(obj1);\r\n          // }\r\n          // setBoatdataarr(result);\r\n          // var countdata = [];\r\n          // for (let index = 0; index < result.length; index++) {\r\n\r\n          //   var d = result[index];\r\n          //   d[\"perusercost\"] = parseFloat(d.price) / parseFloat(d.capacity);\r\n          //   if (d.isactive == \"1\") {\r\n          //     if(d.slotid==1){\r\n          //       var obj={};\r\n          //       var capdetail = d.description + `  (capacity-` + d.capacity + `)`+` (7:00 AM)`;\r\n          //       obj={ value: d.uuid, label:capdetail};\r\n          //       countdata.push(obj)\r\n          //     }\r\n          //     if(d.slotid==2){\r\n          //       var obj1={};\r\n          //       var capdetail = d.description + `  (capacity-` + d.capacity + `)`+` (12:00 PM)`;\r\n          //       obj1={ value: d.uuid, label:capdetail};\r\n          //       countdata.push(obj1)\r\n          //     }\r\n\r\n          //   }\r\n\r\n          // }\r\n          // if(countdata.length>0){\r\n          //   setIsBoatSeletionOpen(false);\r\n\r\n          // }else{\r\n\r\n          //   setIsBoatSeletionOpen(true);\r\n          // }\r\n          // setBoatdata(countdata);\r\n          // setSelectedBoatData(countdata);\r\n        } else {\r\n          //  notify(2,\"No data found\");\r\n        }\r\n      })\r\n      .catch(function (edata) {\r\n        notify(2, edata.toString(), 1);\r\n      });\r\n  };\r\n\r\n  /*#endregion Boat  */\r\n\r\n  /*#region hotel */\r\n  const [rawpreferredhotels, setRawPreferredHotels] = useState([]);\r\n  const [preferredhotels, setPreferredHotels] = useState([]);\r\n  const [selectedpreferredhotels, setSelectedPreferredHotels] = useState([]);\r\n  const [hotelbookingref, setHotelBookingRef] = useState([]);\r\n\r\n  const handleChangeOptionPH = (e) => {\r\n    var Ph = preferredhotels.filter((obj) => obj.value === e.value);\r\n    setSelectedPreferredHotels(Ph);\r\n    setLocalTravelInfoData({ ...localtravelinfodata, [\"hotel\"]: Ph });\r\n  };\r\n\r\n  const getpreferredhotels = () => {\r\n    dataservice(\"hotel\", { requestfor: \"gethotel\", data: { flag: \"a\" } })\r\n      .then(function (data) {\r\n        if (data.resultkey == 1) {\r\n          var result = data.resultvalue;\r\n          setRawPreferredHotels(result);\r\n          //  ;\r\n          let countdata = [];\r\n          //let country = [\"Caloocan\", \"Malabon\", \"Makati\", \"Manila\", \"Mandaluyong\"]\r\n          for (let index = 0; index < result.length; index++) {\r\n            if (result[index].packageid == \"1\") {\r\n              let item = result[index];\r\n              countdata.push({ value: item.id, label: item.description });\r\n            }\r\n\r\n\r\n          }\r\n          setPreferredHotels(countdata);\r\n        } else {\r\n          //  notify(2,\"No data found\");\r\n        }\r\n      })\r\n      .catch(function (edata) {\r\n        //   ;\r\n        notify(2, edata.toString(), 1);\r\n      });\r\n  };\r\n  /*#endregion hotel  */\r\n\r\n  /*#region vehicle */\r\n  const [vehicleselectdata, setVehicleSelectData] = useState([]);\r\n  const [selectedvehicle, setSelectedVehicle] = useState([]);\r\n  const [vehicledata, setvehiclearray] = useState([]);\r\n  const [vehiclegriddata, setVehicleGridData] = useState([]);\r\n  const [selvehiclefordelete, setSelectevehiclefordelet] = useState();\r\n  const [vehicleqty, setVehicleQty] = useState([]);\r\n  const [bookingdetail, setBookingDetail] = useState({\r\n    fromdate: \"\",\r\n    todate: \"\",\r\n    timeslot: \"\",\r\n    package: \"\",\r\n    hotel: \"\",\r\n    isboatproviderbyresort: false,\r\n    vehicle: \"\",\r\n    numberoofguest: 0,\r\n    ETAF: 0,\r\n    Bracelet: 0,\r\n    totalcharge: 0,\r\n    islandhoppingamt: 0\r\n  });\r\n\r\n  const columns = [\r\n    {\r\n      name: \"Vehicle\",\r\n      selector: \"typeofvehicle\",\r\n      sortable: true,\r\n    },\r\n    {\r\n      name: \"Qty\",\r\n      selector: \"qty\",\r\n      sortable: true,\r\n    },\r\n    {\r\n      name: \"Total Charge\",\r\n      selector: \"amount\",\r\n      sortable: true,\r\n    },\r\n    {\r\n      name: \"Action\",\r\n      selector: \"action\",\r\n      ignoreRowClick: true,\r\n      cell: (row) => (\r\n        <>\r\n          <CIcon\r\n            name=\"cil-pencil\"\r\n            onClick={() => {\r\n              editdata(row);\r\n            }}\r\n            className=\"mfe-2 custcusrsor\"\r\n          />{\" \"}\r\n          <CIcon\r\n            name=\"cil-trash\"\r\n            onClick={() => {\r\n              setSelectevehiclefordelet(row);\r\n            }}\r\n            className=\"mfe-2 custcusrsor\"\r\n          />{\" \"}\r\n        </>\r\n      ),\r\n    },\r\n  ];\r\n  const data = [];\r\n  const [vgridata, setvgriddata] = useState({\r\n    columns,\r\n    data,\r\n  });\r\n  const editdata = (row, e) => {\r\n    setIsUpdateVehicle(true);\r\n    setVehicleQty(row.qty);\r\n    console.log(row);\r\n    var vh = [{ label: row.typeofvehicle, value: row.id }];\r\n    setSelectedVehicle(vh);\r\n  };\r\n\r\n  const handleChangeVehicle = (e) => {\r\n    var vh = vehicleselectdata.filter((obj) => obj.value === e.value);\r\n    setSelectedVehicle(vh);\r\n  };\r\n  const handleChangevehicleqty = (index) => (e) => {\r\n    console.log(\"index: \" + index);\r\n    console.log(\"property name: \" + e.target.value);\r\n    var _convertedval = isNaN(parseFloat(e.target.value));\r\n    let newArr = [...vehicledata]; // copying the old datas array\r\n    newArr[index].qty =\r\n      isNaN(parseFloat(e.target.value)) == false\r\n        ? parseFloat(e.target.value)\r\n        : 0; // replace e.target.value with whatever you want to change it to\r\n\r\n    setvehiclearray(newArr); // ??\r\n\r\n    // updatevehicleprice();\r\n    recaltotal();\r\n  };\r\n\r\n\r\n  const updatevehicleprice = () => {\r\n    var todata =\r\n      selectedtodate[0] == undefined ? selectedtodate : selectedtodate[0];\r\n    var fromdata =\r\n      selectedfromdate[0] == undefined ? selectedfromdate : selectedfromdate[0];\r\n    const diffTime = Math.abs(todata - fromdata);\r\n    // const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24))+1;\r\n    let diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\r\n    if (diffDays == 0 || diffDays == 1) {\r\n      diffDays = 1;\r\n    }\r\n    var tamount = 0;\r\n    if (vehicledata.length > 0) {\r\n      var newdata = [];\r\n      for (let index = 0; index < vehicleselectdata.length; index++) {\r\n        const velement = vehicledata[index];\r\n        var data = vehicleselectdata.map((item) => {\r\n          if (item.id === velement.id) {\r\n            const updatedItem = {\r\n              ...item,\r\n              amount: parseFloat(velement.unitprice) * diffDays * velement.qty,\r\n            };\r\n\r\n            return updatedItem;\r\n          }\r\n\r\n          return item;\r\n        });\r\n        var filterdata = data.filter((x) => x.id == velement.id);\r\n        if (filterdata.length > 0) {\r\n          newdata.push(filterdata[0]);\r\n        }\r\n      }\r\n      if (newdata.length > 0) {\r\n        setvgriddata({ ...vgridata, [\"data\"]: newdata });\r\n      }\r\n    }\r\n    if (Array.isArray(localtravelinfodata)) {\r\n    } else {\r\n      var totalamount = 0;\r\n      for (let index = 0; index < localtravelinfodata.fees.length; index++) {\r\n        const element = localtravelinfodata.fees[index];\r\n        if (element.id == 5) {\r\n          element.amount = tamount;\r\n        }\r\n      }\r\n\r\n      setLocalTravelInfoData({\r\n        ...localtravelinfodata,\r\n        [\"fees\"]: localtravelinfodata.fees,\r\n      });\r\n    }\r\n  };\r\n\r\n  const addvehicle = () => {\r\n    if (selectedvehicle.length > 0 && vehicleqty != \"\") {\r\n      var todata =\r\n        selectedtodate[0] == undefined ? selectedtodate : selectedtodate[0];\r\n      var fromdata =\r\n        selectedfromdate[0] == undefined\r\n          ? selectedfromdate\r\n          : selectedfromdate[0];\r\n      const diffTime = Math.abs(todata - fromdata);\r\n      //const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24))+1;\r\n      let diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\r\n      if (diffDays == 0 || diffDays == 1) {\r\n        diffDays = 1;\r\n      }\r\n      var _obj = vehicledata.filter((x) => x.id == selectedvehicle[0].value);\r\n      var _objdata;\r\n      if (_obj.length > 0) {\r\n        if (vgridata.data.length > 0) {\r\n          var filtervh = vgridata.data.filter((x) => x.id == _obj[0].id);\r\n          if (isupdatevehicle) {\r\n            var tamount = _obj[0].amount * vehicleqty * diffDays;\r\n            _objdata = {\r\n              typeofvehicle: _obj[0].typeofvehicle,\r\n              qty: vehicleqty,\r\n              id: _obj[0].id,\r\n              unitprice: _obj[0].amount,\r\n              amount: tamount,\r\n            };\r\n\r\n            const newdata = vgridata[\"data\"].map((item) => {\r\n              if (item.id === _obj[0].id) {\r\n                const updatedItem = {\r\n                  ...item,\r\n                  amount: tamount,\r\n                  qty: vehicleqty,\r\n                };\r\n\r\n                return updatedItem;\r\n              }\r\n\r\n              return item;\r\n            });\r\n\r\n            setvgriddata({ ...vgridata, [\"data\"]: newdata });\r\n          } else {\r\n            if (filtervh.length > 0) {\r\n              notify(3, \"Vehicle Already exist!\");\r\n            } else {\r\n              var tamount = _obj[0].amount * vehicleqty * diffDays;\r\n              _objdata = {\r\n                typeofvehicle: _obj[0].typeofvehicle,\r\n                qty: vehicleqty,\r\n                id: _obj[0].id,\r\n                unitprice: _obj[0].amount,\r\n                amount: tamount,\r\n              };\r\n\r\n              setvgriddata({\r\n                ...vgridata,\r\n                [\"data\"]: [...vgridata.data, _objdata],\r\n              });\r\n            }\r\n          }\r\n        } else {\r\n          var tamount = _obj[0].amount * vehicleqty * diffDays;\r\n          _objdata = {\r\n            typeofvehicle: _obj[0].typeofvehicle,\r\n            qty: vehicleqty,\r\n            id: _obj[0].id,\r\n            unitprice: _obj[0].amount,\r\n            amount: tamount,\r\n          };\r\n\r\n          setvgriddata({ ...vgridata, [\"data\"]: [...vgridata.data, _objdata] });\r\n        }\r\n        setVehicleQty(\"\");\r\n        setIsUpdateVehicle(false);\r\n      }\r\n    }\r\n  };\r\n\r\n  const getvehicles = () => {\r\n    //\r\n    dataservice(\"vehicle\", { requestfor: \"getvehicle\", data: { flag: \"a\" } })\r\n      .then(function (data) {\r\n        if (data.resultkey == 1) {\r\n          var result = data.resultvalue;\r\n          let countdata = [];\r\n          //let country = [\"Caloocan\", \"Malabon\", \"Makati\", \"Manila\", \"Mandaluyong\"]\r\n          for (let index = 0; index < result.length; index++) {\r\n            //\r\n            let item = result[index];\r\n            countdata.push({ value: item.id, label: item.typeofvehicle });\r\n            if (countdata.length === 1) {\r\n              // setSelectedvehicle(item.id);\r\n            }\r\n          }\r\n          setVehicleSelectData(countdata);\r\n\r\n          for (let index = 0; index < result.length; index++) {\r\n            const element = result[index];\r\n            element.qty = 0;\r\n          }\r\n\r\n          setvehiclearray(result);\r\n        } else {\r\n          //  notify(2,\"No data found\");\r\n        }\r\n      })\r\n      .catch(function (edata) {\r\n        notify(2, edata.toString(), 1);\r\n      });\r\n  };\r\n\r\n  /*#endregion vehicle */\r\n\r\n  /*#region slot  */\r\n  const [slotdate, setSlotdate] = useState([]);\r\n  const getslotdata = () => {\r\n    dataservice(\"slots\", { requestfor: \"getslots\", data: { flag: \"a\" } })\r\n      .then(function (data) {\r\n        debugger;\r\n        if (data.resultkey == 1) {\r\n          var tempdata = data.resultvalue;\r\n\r\n          var countdata = [];\r\n          for (let index = 0; index < tempdata.length; index++) {\r\n            countdata.push({\r\n              value: tempdata[index].id,\r\n              label: tempdata[index].description,\r\n              boattype: tempdata[index].boattype,\r\n            });\r\n          }\r\n          setRawTimeSlot(countdata);\r\n\r\n          var filtertimeslot = countdata.filter(x => x.boattype == 1);\r\n\r\n\r\n          setTimeSlot(filtertimeslot); //document.write( dt );\r\n\r\n          // setSelectedBoatData(countdata);\r\n        } else {\r\n          //  notify(2,\"No data found\");\r\n        }\r\n      })\r\n      .catch(function (edata) {\r\n        notify(2, edata.toString(), 1);\r\n      });\r\n  };\r\n  /*#endregion slot */\r\n\r\n  /*#region useeffect  */\r\n  useEffect(() => {\r\n    var ss = gacc;\r\n    getBoatType();\r\n    getboatboatavailabilitybydate();\r\n    getnumberofguest();\r\n    setLocalTravelInfoData(...localtravelinfodata, traveldata.data);\r\n    setIsGuest(traveldata.data);\r\n    getPackage();\r\n    getboatdata();\r\n    getpreferredhotels();\r\n    getvehicles();\r\n    getCitizenship();\r\n    getCountry();\r\n    getProvince();\r\n    getMunicipalities();\r\n    getGender();\r\n\r\n    getslotdata();\r\n    getfees();\r\n\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (boatstatusdata != undefined) {\r\n\r\n    }\r\n  }, [boatstatusdata]);\r\n  useEffect(() => {\r\n    setseletedboatbaseonavailability();\r\n  }, [selectedpreferredtimemorning]);\r\n  useEffect(() => {\r\n    if (selectednumberguest != \"\") {\r\n      var guestdata = [];\r\n      //\r\n\r\n      for (let index = 0; index < selectednumberguest; index++) {\r\n        if (index == 0) {\r\n          var defaultguest = {\r\n            Firstname: \"\",\r\n            Middlename: \"\",\r\n            Lastname: \"\",\r\n            DOB: new Date(),\r\n            Citizenship: \"\",\r\n            CountryofOrigin: \"\",\r\n            Province: \"\",\r\n            Municipality: \"\",\r\n            Gender: 0,\r\n            Address: \"\",\r\n            Mobilenumber: \"\",\r\n            emailid: \"\",\r\n            ismaubancitizen: false,\r\n            filedata: \"\",\r\n            fileid: uuid(),\r\n            isactive: true,\r\n            newfilename: \"\",\r\n            oldfilename: \"\",\r\n            isprimary: true,\r\n            isdiscountapplied: false,\r\n            discountedamt: 0,\r\n            discountinfo: [],\r\n            isreturningguest: false,\r\n            isguestvaildated: false,\r\n            isrentbracelet: false,\r\n            braceletavailable: false,\r\n            isLandHopping: false,\r\n          };\r\n          guestdata.push(defaultguest);\r\n        } else {\r\n          var defaultguest = {\r\n            Firstname: \"\",\r\n            Middlename: \"\",\r\n            Lastname: \"\",\r\n            DOB: new Date(),\r\n            Citizenship: \"\",\r\n            CountryofOrigin: \"\",\r\n            Province: \"\",\r\n            Municipality: \"\",\r\n            Gender: 0,\r\n            Address: \"\",\r\n            Mobilenumber: \"\",\r\n            emailid: \"\",\r\n            ismaubancitizen: false,\r\n            filedata: \"\",\r\n            fileid: uuid(),\r\n            isactive: true,\r\n            newfilename: \"\",\r\n            oldfilename: \"\",\r\n            isprimary: false,\r\n            isdiscountapplied: false,\r\n            discountedamt: 0,\r\n            discountinfo: [],\r\n            isreturningguest: false,\r\n            isguestvaildated: false,\r\n            isrentbracelet: false,\r\n            braceletavailable: false,\r\n            isLandHopping: false,\r\n          };\r\n          guestdata.push(defaultguest);\r\n        }\r\n      }\r\n      // setLocalTravelInfoData({...localtravelinfodata, [\"guestinfo\"]: guestdata})\r\n      setLocalTravelInfoData({\r\n        ...localtravelinfodata,\r\n        [\"numberofguest\"]: selectednumberguest,\r\n        [\"guestinfo\"]: guestdata,\r\n      });\r\n      recaltotal();\r\n    }\r\n  }, [selectednumberguest]);\r\n  useEffect(() => {\r\n    if (Array.isArray(localtravelinfodata)) {\r\n    } else {\r\n      var totalamount = 0;\r\n      if (localtravelinfodata != undefined) {\r\n        recaltotal();\r\n      }\r\n    }\r\n  }, [localtravelinfodata]);\r\n\r\n  useEffect(() => {\r\n    if (packagedata.length > 0) {\r\n      var filterpck = packagedata.filter((x) => x.checked == true);\r\n      setLocalTravelInfoData({\r\n        ...localtravelinfodata,\r\n        [\"package\"]: filterpck,\r\n      });\r\n      if (filterpck.length > 0) {\r\n        for (let index = 0; index < localtravelinfodata.fees.length; index++) {\r\n          var element = localtravelinfodata.fees[index];\r\n          if (element.id == 3) {\r\n            var amountvalue = 0;\r\n            for (let fp = 0; fp < filterpck.length; fp++) {\r\n              var fpelement = filterpck[fp];\r\n              amountvalue = amountvalue + parseFloat(fpelement.price);\r\n            }\r\n            element.amount = amountvalue;\r\n          }\r\n        }\r\n      } else {\r\n        for (let index = 0; index < localtravelinfodata.fees.length; index++) {\r\n          var element = localtravelinfodata.fees[index];\r\n          if (element.id == 3) {\r\n            element.amount = 0;\r\n          }\r\n        }\r\n      }\r\n      recaltotal();\r\n    }\r\n  }, [packagedata]);\r\n  useEffect(() => {\r\n    if (selectedboatdata.length > 0) {\r\n      // var bc = boatdata.filter(obj => obj.value === selectedboatdata);\r\n      var selectedboats = [];\r\n      for (let index = 0; index < selectedboatdata.length; index++) {\r\n        const element = selectedboatdata[index];\r\n        var filterdata = boatdataarr.filter((x) => x.uuid == element);\r\n        if (filterdata.length > 0) {\r\n          selectedboats.push(filterdata[0]);\r\n        }\r\n      }\r\n      for (let index = 0; index < localtravelinfodata.fees.length; index++) {\r\n        var element = localtravelinfodata.fees[index];\r\n        if (element.id == 2) {\r\n          var amountvalue = 0;\r\n          for (let bp = 0; bp < selectedboatdata.length; bp++) {\r\n            var bpelement = selectedboatdata[bp];\r\n            var filterdata = boatdataarr.filter((x) => x.uuid == bpelement);\r\n            if (filterdata.length > 0) {\r\n              amountvalue = amountvalue + parseFloat(filterdata[0].twowayprice);\r\n            }\r\n          }\r\n          element.amount = amountvalue;\r\n        }\r\n      }\r\n\r\n      setLocalTravelInfoData({\r\n        ...localtravelinfodata,\r\n        [\"boatinfo\"]: selectedboats,\r\n      });\r\n    } else {\r\n      if (Array.isArray(localtravelinfodata)) {\r\n      } else {\r\n        if (localtravelinfodata.fees.length > 0) {\r\n          for (\r\n            let index = 0;\r\n            index < localtravelinfodata.fees.length;\r\n            index++\r\n          ) {\r\n            var element = localtravelinfodata.fees[index];\r\n            if (element.id == 2) {\r\n              element.amount = 0;\r\n            }\r\n          }\r\n          setLocalTravelInfoData({ ...localtravelinfodata, [\"boatinfo\"]: [] });\r\n        }\r\n      }\r\n    }\r\n\r\n    recaltotal();\r\n  }, [selectedboatdata]);\r\n  useEffect(() => {\r\n    if (boatdataarr.length > 0) {\r\n      setseletedboatbaseonavailability();\r\n    }\r\n  }, [boatdataarr]);\r\n  useEffect(() => {\r\n    if (vgridata.data.length > 0) {\r\n      // var bc = boatdata.filter(obj => obj.value === selectedboatdata);\r\n\r\n      setLocalTravelInfoData({\r\n        ...localtravelinfodata,\r\n        [\"vehicle\"]: vgridata.data,\r\n      });\r\n      for (let index = 0; index < localtravelinfodata.fees.length; index++) {\r\n        var element = localtravelinfodata.fees[index];\r\n        if (element.id == 5) {\r\n          var amountvalue = 0;\r\n          for (let fp = 0; fp < vgridata.data.length; fp++) {\r\n            var fpelement = vgridata.data[fp];\r\n            amountvalue = amountvalue + parseFloat(fpelement.amount);\r\n          }\r\n          element.amount = amountvalue;\r\n        }\r\n      }\r\n    } else {\r\n      if (Array.isArray(localtravelinfodata)) {\r\n      } else {\r\n        for (let index = 0; index < localtravelinfodata.fees.length; index++) {\r\n          var element = localtravelinfodata.fees[index];\r\n          if (element.id == 5) {\r\n            element.amount = 0;\r\n          }\r\n        }\r\n        recaltotal();\r\n      }\r\n    }\r\n  }, [vgridata?.data]);\r\n  useEffect(() => {\r\n    if (selvehiclefordelete != undefined) {\r\n      if (vgridata.data.length > 0) {\r\n        var updateddata = vgridata.data.filter(\r\n          (x) => x.id !== selvehiclefordelete.id\r\n        );\r\n        setvgriddata({ ...vgridata, [\"data\"]: updateddata });\r\n\r\n        for (let index = 0; index < localtravelinfodata.fees.length; index++) {\r\n          var element = localtravelinfodata.fees[index];\r\n          if (element.id == 5) {\r\n            var amountvalue = 0;\r\n            for (let fp = 0; fp < updateddata.length; fp++) {\r\n              var fpelement = vgridata.data[fp];\r\n              amountvalue = amountvalue + parseFloat(fpelement.amount);\r\n            }\r\n\r\n            element.amount = amountvalue;\r\n          }\r\n        }\r\n      }\r\n      //\r\n      recaltotal();\r\n      //setLocalTravelInfoData({...localtravelinfodata, [\"boatinfo\"]:selectedboats});\r\n    }\r\n  }, [selvehiclefordelete]);\r\n  useEffect(() => {\r\n    if (Array.isArray(localtravelinfodata)) {\r\n    } else {\r\n      setgacc(localtravelinfodata);\r\n    }\r\n  }, [localtravelinfodata]);\r\n\r\n  useEffect(() => {\r\n    updatevehicleprice();\r\n  }, [selectedfromdate]);\r\n  useEffect(() => {\r\n    updatevehicleprice();\r\n  }, [selectedtodate]);\r\n\r\n  useEffect(() => {\r\n    if (filedata.length > 0) {\r\n    }\r\n  }, [filedata]);\r\n\r\n  /*#endregion useeffect */\r\n\r\n  const backaction = () => {\r\n    setLocalTravelInfoData({ ...localtravelinfodata, [\"isguest\"]: false });\r\n    if (localtravelinfodata.package[0].id != \"1\") {\r\n      setIsVehicle(!isvehicle);\r\n    }\r\n\r\n  };\r\n  const backtomainaction = () => {\r\n    ;\r\n    setIsVehicle(!isvehicle);\r\n  };\r\n  const getGender = () => {\r\n    let countdata = [];\r\n    let country = [\"Male\", \"Female\", \"Other\"];\r\n    for (let index = 0; index < 3; index++) {\r\n      countdata.push({\r\n        value: index,\r\n        label: country[index],\r\n      });\r\n    }\r\n    setGender(countdata);\r\n  };\r\n\r\n  const nextotguest = () => {\r\n    if (validationmainscreen()) {\r\n\r\n      setaction();\r\n      setIsVehicle(!isvehicle);\r\n    }\r\n  };\r\n\r\n\r\n  const checkvehiclerequire = () => {\r\n    //for cagbalete check vehicle\r\n    if (localtravelinfodata.package[0].id == \"1\") {\r\n      if (isvehicle == true) {\r\n        if (\r\n          selectednumberguest > 1 &&\r\n          localtravelinfodata.parkingnotreq == false\r\n        ) {\r\n          var selveh = vehicledata.filter((x) => x.qty != 0);\r\n          if (selveh.length > 0) {\r\n          } else {\r\n            notify(2, \"Please add vehicle\");\r\n            return;\r\n          }\r\n        }\r\n        setActivePosition(0);\r\n\r\n        for (\r\n          let index = 0;\r\n          index < localtravelinfodata[\"guestinfo\"].length;\r\n          index++\r\n        ) {\r\n          localtravelinfodata[\"guestinfo\"][index].DOB = new Date(\r\n            localtravelinfodata[\"guestinfo\"][index].DOB\r\n          );\r\n        }\r\n\r\n        setGuestArr(localtravelinfodata[\"guestinfo\"][0]);\r\n        setLocalTravelInfoData({ ...localtravelinfodata, [\"isguest\"]: true });\r\n        setSelectedDOB(localtravelinfodata[\"guestinfo\"][0].DOB);\r\n        localtravelinfodata[\"guestinfo\"][0][\"Citizenship\"] =\r\n          citizenship[0].value;\r\n        setSelectedCS(citizenship[0].value);\r\n        localtravelinfodata[\"guestinfo\"][0][\"CountryofOrigin\"] =\r\n          country[0].value;\r\n        setSelectedCOO(country[0].value);\r\n        var provincearr = RawProvince.filter(\r\n          (x) => x.countryid == country[0].value\r\n        );\r\n        localtravelinfodata[\"guestinfo\"][0][\"Gender\"] = 0;\r\n        setSelectedGender(0);\r\n        if (provincearr.length > 0) {\r\n          var provincedata = getdropdownarr(provincearr);\r\n          setProvince(provincedata);\r\n          var _defaultprovince = provincedata.filter((x) => x.value == 81);\r\n          var _deafultmunicipality;\r\n          var Municipalityarr = RawMunicipality.filter(\r\n            (x) => x.provinceid == 81\r\n          );\r\n          if (Municipalityarr.length > 0) {\r\n            var municipalitydata = getdropdownarr(Municipalityarr);\r\n            setMunicipality(municipalitydata);\r\n            _deafultmunicipality = municipalitydata.filter(\r\n              (x) => x.value == 1968\r\n            );\r\n          }\r\n          for (\r\n            let index = 0;\r\n            index < localtravelinfodata[\"guestinfo\"].length;\r\n            index++\r\n          ) {\r\n            localtravelinfodata[\"guestinfo\"][index][\"Province\"] =\r\n              _defaultprovince[0].value;\r\n            localtravelinfodata[\"guestinfo\"][index][\"Municipality\"] =\r\n              _deafultmunicipality[0].value;\r\n            setSelectedProvince(_defaultprovince[0].value);\r\n            setSelectedMunicipality(_deafultmunicipality[0].value);\r\n          }\r\n        }\r\n      }\r\n\r\n    } else {\r\n      setActivePosition(0);\r\n\r\n      for (\r\n        let index = 0;\r\n        index < localtravelinfodata[\"guestinfo\"].length;\r\n        index++\r\n      ) {\r\n        localtravelinfodata[\"guestinfo\"][index].DOB = new Date(\r\n          localtravelinfodata[\"guestinfo\"][index].DOB\r\n        );\r\n      }\r\n\r\n      setGuestArr(localtravelinfodata[\"guestinfo\"][0]);\r\n      setLocalTravelInfoData({ ...localtravelinfodata, [\"isguest\"]: true });\r\n      setSelectedDOB(localtravelinfodata[\"guestinfo\"][0].DOB);\r\n      localtravelinfodata[\"guestinfo\"][0][\"Citizenship\"] =\r\n        citizenship[0].value;\r\n      setSelectedCS(citizenship[0].value);\r\n      localtravelinfodata[\"guestinfo\"][0][\"CountryofOrigin\"] =\r\n        country[0].value;\r\n      setSelectedCOO(country[0].value);\r\n      var provincearr = RawProvince.filter(\r\n        (x) => x.countryid == country[0].value\r\n      );\r\n      localtravelinfodata[\"guestinfo\"][0][\"Gender\"] = 0;\r\n      setSelectedGender(0);\r\n      if (provincearr.length > 0) {\r\n        var provincedata = getdropdownarr(provincearr);\r\n        setProvince(provincedata);\r\n        var _defaultprovince = provincedata.filter((x) => x.value == 81);\r\n        var _deafultmunicipality;\r\n        var Municipalityarr = RawMunicipality.filter(\r\n          (x) => x.provinceid == 81\r\n        );\r\n        if (Municipalityarr.length > 0) {\r\n          var municipalitydata = getdropdownarr(Municipalityarr);\r\n          setMunicipality(municipalitydata);\r\n          _deafultmunicipality = municipalitydata.filter(\r\n            (x) => x.value == 1968\r\n          );\r\n        }\r\n        for (\r\n          let index = 0;\r\n          index < localtravelinfodata[\"guestinfo\"].length;\r\n          index++\r\n        ) {\r\n          localtravelinfodata[\"guestinfo\"][index][\"Province\"] =\r\n            _defaultprovince[0].value;\r\n          localtravelinfodata[\"guestinfo\"][index][\"Municipality\"] =\r\n            _deafultmunicipality[0].value;\r\n          setSelectedProvince(_defaultprovince[0].value);\r\n          setSelectedMunicipality(_deafultmunicipality[0].value);\r\n        }\r\n      }\r\n    }\r\n\r\n    setTimeout(() => {\r\n      setselectguest(0);\r\n    }, 1000);\r\n  }\r\n\r\n  const setaction = () => {\r\n    if (validationmainscreen()) {\r\n      if (localtravelinfodata.isguest == true) {\r\n        var touristinfodata = localtravelinfodata[\"guestinfo\"];\r\n\r\n        let seltimeslot = timeslot.filter((x) => x.value == selectedtimeslot);\r\n        let val = Math.floor(1000 + Math.random() * 9000);\r\n        var todata =\r\n          selectedtodate[0] == undefined ? selectedtodate : selectedtodate[0];\r\n        var fromdata =\r\n          selectedfromdate[0] == undefined\r\n            ? selectedfromdate\r\n            : selectedfromdate[0];\r\n        let Difference_In_Time = todata - fromdata;\r\n\r\n        var Difference_In_Days = Math.floor(\r\n          Difference_In_Time / (1000 * 3600 * 24)\r\n        );\r\n        var totalvehicleingrid = 0;\r\n        if (vgridata.data) {\r\n          for (let i = 0; i < vgridata.data.length; i++) {\r\n            totalvehicleingrid = totalvehicleingrid + vgridata.data[i].qty;\r\n          }\r\n        }\r\n\r\n        var _guestinfotosave = [];\r\n        for (\r\n          let index = 0;\r\n          index < localtravelinfodata.guestinfo.length;\r\n          index++\r\n        ) {\r\n          const element = localtravelinfodata.guestinfo[index];\r\n          _guestinfotosave.push(element);\r\n        }\r\n        var setvehicle = vehicledata.filter((x) => parseFloat(x.qty) > 0);\r\n        var finalvehicle = [];\r\n        if (setvehicle.length > 0) {\r\n          var todata =\r\n            selectedtodate[0] == undefined ? selectedtodate : selectedtodate[0];\r\n          var fromdata =\r\n            selectedfromdate[0] == undefined\r\n              ? selectedfromdate\r\n              : selectedfromdate[0];\r\n          const diffTime = Math.abs(todata - fromdata);\r\n          //  const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24))+1;\r\n          let diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\r\n          if (diffDays == 0 || diffDays == 1) {\r\n            diffDays = 1;\r\n          }\r\n          for (let index = 0; index < setvehicle.length; index++) {\r\n            const parkele = setvehicle[index];\r\n            var cost = parseFloat(parkele.qty) * parseFloat(parkele.amount);\r\n            parkele.totalcost = cost * diffDays;\r\n          }\r\n          for (let index = 0; index < setvehicle.length; index++) {\r\n            const finalelement = setvehicle[index];\r\n            if (finalelement.qty > 1) {\r\n              // let newArr = [...finalelement];\r\n              for (let index = 0; index < finalelement.qty; index++) {\r\n                finalelement.uuid = uuid();\r\n                finalvehicle.push(finalelement);\r\n              }\r\n            } else {\r\n              finalelement.uuid = uuid();\r\n              finalvehicle.push(finalelement);\r\n            }\r\n          }\r\n        }\r\n\r\n        var veh = \"\";\r\n        if (finalvehicle.length > 0) {\r\n          for (let index = 0; index < finalvehicle.length; index++) {\r\n            const element = finalvehicle[index];\r\n            veh =\r\n              veh + \"(\" + element.typeofvehicle + \" - \" + element.qty + \" ),\";\r\n          }\r\n        }\r\n        if (veh.length > 0) {\r\n          veh = veh.substring(0, veh.length - 1);\r\n        }\r\n        var boatcap = \"\";\r\n        if (localtravelinfodata.boatinfo.length > 0) {\r\n          for (\r\n            let index = 0;\r\n            index < localtravelinfodata.boatinfo.length;\r\n            index++\r\n          ) {\r\n            const element = localtravelinfodata.boatinfo[index];\r\n            boatcap = boatcap + \"(Capacity- \" + element.capacity + \" ),\";\r\n          }\r\n        }\r\n        if (boatcap.length > 0) {\r\n          boatcap = boatcap.substring(0, boatcap.length - 1);\r\n        }\r\n        var islandhopper = touristinfodata.filter(x => x.isLandHopping == true).length;\r\n        setBookingDetail({\r\n          fromdate: moment(\r\n            selectedfromdate[0] == undefined\r\n              ? selectedfromdate\r\n              : selectedfromdate[0]\r\n          ).format(\"MMM-DD-YYYY\"),\r\n          todate: moment(\r\n            selectedtodate[0] == undefined ? selectedtodate : selectedtodate[0]\r\n          ).format(\"MMM-DD-YYYY\"),\r\n          timeslot: seltimeslot.length > 0 ? seltimeslot[0].label : \"\",\r\n          boatcapcity: boatcap,\r\n          package: localtravelinfodata.package[0].label,\r\n          hotel:\r\n            localtravelinfodata.hotel.length > 0\r\n              ? localtravelinfodata.hotel[0].label\r\n              : \"\",\r\n          isboatproviderbyresort: ishotelprovideboat,\r\n          vehicle: veh,\r\n          numberoofguest: localtravelinfodata.numberofguest,\r\n          ETAF: localtravelinfodata.fees[0].amount,\r\n          totalcharge: localtravelinfodata.fees[8].amount,\r\n          Bracelet: localtravelinfodata.fees[1].amount,\r\n          islandhoppingamt: (localtravelinfodata.fees[4].amount * islandhopper),\r\n        });\r\n\r\n        if (vaildationbeforepay()) {\r\n          setIsConfirmBooking(!isconfirmbooking);\r\n        }\r\n        // Savedata();\r\n      } else {\r\n        checkvehiclerequire();\r\n      }\r\n    }\r\n  };\r\n\r\n  const validationmainscreen = () => {\r\n    var result = true;\r\n    if (localtravelinfodata.numberofguest == \"\") {\r\n      notify(2, \"Please select number of guest\");\r\n      return false;\r\n    } else if (localtravelinfodata.package.length <= 0) {\r\n      notify(2, \"Please select package\");\r\n      return false;\r\n    } else {\r\n      var iscagselected = false;\r\n      for (let index = 0; index < localtravelinfodata.package.length; index++) {\r\n        const element = localtravelinfodata.package[index];\r\n        if (element.id == 1) {\r\n          iscagselected = true;\r\n          break;\r\n        }\r\n      }\r\n      if (iscagselected) {\r\n        if (\r\n          localtravelinfodata.boatinfo.length <= 0 &&\r\n          ishotelprovideboat == false\r\n        ) {\r\n          notify(2, \"Please select boat\");\r\n          return false;\r\n        } else {\r\n          var _cap = 0;\r\n          for (let bi = 0; bi < localtravelinfodata.boatinfo.length; bi++) {\r\n            const element = localtravelinfodata.boatinfo[bi];\r\n            _cap += parseFloat(element.capacity);\r\n          }\r\n          if (selectednumberguest > _cap && ishotelprovideboat == false) {\r\n            notify(\r\n              2,\r\n              \"number of guest not match with boat capacity,Please select boat!\"\r\n            );\r\n            return false;\r\n          }\r\n        }\r\n      }\r\n\r\n      if (selectedpreferredhotels.length <= 0) {\r\n        notify(2, \"Please select resort !\");\r\n        return false;\r\n      }\r\n      if (hotelbookingref == \"\") {\r\n        notify(2, \"Please enter hotel booking refrence number.\");\r\n        return false;\r\n      }\r\n    }\r\n    return result;\r\n  };\r\n\r\n  const getdropdownarr = (result) => {\r\n    let countdata = [];\r\n    //let country = [\"Caloocan\", \"Malabon\", \"Makati\", \"Manila\", \"Mandaluyong\"]\r\n    for (let index = 0; index < result.length; index++) {\r\n      let item = result[index];\r\n      countdata.push({ value: item.id, label: item.description });\r\n    }\r\n    return countdata;\r\n  };\r\n  /*#region guest detail  */\r\n  const [guestarr, setGuestArr] = useState([]);\r\n  const [selecteddob, setSelectedDOB] = useState([]);\r\n  const [citizenship, setCitizenship] = useState([]);\r\n  const [selectedCS, setSelectedCS] = useState([]);\r\n  const [RawProvince, setRawProvince] = useState([]);\r\n  const [RawMunicipality, setRawMunicipality] = useState([]);\r\n  const [Province, setProvince] = useState([]);\r\n  const [Municipality, setMunicipality] = useState([]);\r\n  const [selectedProvince, setSelectedProvince] = useState(\"\");\r\n  const [selectedMunicipality, setSelectedMunicipality] = useState([]);\r\n  const [Gender, setGender] = useState([]);\r\n  const [country, setCountry] = useState([]);\r\n  const [selectedCOO, setSelectedCOO] = useState([]);\r\n  const [selectedGender, setSelectedGender] = useState([]);\r\n  const [isprocessing, setIsProcessing] = useState(false);\r\n  const [isvaildatereturnprocessing, setIsVaildatereturnProcessing] =\r\n    useState(false);\r\n  const [vaildatereturnmsg, setVaildateReturnmsg] = useState(\"\");\r\n  const getCitizenship = () => {\r\n    dataservice(\"citizenship\", {\r\n      requestfor: \"getcitizenship\",\r\n      data: { flag: \"a\" },\r\n    })\r\n      .then(function (data) {\r\n        if (data.resultkey == 1) {\r\n          var result = data.resultvalue;\r\n          let countdata = [];\r\n          //let country = [\"Caloocan\", \"Malabon\", \"Makati\", \"Manila\", \"Mandaluyong\"]\r\n\r\n          for (let index = 0; index < result.length; index++) {\r\n            //\r\n            let item = result[index];\r\n            countdata.push({ value: item.id, label: item.description });\r\n          }\r\n\r\n          setCitizenship(countdata);\r\n        } else {\r\n          //  notify(2,\"No data found\");\r\n        }\r\n      })\r\n      .catch(function (edata) {\r\n        notify(2, edata.toString(), 1);\r\n      });\r\n  };\r\n\r\n  const getCountry = () => {\r\n    dataservice(\"country\", { requestfor: \"getcountry\", data: { flag: \"a\" } })\r\n      .then(function (data) {\r\n        if (data.resultkey == 1) {\r\n          var result = data.resultvalue;\r\n          let countdata = [];\r\n          //let country = [\"Caloocan\", \"Malabon\", \"Makati\", \"Manila\", \"Mandaluyong\"]\r\n          // countdata.push({ value: \"-1\", label: \"Select Country\" })\r\n          for (let index = 0; index < result.length; index++) {\r\n            //\r\n            let item = result[index];\r\n            countdata.push({ value: item.id, label: item.description });\r\n          }\r\n          setCountry(countdata);\r\n        } else {\r\n          //  notify(2,\"No data found\");\r\n        }\r\n      })\r\n      .catch(function (edata) {\r\n        notify(2, edata.toString(), 1);\r\n      });\r\n  };\r\n\r\n  const getProvince = () => {\r\n    dataservice(\"province\", { requestfor: \"getprovince\", data: { flag: \"a\" } })\r\n      .then(function (data) {\r\n        if (data.resultkey == 1) {\r\n          var result = data.resultvalue;\r\n\r\n          setRawProvince(result);\r\n          //setProvince(countdata);\r\n        } else {\r\n          //  notify(2,\"No data found\");\r\n        }\r\n      })\r\n      .catch(function (edata) {\r\n        notify(2, edata.toString(), 1);\r\n      });\r\n  };\r\n\r\n  const getMunicipalities = () => {\r\n    dataservice(\"municipality\", {\r\n      requestfor: \"getmunicipality\",\r\n      data: { flag: \"a\" },\r\n    })\r\n      .then(function (data) {\r\n        if (data.resultkey == 1) {\r\n          var result = data.resultvalue;\r\n          let countdata = [];\r\n          //let country = [\"Caloocan\", \"Malabon\", \"Makati\", \"Manila\", \"Mandaluyong\"]\r\n          for (let index = 0; index < result.length; index++) {\r\n            //\r\n            let item = result[index];\r\n            countdata.push({ value: item.id, label: item.description });\r\n            if (countdata.length === 1) {\r\n              setSelectedMunicipality(item.id);\r\n            }\r\n          }\r\n          // setMunicipality(countdata);\r\n          setRawMunicipality(result);\r\n        } else {\r\n          //  notify(2,\"No data found\");\r\n        }\r\n      })\r\n      .catch(function (edata) {\r\n        notify(2, edata.toString(), 1);\r\n      });\r\n  };\r\n  const setselectguest = (position) => {\r\n    setActivePosition(position);\r\n\r\n    var guestinfo = localtravelinfodata.guestinfo[position];\r\n\r\n    setSelectedGender(guestinfo[\"Gender\"]);\r\n    setGuestArr(guestinfo);\r\n    if (guestinfo[\"DOB\"] != \"\") {\r\n      setSelectedDOB(new Date(guestinfo[\"DOB\"]));\r\n    } else {\r\n      guestinfo[\"DOB\"] = new Date();\r\n      setSelectedDOB(new Date());\r\n    }\r\n    if (guestinfo[\"Citizenship\"] != \"\") {\r\n      setSelectedCS(guestinfo[\"Citizenship\"]);\r\n    } else {\r\n      guestinfo[\"Citizenship\"] = citizenship[0].value;\r\n      setSelectedCS(citizenship[0].value);\r\n    }\r\n    if (guestinfo[\"CountryofOrigin\"] != \"\") {\r\n      setSelectedCOO(guestinfo[\"CountryofOrigin\"]);\r\n    } else {\r\n      guestinfo[\"CountryofOrigin\"] = country[0].value;\r\n      setSelectedCOO(country[0].value);\r\n    }\r\n\r\n    if (guestinfo[\"Province\"] != \"\") {\r\n      setSelectedProvince(guestinfo[\"Province\"]);\r\n    } else {\r\n      guestinfo[\"Province\"] = 81;\r\n      setSelectedProvince(81);\r\n    }\r\n    if (guestinfo[\"Municipality\"] != \"\") {\r\n      setSelectedMunicipality(guestinfo[\"Municipality\"]);\r\n    } else {\r\n      //  setSelectedMunicipality([]);\r\n      guestinfo[\"Municipality\"] = 1968;\r\n      setSelectedMunicipality(1968);\r\n    }\r\n  };\r\n  const handleChangeCOO = (e) => {\r\n    if (e.value == 2) {\r\n      var guestinfo = localtravelinfodata.guestinfo[guestactivepostion];\r\n\r\n      if (guestinfo[\"Province\"] != \"\") {\r\n        setSelectedProvince(guestinfo[\"Province\"]);\r\n      } else {\r\n        guestinfo[\"Province\"] = 81;\r\n        // setSelectedProvince(Province[0].value);\r\n        setSelectedProvince(81);\r\n      }\r\n      if (guestinfo[\"Municipality\"] != \"\") {\r\n        setSelectedMunicipality(guestinfo[\"Municipality\"]);\r\n      } else {\r\n        guestinfo[\"Municipality\"] = 1968;\r\n        setSelectedMunicipality(1968);\r\n      }\r\n    } else {\r\n      setSelectedMunicipality([]);\r\n      setSelectedProvince([]);\r\n    }\r\n    setSelectedCOO(e.value);\r\n    if (localtravelinfodata[\"guestinfo\"].length > 0) {\r\n      localtravelinfodata[\"guestinfo\"][guestactivepostion][\"CountryofOrigin\"] =\r\n        e.value;\r\n    }\r\n  };\r\n  const handleChangeCS = (e) => {\r\n    setSelectedCS(e.value);\r\n  };\r\n  const handleChangeOptionMunicipality = (e) => {\r\n    setSelectedMunicipality(e.value);\r\n    if (localtravelinfodata[\"guestinfo\"].length > 0) {\r\n      localtravelinfodata[\"guestinfo\"][guestactivepostion][\"Municipality\"] =\r\n        e.value;\r\n    }\r\n  };\r\n  const handleChangeOptionProvince = (e) => {\r\n    setSelectedProvince(e.value);\r\n  };\r\n  const handleChange = (e) => {\r\n    console.log(e);\r\n\r\n    const { id, value } = e.target;\r\n\r\n    var guestinfo = localtravelinfodata.guestinfo[guestactivepostion];\r\n\r\n    if (e.target.type === \"file\") {\r\n      //guestarr[guestactivepostion][id] = e.target.files[0];\r\n      //  setGuestArr({ ...guestarr, [id]: e.target.files[0] });\r\n      localtravelinfodata[\"guestinfo\"][guestactivepostion][id] =\r\n        e.target.files[0];\r\n\r\n      setGuestArr({ ...guestarr, [id]: e.target.files[0] });\r\n    } else if (e.target.type === \"checkbox\") {\r\n      if (id == \"ismaubancitizen\") {\r\n        if (e.target.checked) {\r\n          localtravelinfodata.fees[6].amount =\r\n            localtravelinfodata.fees[6].amount +\r\n            -1 * localtravelinfodata.fees[0].amount;\r\n        } else {\r\n          localtravelinfodata.fees[6].amount =\r\n            localtravelinfodata.fees[6].amount -\r\n            -1 * localtravelinfodata.fees[0].amount;\r\n        }\r\n      } else if (id == \"isreturningguest\") {\r\n        localtravelinfodata[\"guestinfo\"][\r\n          guestactivepostion\r\n        ].isguestvaildated = false;\r\n        localtravelinfodata[\"guestinfo\"][guestactivepostion].emailid = \"\";\r\n        localtravelinfodata[\"guestinfo\"][guestactivepostion].Address = \"\";\r\n        localtravelinfodata[\"guestinfo\"][guestactivepostion].Mobilenumber = \"\";\r\n        guestarr.isguestvaildated = false;\r\n        guestarr.emailid = \"\";\r\n        guestarr.Address = \"\";\r\n        guestarr.Mobilenumber = \"\";\r\n        if (e.target.checked) {\r\n          setReturnGuestMsg(\r\n            \"Please Fill-in your Firstname, Lastname, gender and birthday to Validate!\"\r\n          );\r\n        } else {\r\n          setReturnGuestMsg(\"\");\r\n        }\r\n      } else if (id == \"parkingnotreq\") {\r\n        localtravelinfodata.parkingnotreq = e.target.checked;\r\n        if (e.target.checked) {\r\n          localtravelinfodata.fees[4].amount = 0;\r\n          for (let i = 0; i < vehicledata.length; i++) {\r\n            const element = vehicledata[i];\r\n            element.qty = 0;\r\n          }\r\n        }\r\n        setLocalTravelInfoData({\r\n          ...localtravelinfodata,\r\n          [\"parkingnotreq\"]: e.target.checked,\r\n        });\r\n      } else if (id == \"isrentbracelet\") {\r\n        if (e.target.checked) {\r\n          localtravelinfodata[\"guestinfo\"][\r\n            guestactivepostion\r\n          ].braceletavailable = false;\r\n          guestarr.braceletavailable = false;\r\n        }\r\n        //else{\r\n        //   localtravelinfodata[\"guestinfo\"][guestactivepostion][\"braceletavailable\"]=false;\r\n\r\n        // }\r\n      } else if (id == \"braceletavailable\") {\r\n        if (e.target.checked) {\r\n          localtravelinfodata[\"guestinfo\"][\r\n            guestactivepostion\r\n          ].isrentbracelet = false;\r\n          guestarr.isrentbracelet = false;\r\n          // }else{\r\n        }\r\n      } else if (id == \"isLandHopping\") {\r\n        if (e.target.checked) {\r\n          localtravelinfodata[\"guestinfo\"][\r\n            guestactivepostion\r\n          ].isLandHopping = false;\r\n          guestarr.isLandHopping = false;\r\n        }\r\n      }\r\n      if (id != \"parkingnotreq\") {\r\n        localtravelinfodata[\"guestinfo\"][guestactivepostion][id] =\r\n          e.target.checked;\r\n        setGuestArr({ ...guestarr, [id]: e.target.checked });\r\n      }\r\n    } else {\r\n      //setguestarr({...guestarr, [id]: value });\r\n      // guestarr[guestactivepostion][id] = value;\r\n\r\n      //setVehiclesData({ ...guestarr, guestarr });\r\n\r\n      if (id == \"hotelbookingref\") {\r\n        localtravelinfodata[\"hotelbookingref\"] = value;\r\n        setHotelBookingRef(value);\r\n      } else {\r\n        setGuestArr({ ...guestarr, [id]: value });\r\n        guestinfo[id] = value;\r\n      }\r\n    }\r\n    recaltotal();\r\n  };\r\n\r\n  const onChangeDateOfBirth = (e) => {\r\n    var dob = e;\r\n\r\n    //var ndob = moment(e).format(\"YYYY-MM-DD\");\r\n    //setDOB(ndob);\r\n    var today = new Date();\r\n    var age = Math.floor((today - dob) / (365.25 * 24 * 60 * 60 * 1000));\r\n    var guestinfo = localtravelinfodata.guestinfo[guestactivepostion];\r\n    guestinfo[\"DOB\"] = moment(dob).format(\"YYYY-MM-DD\");\r\n    setSelectedDOB(dob);\r\n\r\n    recaltotal();\r\n  };\r\n\r\n  const recaltotal = () => {\r\n    var totalamt = 0;\r\n    if (Array.isArray(localtravelinfodata)) {\r\n    } else {\r\n\r\n      for (let t = 0; t < localtravelinfodata.fees.length; t++) {\r\n        //    ;\r\n        const element = localtravelinfodata.fees[t];\r\n        let feevals = [];\r\n        if (feesdata.data != undefined) {\r\n          if (feesdata.data.length > 0) {\r\n            feevals = feesdata.data.filter((x) => parseInt(x.id) == element.id);\r\n          }\r\n        }\r\n\r\n        switch (element.id) {\r\n          case 1:\r\n            //Environment\r\n\r\n            var numofguest = 0;\r\n            for (\r\n              let index = 0;\r\n              index < localtravelinfodata.guestinfo.length;\r\n              index++\r\n            ) {\r\n              if (!localtravelinfodata.guestinfo[index].isguestvaildated) {\r\n                numofguest = numofguest + 1;\r\n              }\r\n            }\r\n            var amt = element.amount;\r\n            var selectedpck = packagedata.filter(x => x.checked == true);\r\n            if (selectedpck.length > 0) {\r\n              if (selectedpck[0].id != \"1\") {\r\n                amt = 80;\r\n              }\r\n            }\r\n\r\n\r\n            totalamt += amt * localtravelinfodata.guestinfo.length;\r\n            break;\r\n          case 2:\r\n            //Boat\r\n            totalamt += element.amount;\r\n            break;\r\n          case 3:\r\n            //Package\r\n\r\n            totalamt += element.amount;\r\n            break;\r\n          case 4:\r\n            //Bracelet and islandhopping\r\n            var purchase = 0;\r\n            var rental = 0;\r\n            var alreadyhave = 0;\r\n\r\n            if (localtravelinfodata.guestinfo.length > 0) {\r\n              purchase = localtravelinfodata.guestinfo.filter(\r\n                (x) => x.isrentbracelet == false && x.braceletavailable == false\r\n              ).length;\r\n              rental = localtravelinfodata.guestinfo.filter(\r\n                (x) => x.isrentbracelet == true\r\n              ).length;\r\n              alreadyhave = localtravelinfodata.guestinfo.filter(\r\n                (x) => x.braceletavailable == true\r\n              ).length;\r\n            }\r\n            var purchaseprice = 0;\r\n            var purchaserent = 0;\r\n            if (feevals.length > 0) {\r\n              purchaseprice = parseFloat(feevals[0].price);\r\n              purchaserent = parseFloat(feevals[0].rentprice);\r\n            }\r\n\r\n            totalamt += purchase * purchaseprice + rental * purchaserent;\r\n\r\n            break;\r\n          case 5:\r\n            //Parking\r\n\r\n            var parkingcharg = 0;\r\n            if (vehicledata != undefined) {\r\n              if (vehicledata.length > 0) {\r\n                var todata =\r\n                  selectedtodate[0] == undefined\r\n                    ? selectedtodate\r\n                    : selectedtodate[0];\r\n                var fromdata =\r\n                  selectedfromdate[0] == undefined\r\n                    ? selectedfromdate\r\n                    : selectedfromdate[0];\r\n                const diffTime = Math.abs(todata - fromdata);\r\n                let diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\r\n                if (diffDays == 0 || diffDays == 1) {\r\n                  diffDays = 1;\r\n                }\r\n                for (let index = 0; index < vehicledata.length; index++) {\r\n                  const elementpark = vehicledata[index];\r\n                  var cost = elementpark.qty * parseFloat(elementpark.amount);\r\n                  parkingcharg = parkingcharg + cost * diffDays;\r\n                }\r\n              }\r\n            }\r\n            localtravelinfodata.fees[5].amount = parkingcharg;\r\n\r\n            totalamt = totalamt + parkingcharg;\r\n            break;\r\n          case 6:\r\n            //Discount\r\n\r\n            var guestinfo = localtravelinfodata.guestinfo;\r\n            var discountamount = 0;\r\n            for (let index = 0; index < guestinfo.length; index++) {\r\n              const guestinfoele = guestinfo[index];\r\n              var today = new Date();\r\n              var dob = new Date(guestinfoele.DOB);\r\n              if (new Date(guestinfoele.DOB).getDate() == today.getDate() &&\r\n                new Date(guestinfoele.DOB).getMonth() == today.getMonth() &&\r\n                new Date(guestinfoele.DOB).getFullYear() == today.getFullYear()) {\r\n                discountamount += 0;\r\n              } else {\r\n                var age = Math.floor(\r\n                  (today - new Date(guestinfoele.DOB)) / (365.25 * 24 * 60 * 60 * 1000)\r\n                );\r\n                var amount;\r\n                var baramt = guestinfoele.isrentbracelet == true ? localtravelinfodata.fees[1].rentprice : localtravelinfodata.fees[1].amount;\r\n                if (localtravelinfodata.package[0].id == \"\" || localtravelinfodata.package[0].id == 1) {\r\n                  amount = localtravelinfodata.fees[0].amount +\r\n                    baramt;\r\n                } else {\r\n                  amount = 80 + baramt;\r\n                }\r\n                if (age > 60) {\r\n                  discountamount += parseFloat(calculateSale(amount, 20));\r\n                } else if (age >= 0 && age <= 7) {\r\n                  discountamount += parseFloat(calculateSale(amount, 20));\r\n                }\r\n              }\r\n\r\n            }\r\n\r\n            totalamt = totalamt + -1 * discountamount;\r\n            element.amount = -1 * discountamount;\r\n            break;\r\n          case 7:\r\n            //Exemption\r\n            //   if(_ismaubancitizen){\r\n\r\n            totalamt = totalamt + element.amount;\r\n\r\n            // }\r\n\r\n            break;\r\n          case 9:\r\n            var isLandHopping = localtravelinfodata.guestinfo.filter(\r\n              (x) => x.isLandHopping == true\r\n            ).length;\r\n            var islandhoppingprice = 0;\r\n            var islandhoppingrent = 0;\r\n            if (feevals.length > 0) {\r\n              islandhoppingprice = parseFloat(feevals[0].price);\r\n              islandhoppingrent = parseFloat(feevals[0].rentprice);\r\n            }\r\n            totalamt = totalamt + islandhoppingprice * isLandHopping;\r\n            break;\r\n\r\n          default:\r\n            //total\r\n            element.amount = totalamt;\r\n            break;\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  const getcapacityofboat = () => {\r\n    var count = 0;\r\n    if (localtravelinfodata.boatinfo.length > 0) {\r\n      for (\r\n        let index = 0;\r\n        index < localtravelinfodata.boatinfo.length;\r\n        index++\r\n      ) {\r\n        const element = localtravelinfodata.boatinfo[index];\r\n        count += element.capacity;\r\n      }\r\n    }\r\n    return count;\r\n  };\r\n  const updatecalculation = () => {\r\n    for (let index = 0; index < localtravelinfodata.fees.length; index++) { }\r\n  };\r\n\r\n  const calculateSale = (listPrice, discount) => {\r\n    ;\r\n    listPrice = parseFloat(listPrice);\r\n    discount = parseFloat(discount);\r\n    return (listPrice * ((discount) / 100)).toFixed(2);\r\n  };\r\n  const handleChangeOptionGender = (e) => {\r\n    if (localtravelinfodata[\"guestinfo\"].length > 0) {\r\n      localtravelinfodata[\"guestinfo\"][guestactivepostion][\"Gender\"] = e.value;\r\n    }\r\n\r\n    setSelectedGender(e.value);\r\n  };\r\n  const handleChangeHPB = (e) => {\r\n    setIsHotelProvideBoat(e.target.checked);\r\n    setSelectedBoatData([]);\r\n    setIsBoatSeletionOpen(e.target.checked);\r\n  };\r\n\r\n  const handleChangeCheckbox = (e) => {\r\n    var guestinfo = localtravelinfodata.guestinfo;\r\n    if (e.target.type === \"checkbox\") {\r\n      guestinfo[guestactivepostion][\"ismaubancitizen\"] = e.target.checked;\r\n      guestinfo[\"filedata\"] = \"\";\r\n\r\n      if (e.target.checked) {\r\n        localtravelinfodata.fees[6].amount =\r\n          localtravelinfodata.fees[6].amount +\r\n          -1 * localtravelinfodata.fees[0].amount;\r\n      } else {\r\n        localtravelinfodata.fees[6].amount =\r\n          localtravelinfodata.fees[6].amount -\r\n          -1 * localtravelinfodata.fees[0].amount;\r\n      }\r\n\r\n      setLocalTravelInfoData({\r\n        ...localtravelinfodata,\r\n        [\"guestinfo\"]: guestinfo,\r\n      });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (selectedProvince != \"\") {\r\n      var Municipalityarr = RawMunicipality.filter(\r\n        (x) => x.provinceid == selectedProvince\r\n      );\r\n      if (Municipalityarr.length > 0) {\r\n        var municipalitydata = getdropdownarr(Municipalityarr);\r\n        setMunicipality(municipalitydata);\r\n        localtravelinfodata[\"guestinfo\"][guestactivepostion][\"Province\"] =\r\n          selectedProvince;\r\n        if (\r\n          localtravelinfodata[\"guestinfo\"][guestactivepostion][\r\n          \"Municipality\"\r\n          ] == municipalitydata[0].value\r\n        ) {\r\n          localtravelinfodata[\"guestinfo\"][guestactivepostion][\"Municipality\"] =\r\n            municipalitydata[0].value;\r\n\r\n          setSelectedMunicipality(municipalitydata[0].value);\r\n        } else {\r\n          setSelectedMunicipality(\r\n            localtravelinfodata[\"guestinfo\"][guestactivepostion][\"Municipality\"]\r\n          );\r\n        }\r\n      }\r\n    }\r\n  }, [selectedProvince]);\r\n\r\n  /*#endregion guest detail  */\r\n\r\n  const vaildationbeforepay = () => {\r\n    var result = true;\r\n\r\n    for (let index = 0; index < localtravelinfodata.guestinfo.length; index++) {\r\n      const element = localtravelinfodata.guestinfo[index];\r\n      var guestcounter = index + 1;\r\n      var today = new Date();\r\n      var age = Math.floor(\r\n        (today - element.DOB) / (365.25 * 24 * 60 * 60 * 1000)\r\n      );\r\n      if (element.Firstname == \"\") {\r\n        notify(2, \"Please enter first name for guest\" + guestcounter);\r\n        setIsProcessing(false);\r\n        return false;\r\n      } else if (element.Lastname == \"\") {\r\n        notify(2, \"Please enter last name for guest\" + guestcounter);\r\n        setIsProcessing(false);\r\n        return false;\r\n      } else if (element.Mobilenumber == \"\" && index == 0) {\r\n        notify(2, \"Please enter mobile number for guest\" + guestcounter);\r\n        setIsProcessing(false);\r\n        return false;\r\n      } else if (element.emailid == \"\" && index == 0) {\r\n        notify(2, \"Please enter email id for guest\" + guestcounter);\r\n        setIsProcessing(false);\r\n        return false;\r\n      } else if (element.Address == \"\") {\r\n        notify(2, \"Please enter address for guest\" + guestcounter);\r\n        setIsProcessing(false);\r\n        return false;\r\n      } else if (element.ismaubancitizen) {\r\n        if (element.filedata == \"\") {\r\n          notify(2, \"Please upload vaild id proof for guest\" + guestcounter);\r\n          setIsProcessing(false);\r\n          return false;\r\n        }\r\n      } else {\r\n        if (element.emailid != \"\" && index == 0) {\r\n          const regex = /^(([^<>()[\\]\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i;\r\n          if (!element.emailid || regex.test(element.emailid) === false) {\r\n            notify(2, \"Invalid Email id for guest\" + guestcounter);\r\n            setIsProcessing(false);\r\n            return false;\r\n          }\r\n        }\r\n      }\r\n      // else if (age >= 66 || age <= 14) {\r\n      //   notify(2, \"Age comply by IATF rules (age not below 14 and  above 65 )\");\r\n      //   setIsProcessing(false);\r\n      //   return false;\r\n      // }\r\n    }\r\n\r\n    return result;\r\n  };\r\n  const funfileupload = () => {\r\n    var numberoffilestoupload = localtravelinfodata.guestinfo.filter(\r\n      (x) => x.ismaubancitizen\r\n    );\r\n\r\n    //setfiledata(numberoffilestoupload);\r\n    if (numberoffilestoupload.length > 0) {\r\n      const form_data = new FormData();\r\n      for (let index = 0; index < numberoffilestoupload.length; index++) {\r\n        const element = numberoffilestoupload[index];\r\n        form_data.append(\"files\", element.filedata);\r\n        form_data.append(\"fileid\", element.fileid);\r\n      }\r\n      const requestOptions = {\r\n        method: \"POST\",\r\n        body: form_data,\r\n      };\r\n      fetch(common.fileuploadurl, requestOptions).then(async (response) => {\r\n        const data = await response.json();\r\n        // check for error response\r\n        if (!response.ok) {\r\n          const error = (data && data.message) || response.status;\r\n          return Promise.reject(error);\r\n        }\r\n\r\n        if (data.resultkey == 1) {\r\n          var resultdata = data.resultvalue;\r\n          //   var numberoffilestoupload=localtravelinfodata.guestinfo.filter(x=>x.ismaubancitizen);\r\n          for (let index = 0; index < numberoffilestoupload.length; index++) {\r\n            const element = numberoffilestoupload[index];\r\n\r\n            if (element.fileid == resultdata.fileid[index]) {\r\n              element.newfilename = resultdata.newfilename[index];\r\n              element.oldfilename = resultdata.oldfilename[index];\r\n\r\n              //       break;\r\n            }\r\n          }\r\n          setfiledata(numberoffilestoupload);\r\n          finalsave();\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  const Savedata = () => {\r\n    setIsProcessing(true);\r\n    if (vaildationbeforepay()) {\r\n      var numberoffilestoupload = localtravelinfodata.guestinfo.filter(\r\n        (x) => x.ismaubancitizen\r\n      );\r\n      if (numberoffilestoupload.length > 0) {\r\n        funfileupload();\r\n        return;\r\n      }\r\n      finalsave();\r\n    }\r\n  };\r\n  const finalsave = () => {\r\n    let val = Math.floor(1000 + Math.random() * 9000);\r\n    var todata =\r\n      selectedtodate[0] == undefined ? selectedtodate : selectedtodate[0];\r\n    var fromdata =\r\n      selectedfromdate[0] == undefined ? selectedfromdate : selectedfromdate[0];\r\n    let Difference_In_Time = todata - fromdata;\r\n\r\n    var Difference_In_Days = Math.floor(\r\n      Difference_In_Time / (1000 * 3600 * 24)\r\n    );\r\n    var totalvehicleingrid = 0;\r\n    if (vgridata.data) {\r\n      for (let i = 0; i < vgridata.data.length; i++) {\r\n        totalvehicleingrid = totalvehicleingrid + vgridata.data[i].qty;\r\n      }\r\n    }\r\n\r\n    var _guestinfotosave = [];\r\n    for (let index = 0; index < localtravelinfodata.guestinfo.length; index++) {\r\n      const element = localtravelinfodata.guestinfo[index];\r\n      if (\r\n        localtravelinfodata.guestinfo[index].Gender == undefined ||\r\n        localtravelinfodata.guestinfo[index].Gender == null\r\n      ) {\r\n        localtravelinfodata.guestinfo[index].Gender = 0;\r\n      }\r\n      _guestinfotosave.push(element);\r\n    }\r\n    var setvehicle = vehicledata.filter((x) => parseFloat(x.qty) > 0);\r\n    var finalvehicle = [];\r\n    if (setvehicle.length > 0) {\r\n      var todata =\r\n        selectedtodate[0] == undefined ? selectedtodate : selectedtodate[0];\r\n      var fromdata =\r\n        selectedfromdate[0] == undefined\r\n          ? selectedfromdate\r\n          : selectedfromdate[0];\r\n      const diffTime = Math.abs(todata - fromdata);\r\n      // const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24))+1;\r\n      let diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\r\n      if (diffDays == 0 || diffDays == 1) {\r\n        diffDays = 1;\r\n      }\r\n      for (let index = 0; index < setvehicle.length; index++) {\r\n        const parkele = setvehicle[index];\r\n        var cost = parseFloat(parkele.qty) * parseFloat(parkele.amount);\r\n        parkele.totalcost = cost * diffDays;\r\n      }\r\n      for (let index = 0; index < setvehicle.length; index++) {\r\n        const finalelement = setvehicle[index];\r\n        if (finalelement.qty > 1) {\r\n          // let newArr = [...finalelement];\r\n          for (let index = 0; index < finalelement.qty; index++) {\r\n            finalelement.uuid = uuid();\r\n            finalelement.numberofnights = diffDays;\r\n            finalvehicle.push(finalelement);\r\n          }\r\n        } else {\r\n          finalelement.uuid = uuid();\r\n          finalelement.numberofnights = diffDays;\r\n          finalvehicle.push(finalelement);\r\n        }\r\n      }\r\n    }\r\n    let seltimeslot = timeslot.filter((x) => x.value == selectedtimeslot);\r\n    var submitdata = {\r\n      fromdate: moment(\r\n        selectedfromdate[0] == undefined\r\n          ? selectedfromdate\r\n          : selectedfromdate[0]\r\n      ).format(\"YYYY-MM-DD\"),\r\n      todate: moment(\r\n        selectedtodate[0] == undefined ? selectedtodate : selectedtodate[0]\r\n      ).format(\"YYYY-MM-DD\"),\r\n      numberofdays: Difference_In_Days,\r\n      totalcharge: localtravelinfodata.fees[8].amount,\r\n      pax: localtravelinfodata.numberofguest,\r\n      boatcapcity: localtravelinfodata.boatinfo,\r\n      preferredhotels: localtravelinfodata.hotel,\r\n      paymentid: val,\r\n      selectedvehicleinfo: [],\r\n      touristinfo: localtravelinfodata.guestinfo,\r\n      chargesinfo: [],\r\n      numberofvehicle: localtravelinfodata.vehicle.length,\r\n      touristvehicles: finalvehicle,\r\n      packagedata: localtravelinfodata.package,\r\n      slotid: selectedtimeslot,\r\n      ishotelprovideboat: ishotelprovideboat,\r\n      slotdetail: seltimeslot,\r\n      parkingnotreq: localtravelinfodata.parkingnotreq,\r\n      hotelbookingref: localtravelinfodata.hotelbookingref,\r\n      packageinfo: {},\r\n      bulkUpload: localtravelinfodata.isBulkUpload,\r\n    };\r\n    // console.log(submitdata);\r\n    // return;\r\n    //check availability\r\n    dataservice(\"booking\", {\r\n      requestfor: \"checkavailability\",\r\n      data: {\r\n        fromdate: moment(\r\n          selectedfromdate[0] == undefined\r\n            ? selectedfromdate\r\n            : selectedfromdate[0]\r\n        ).format(\"YYYY-MM-DD\"),\r\n        touristcount: localtravelinfodata.guestinfo.length,\r\n      },\r\n    })\r\n      .then(function (checkdata) {\r\n        if (checkdata.resultkey == 1) {\r\n          if (checkdata.resultvalue[0].isSlotAvialble > 0) {\r\n            dataservice(\"registration\", {\r\n              requestfor: \"registration\",\r\n              data: submitdata,\r\n            })\r\n              .then(function (data) {\r\n                if (data.resultkey == 1) {\r\n                  var result = data.resultvalue;\r\n                  // {\"code\": 200, \"status\": true, \"results\": {\"data\": {\"url\": \"https://api.smartpay.net.ph/payment?reference_number=SP00002097\", \"method\": \"GET\", \"reference_number\": \"SP00002097\"}, \"message\": \"Success.\"}}\r\n                  //{\"code\": 402, \"status\": false, \"results\": {\"data\": {\"customer_email\": \"The Customer Email Address field must contain a valid email address.\"}, \"message\": \"Invalid Parameters.\"}}\r\n                  var responseurl = JSON.parse(data.resultvalue.url);\r\n                  //.url;\r\n                  if (responseurl.status) {\r\n                    if (responseurl.results != \"\" && responseurl.results !== undefined) {\r\n                      window.location.href = responseurl.results.data.url;\r\n                    } else {\r\n                      var errormdg = responseurl.message + \"  \" + responseurl.results.toString();\r\n                      notify(2, errormdg);\r\n                      setIsProcessing(false);\r\n                    }\r\n                  }\r\n\r\n                } else {\r\n                  notify(2, \"error!\");\r\n                  setIsProcessing(false);\r\n                }\r\n              })\r\n              .catch(function (error) {\r\n                notify(2, \"error!\" + error);\r\n                setIsProcessing(false);\r\n              });\r\n          } else {\r\n            notify(2, \"no slot available for this date!\");\r\n            setIsProcessing(false);\r\n          }\r\n        } else {\r\n          notify(2, \"error !\" + JSON.stringify(checkdata.resultvalue));\r\n          setIsProcessing(false);\r\n        }\r\n      })\r\n      .catch(function (error) {\r\n        notify(2, \"error !\" + error);\r\n        setIsProcessing(false);\r\n        // console.log(error);\r\n      });\r\n  };\r\n  const handleperferredtime = (e) => {\r\n    const { id, value } = e.target;\r\n    console.log(id);\r\n    if (id == 1) {\r\n      setselectedpreferredtimemorning(true);\r\n    } else {\r\n      setselectedpreferredtimemorning(false);\r\n    }\r\n    //setselectedpreferredtimemorning(data);\r\n  };\r\n\r\n  const vaildateguest = () => {\r\n    setIsVaildatereturnProcessing(true);\r\n    var selectedguest = localtravelinfodata[\"guestinfo\"][guestactivepostion];\r\n    if (selectedguest.Firstname == \"\") {\r\n      notify(2, \"Please enter first name!\");\r\n      return;\r\n    } else if (selectedguest.Lastname == \"\") {\r\n      notify(2, \"Please enter last name!\");\r\n      return;\r\n    } else {\r\n      dataservice(\"returnguest\", {\r\n        requestfor: \"vaildatereturnguest\",\r\n        data: {\r\n          firstname: selectedguest.Firstname,\r\n          lastname: selectedguest.Lastname,\r\n          dob: moment(selectedguest.DOB).format(\"YYYY-MM-DD\"),\r\n          gender: selectedguest.Gender,\r\n        },\r\n      })\r\n        .then(function (data) {\r\n          setIsVaildatereturnProcessing(false);\r\n          if (data.resultkey == 1) {\r\n            var result = data.resultvalue[0];\r\n            if (result.lastvisited == 0) {\r\n              localtravelinfodata[\"guestinfo\"][\r\n                guestactivepostion\r\n              ].isguestvaildated = true;\r\n              localtravelinfodata[\"guestinfo\"][guestactivepostion].emailid =\r\n                result.emailid;\r\n              localtravelinfodata[\"guestinfo\"][guestactivepostion].Address =\r\n                result.address1;\r\n              localtravelinfodata[\"guestinfo\"][\r\n                guestactivepostion\r\n              ].Mobilenumber = result.mobilenumber;\r\n\r\n              var _selcitizenid = citizenship.filter(\r\n                (x) => x.value == result.citizenid\r\n              );\r\n              localtravelinfodata[\"guestinfo\"][0][\"Citizenship\"] =\r\n                _selcitizenid[0].value;\r\n              setSelectedCS(_selcitizenid[0].value);\r\n              var _selcountry = country.filter(\r\n                (x) => x.value == result.nationalityid\r\n              );\r\n              localtravelinfodata[\"guestinfo\"][0][\"CountryofOrigin\"] =\r\n                _selcountry[0].value;\r\n              setSelectedCOO(_selcountry[0].value);\r\n\r\n              //localtravelinfodata[\"guestinfo\"][guestactivepostion].Municipality=result.ismaubancitizen;\r\n\r\n              guestarr.isguestvaildated = true;\r\n              guestarr.emailid = result.emailid;\r\n              guestarr.Address = result.address1;\r\n              guestarr.Mobilenumber = result.mobilenumber;\r\n\r\n              setReturnGuestMsg(\"Guest validated successfully\");\r\n              setVaildateReturnmsg(\"\");\r\n              recaltotal();\r\n            }\r\n            // setVaildateReturnmsg(\"Sorry guest info doesn't exist.\"); setVaildateReturnmsg(\"Sorry guest info doesn't exist.\");\r\n          } else {\r\n            localtravelinfodata[\"guestinfo\"][\r\n              guestactivepostion\r\n            ].isguestvaildated = false;\r\n            setVaildateReturnmsg(\"Sorry guest info doesn't exist.\");\r\n          }\r\n        })\r\n        .catch(function (edata) {\r\n          setIsVaildatereturnProcessing(false);\r\n          setVaildateReturnmsg(edata.toString());\r\n          notify(2, edata.toString(), 1);\r\n        });\r\n    }\r\n  };\r\n  const [isconfirmchange, setIsConfirmChange] = useState(false);\r\n  const [isopenbulkupload, setIsOpenBulkUpload] = useState(false);\r\n  const [bulkuploaddata, setBulkUploadData] = useState([]);\r\n  const [bulkuploadfilename, setbulkuploadfilename] = useState([]);\r\n\r\n  const bulkupload = () => {\r\n    setIsOpenBulkUpload(!isopenbulkupload);\r\n  };\r\n  const handlebulkUpload = (e) => {\r\n    e.preventDefault();\r\n    if (e.target.files.length > 0) {\r\n      var files = e.target.files,\r\n        f = files[0];\r\n      setbulkuploadfilename(f);\r\n      var reader = new FileReader();\r\n      reader.onload = function (e) {\r\n        var data = e.target.result;\r\n        let readedData = XLSX.read(data, {\r\n          type: \"binary\",\r\n          cellText: false,\r\n          cellDates: true,\r\n        });\r\n        const wsname = readedData.SheetNames[0];\r\n        const ws = readedData.Sheets[wsname];\r\n\r\n        /* Convert array to json*/\r\n        const dataParse = XLSX.utils.sheet_to_json(ws, {\r\n          header: 1,\r\n          raw: false,\r\n          dateNF: \"yyyy-mm-dd\",\r\n        });\r\n        if (dataParse.length > 1) {\r\n          var bulkupdatevalues = [];\r\n\r\n          if (dataParse.length - 1 == selectednumberguest) {\r\n            for (let index = 1; index < dataParse.length; index++) {\r\n              let element = dataParse[index];\r\n              var guestdata = {};\r\n              if (\r\n                element[0] !== undefined &&\r\n                element[0] !== \"\" &&\r\n                element[1] !== undefined &&\r\n                element[1] !== \"\" &&\r\n                element[2] !== undefined &&\r\n                element[2] !== \"\" &&\r\n                element[3] !== undefined &&\r\n                element[3] !== \"\"\r\n              ) {\r\n                var _gender = Gender.filter((x) => x.label == element[3]);\r\n                var _citizen = citizenship.filter(\r\n                  (x) => x.label.toLowerCase() == element[9].toLowerCase()\r\n                );\r\n                var _CountryofOrigin = country.filter(\r\n                  (x) => x.label.toLowerCase() == element[10].toLowerCase()\r\n                );\r\n\r\n                var provincearr = RawProvince.filter((x) => x.countryid == 2);\r\n                var provincedata = getdropdownarr(provincearr);\r\n                var _validateprovide = provincedata.filter(\r\n                  (x) => x.label.toLowerCase() == element[11].toLowerCase()\r\n                );\r\n                var _Province = RawProvince.filter(\r\n                  (x) =>\r\n                    x.description.toLowerCase() == element[11].toLowerCase()\r\n                );\r\n                var municipalityarr = RawMunicipality.filter(\r\n                  (x) => x.provinceid == _validateprovide[0].value\r\n                );\r\n                var municipalitydata = getdropdownarr(municipalityarr);\r\n                var _validmunicipality = municipalitydata.filter(\r\n                  (x) => x.label.toLowerCase() == element[12].toLowerCase()\r\n                );\r\n                var _Municipality = RawMunicipality.filter(\r\n                  (x) =>\r\n                    x.description.toLowerCase() == element[12].toLowerCase()\r\n                );\r\n                var isvalidmunicipality =\r\n                  _validmunicipality.length > 0 ? true : false;\r\n                if (index == 1) {\r\n                  if (\r\n                    element[5] !== undefined &&\r\n                    element[5] !== \"\" &&\r\n                    element[6] !== undefined &&\r\n                    element[6] !== \"\"\r\n                  ) {\r\n                    guestdata = {\r\n                      FirstName: element[0],\r\n                      LastName: element[1],\r\n                      DateOfBirth: moment(element[2]).format(\"YYYY-MM-DD\"),\r\n                      Gender: _gender[0].value,\r\n                      Address: element[4],\r\n                      MobileNumber: element[5],\r\n                      EmailID: element[6],\r\n                      RentBracelet:\r\n                        element[7].toString().toLowerCase() == \"yes\"\r\n                          ? true\r\n                          : false,\r\n                      IslandHopping: false,\r\n\r\n                      // element[8].toString().toLowerCase() == \"yes\"\r\n                      //   ? true\r\n                      //   : false,\r\n                      Citizen: _citizen[0].value.toString(),\r\n                      Citizendesc: _citizen[0].label.toString(),\r\n                      Country: _CountryofOrigin[0].value.toString(),\r\n                      Countrydesc: _CountryofOrigin[0].label.toString(),\r\n                      Province: _Province[0].id.toString(),\r\n                      Provincedesc: _Province[0].description.toString(),\r\n                      Municipality: _Municipality[0].id.toString(),\r\n                      Municipalitydesc: _Municipality[0].description.toString(),\r\n                      isvalidmunicipality: isvalidmunicipality,\r\n                      // \"Maubanin\":element[13].toString().toLowerCase()==\"yes\"?true:false\r\n                    };\r\n                  } else {\r\n                    notify(\r\n                      2,\r\n                      \"Invaild uploaded excel,Please fill all required field for guest!\"\r\n                    );\r\n                    return;\r\n                  }\r\n                } else {\r\n                  guestdata = {\r\n                    FirstName: element[0],\r\n                    LastName: element[1],\r\n                    DateOfBirth: moment(element[2]).format(\"YYYY-MM-DD\"),\r\n                    Gender: _gender[0].value,\r\n                    Address: element[4],\r\n                    MobileNumber: element[5],\r\n                    EmailID: element[6],\r\n                    RentBracelet:\r\n                      element[7].toString().toLowerCase() == \"yes\"\r\n                        ? true\r\n                        : false,\r\n                    IslandHopping: false,\r\n                    // element[8].toString().toLowerCase() == \"yes\"\r\n                    //   ? true\r\n                    //   : false,\r\n                    Citizen: _citizen[0].value.toString(),\r\n                    Citizendesc: _citizen[0].label.toString(),\r\n                    Country: _CountryofOrigin[0].value.toString(),\r\n                    Countrydesc: _CountryofOrigin[0].label.toString(),\r\n                    Province: _Province[0].id.toString(),\r\n                    Provincedesc: _Province[0].description.toString(),\r\n                    Municipality: _Municipality[0].id.toString(),\r\n                    Municipalitydesc: _Municipality[0].description.toString(),\r\n                    isvalidmunicipality: isvalidmunicipality,\r\n                    //  \"Maubanin\":element[13].toString().toLowerCase()==\"yes\"?true:false\r\n                  };\r\n                }\r\n              } else {\r\n                notify(\r\n                  2,\r\n                  \"Invaild uploaded excel,Please fill all required field for guest!\"\r\n                );\r\n                return;\r\n              }\r\n\r\n              bulkupdatevalues.push(guestdata);\r\n            }\r\n          } else {\r\n            notify(2, \"number of guest  is not matching with uploaded guest\");\r\n          }\r\n\r\n          setBulkUploadData(bulkupdatevalues);\r\n\r\n        } else {\r\n          notify(2, \"No guest data \");\r\n        }\r\n\r\n        // setFileUploaded(dataParse);\r\n      };\r\n      reader.readAsBinaryString(f);\r\n    } else {\r\n      setBulkUploadData([]);\r\n    }\r\n  };\r\n\r\n  const cancelbulkupload = () => {\r\n    setBulkUploadData([]);\r\n  };\r\n  const savebulkupload = () => {\r\n    //update number of guest\r\n    setSelectedNumberGuest(bulkuploaddata.length);\r\n    setIsOpenBulkUpload(!isopenbulkupload);\r\n    var guestinfo = localtravelinfodata[\"guestinfo\"];\r\n    localtravelinfodata.isBulkUpload = false;\r\n    if (bulkuploaddata.length > 0) {\r\n      localtravelinfodata.isBulkUpload = true;\r\n      for (let index = 0; index < guestinfo.length; index++) {\r\n        let element = guestinfo[index];\r\n        element.Address = bulkuploaddata[index].Address;\r\n        element.Firstname = bulkuploaddata[index].FirstName;\r\n        element.Lastname = bulkuploaddata[index].LastName;\r\n        element.DOB = new Date(bulkuploaddata[index].DateOfBirth);\r\n        element.Mobilenumber = bulkuploaddata[index].MobileNumber;\r\n        element.emailid = bulkuploaddata[index].EmailID;\r\n        element.Gender = bulkuploaddata[index].Gender;\r\n        element.isLandHopping = bulkuploaddata[index].IslandHopping;\r\n        element.isrentbracelet = bulkuploaddata[index].RentBracelet;\r\n        //  element.ismaubancitizen=bulkuploaddata[index].Maubanin;\r\n        element.Citizenship = bulkuploaddata[index].Citizen;\r\n        element.CountryofOrigin = bulkuploaddata[index].Country;\r\n        element.Municipality = bulkuploaddata[index].Municipality;\r\n        element.Province = bulkuploaddata[index].Province;\r\n      }\r\n    }\r\n    setselectguest(0);\r\n    recaltotal();\r\n  };\r\n  const Changenumberofguest = () => {\r\n    setSelectedNumberGuest(selectednumberguestbeforeconfirm);\r\n    setBulkUploadData([]);\r\n    setIsConfirmChange(!isconfirmchange);\r\n  };\r\n  return (\r\n    <>\r\n      <h5>{localtravelinfodata.isguest == true ? \"\" : \"\"}</h5>\r\n\r\n      <CCardBody>\r\n        <CRow>\r\n          <div\r\n            style={{\r\n              display: localtravelinfodata.isguest == true ? \"none\" : \"\",\r\n            }}\r\n            className=\"col-md-8 mb-4\"\r\n          >\r\n            {/* <!--Card--> */}\r\n            <div className=\"card\">\r\n              {/* <!--Card content--> */}\r\n              <form className=\"card-body\">\r\n                <div style={{ display: isvehicle == true ? \"none\" : \"\" }}>\r\n                  <div className=\"row\">\r\n                    {/*<!-Main-->*/}\r\n\r\n                    {/*<!--Grid column-->*/}\r\n                    <div className=\"col-lg-4 col-md-12 mb-4\">\r\n                      <label for=\"guests\">\r\n                        Number Of Guests\r\n                        <span style={{ color: \"red\" }}>\r\n                          <sup>*</sup>\r\n                        </span>\r\n                      </label>\r\n                      <Select\r\n                        className=\"dropdown\"\r\n                        placeholder=\"Select\"\r\n                        value={numberofguests.find(\r\n                          (obj) => obj.value === selectednumberguest\r\n                        )} // set selected values\r\n                        options={numberofguests} // set list of the data\r\n                        onChange={handleChangeOptionNOG} // assign onChange function\r\n                      />\r\n                    </div>\r\n                    {/*<!--Grid column-->*/}\r\n\r\n                    {/*<!--Grid column-->*/}\r\n                    <div className=\"col-lg-4 col-md-12 mb-4\">\r\n                      <label for=\"country\">\r\n                        Start Date\r\n                        <span style={{ color: \"red\" }}>\r\n                          <sup>*</sup>\r\n                        </span>\r\n                      </label>\r\n                      <DatePicker\r\n                        className=\"form-control\"\r\n                        value={selectedfromdate}\r\n                        minDate={new Date()}\r\n                        onChange={setselectedfromdate}\r\n                      />\r\n                    </div>\r\n                    {/*<!--Grid column-->*/}\r\n\r\n                    {/*<!--Grid column-->*/}\r\n                    <div className=\"col-lg-4 col-md-12 mb-4\">\r\n                      <label for=\"country\">\r\n                        End Date\r\n                        <span style={{ color: \"red\" }}>\r\n                          <sup>*</sup>\r\n                        </span>\r\n                      </label>\r\n                      <DatePicker\r\n                        className=\"form-control\"\r\n                        value={selectedtodate}\r\n                        minDate={new Date(selectedfromdate)}\r\n                        onChange={setselectedtodate}\r\n                      />\r\n                    </div>\r\n                    {/*<!--Grid column-->*/}\r\n                  </div>\r\n                  {/*<!--Grid row-->*/}\r\n                  {/* <!--Username--> */}\r\n\r\n                  <div className=\"row\">\r\n                    <div className=\"col-lg-6 col-md-12 mb-6\">\r\n                      Select Type of Boat\r\n                      <span style={{ color: \"red\" }}>\r\n                        <sup>*</sup>\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"row\">\r\n                    {(() => {\r\n                      const rows = [];\r\n                      if (boatTypeData.length > 0) {\r\n                        for (let i = 0; i < boatTypeData.length; i++) {\r\n                          var _pck = boatTypeData[i];\r\n                          var cls =\r\n                            _pck.checked == true\r\n                              ? \"btn btn-block btn-success active\"\r\n                              : \"btn btn-block btn-outline-primary\";\r\n                          //_veh.checked = false;\r\n                          rows.push(\r\n                            <>\r\n                              {\" \"}\r\n                              <div key={i} className=\"col-md-3 mb-3\">\r\n                                <button\r\n\r\n                                  key={i}\r\n                                  className={cls}\r\n                                  id={_pck.id}\r\n                                  value={_pck.checked}\r\n                                  onClick={handleboattypechanges}\r\n                                  type=\"button\"\r\n                                >\r\n                                  {_pck.label}{\" \"}\r\n                                </button>\r\n                              </div>\r\n                            </>\r\n                          );\r\n                        }\r\n                        return rows;\r\n                      }\r\n                    })()}\r\n                  </div>\r\n\r\n\r\n                  <div className=\"row\">\r\n                    <div className=\"col-lg-6 col-md-12 mb-6\">\r\n                      Select Package\r\n                      <span style={{ color: \"red\" }}>\r\n                        <sup>*</sup>\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"row\">\r\n                    {(() => {\r\n                      const rows = [];\r\n                      if (packagedata.length > 0) {\r\n                        for (let i = 0; i < packagedata.length; i++) {\r\n                          var _pck = packagedata[i];\r\n                          var cls =\r\n                            _pck.checked == true\r\n                              ? \"btn btn-block btn-success active\"\r\n                              : \"btn btn-block btn-outline-primary\";\r\n                          //_veh.checked = false;\r\n                          rows.push(\r\n                            <>\r\n                              {\" \"}\r\n                              <div key={i} className=\"col-md-3 mb-3\">\r\n                                <button\r\n\r\n                                  key={i}\r\n                                  className={cls}\r\n                                  id={_pck.id}\r\n                                  value={_pck.checked}\r\n                                  onClick={handlepackagechanges}\r\n                                  type=\"button\"\r\n                                >\r\n                                  {_pck.label}{\" \"}\r\n                                </button>\r\n                              </div>\r\n                            </>\r\n                          );\r\n                        }\r\n                        return rows;\r\n                      }\r\n                    })()}\r\n                  </div>\r\n                  <div className=\"card\">\r\n\r\n                    <div className=\"card-body\">\r\n                      <h6> Sechdule </h6>\r\n                      <div className=\"col-lg-8 col-md-12 mb-4\">\r\n                        <label for=\"guests\">\r\n                          Time of Arrival in Mauban\r\n                          <span style={{ color: \"red\" }}>\r\n                            <sup>*</sup>\r\n                          </span>\r\n                        </label>\r\n                        <Select\r\n                          className=\"dropdown\"\r\n                          placeholder=\"Select\"\r\n                          value={timeslot.find(\r\n                            (obj) => obj.value === selectedtimeslot\r\n                          )} // set selected values\r\n                          options={timeslot} // set list of the data\r\n                          onChange={handleChangeOptionTS} // assign onChange function\r\n                        />\r\n                      </div>\r\n                    </div>\r\n\r\n\r\n                  </div>\r\n                  <div className=\"card\" hidden={!isshowboatselection}>\r\n                    <div className=\"card-body\">\r\n                      <h6> Boat selections  </h6>\r\n                      <div className=\"row\">\r\n                        <div className=\"col-lg-6 col-md-12 mb-6\">\r\n                          <label for=\"country\">Boat Capacity</label>\r\n                          <Select\r\n                            isMulti\r\n                            isDisabled={isboatselectionopen}\r\n                            className=\"dropdown\"\r\n                            placeholder=\"Select Boat Capacity\"\r\n                            value={boatdata.filter((obj) =>\r\n                              selectedboatdata.includes(obj.value)\r\n                            )}\r\n                            // set selected values\r\n                            options={boatdata} // set list of the data\r\n                            onChange={handleChangeOptionBC} // assign onChange function\r\n                          />\r\n                        </div>\r\n                        <div className=\"col-lg-6 col-md-6 mb-6\" style={{ display: \"none\" }}>\r\n                          <label for=\"state\">Is Boat Provided by Resort?</label>\r\n                          <CInput\r\n                            style={{ width: \"6%\", fontSize: \"1rem\" }}\r\n                            type=\"checkbox\"\r\n                            onChange={handleChangeHPB}\r\n                            id=\"ismaubancitizen\"\r\n                          />\r\n                        </div>\r\n\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"card\">\r\n                    <div className=\"card-body\">\r\n                      <h6>Hotel Details</h6>\r\n                      <div className=\"row\">\r\n                        <div className=\"col-lg-6 col-md-6 mb-6\">\r\n                          <label for=\"state\">\r\n                            Accommodation\r\n                            <span style={{ color: \"red\" }}>\r\n                              <sup>*</sup>\r\n                            </span>\r\n                          </label>\r\n                          <Select\r\n                            className=\"dropdown\"\r\n                            placeholder=\"Select Resort\"\r\n                            value={selectedpreferredhotels} // set selected values\r\n                            options={preferredhotels} // set list of the data\r\n                            onChange={handleChangeOptionPH} // assign onChange function\r\n                          />\r\n                        </div>\r\n                        <div className=\"col-lg-6 col-md-6 mb-6\">\r\n                          <label for=\"guests\">\r\n                            {\" \"}\r\n                            Booking Reference#\r\n                            <span style={{ color: \"red\" }}>\r\n                              <sup>*</sup>\r\n                            </span>\r\n                          </label>\r\n                          <CInput\r\n                            onChange={handleChange}\r\n                            value={hotelbookingref}\r\n                            type=\"text\"\r\n                            id=\"hotelbookingref\"\r\n                            placeholder=\" Booking Reference Number\"\r\n                          />\r\n                        </div>\r\n\r\n                      </div>\r\n\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/*<!--Grid row-->*/}\r\n                  <br></br>\r\n                </div>\r\n\r\n                <div style={{ display: isvehicle == true ? \"\" : \"none\" }}>\r\n                  <div className=\"row\">\r\n                    <div className=\"col-lg-6 col-md-12 mb-4\">\r\n                      <label for=\"guests\">\r\n                        Parking not Required {localtravelinfodata.parkingnotreq}\r\n                      </label>\r\n                      <CInput\r\n                        style={{ width: \"20%\", fontSize: \"0rem\" }}\r\n                        onChange={handleChange}\r\n                        type=\"checkbox\"\r\n                        checked={localtravelinfodata.parkingnotreq}\r\n                        value={localtravelinfodata.parkingnotreq}\r\n                        id=\"parkingnotreq\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"row\">\r\n                    <table className=\"table\">\r\n                      <thead>\r\n                        <th>vehicle</th>\r\n                        <th>Qty</th>\r\n                        <th>Total Charge</th>\r\n                      </thead>\r\n                      <tbody>\r\n                        {(() => {\r\n                          const rows = [];\r\n                          if (vehicledata.length > 0) {\r\n                            for (let i = 0; i < vehicledata.length; i++) {\r\n                              var _veh = vehicledata[i];\r\n                              //_veh.checked = false;\r\n\r\n                              rows.push(\r\n                                <>\r\n                                  <tr>\r\n                                    <td>{_veh.typeofvehicle}</td>\r\n                                    <td>\r\n                                      <InputDecimal\r\n                                        type=\"text\"\r\n                                        readOnly={\r\n                                          localtravelinfodata.parkingnotreq\r\n                                        }\r\n                                        value={_veh.qty}\r\n                                        id={_veh.id}\r\n                                        onChange={handleChangevehicleqty(i)}\r\n                                        placeholder=\"Qty\"\r\n                                      />\r\n                                    </td>\r\n                                    <td>\r\n                                      {_veh.qty * parseFloat(_veh.amount)}\r\n                                    </td>\r\n                                  </tr>{\" \"}\r\n                                </>\r\n                              );\r\n                            }\r\n                            return rows;\r\n                          }\r\n                        })()}\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                  <br></br>\r\n                </div>\r\n              </form>\r\n            </div>\r\n            {/*<!--/.Card-->*/}\r\n          </div>\r\n          <div\r\n            style={{\r\n              display: localtravelinfodata.isguest == true ? \"\" : \"none\",\r\n            }}\r\n            className=\"col-md-8 mb-4\"\r\n          >\r\n            <div className=\"row\">\r\n              <div className=\"col-md-3 mb-4\">\r\n                <div className=\"card\">\r\n                  {/* <!--Card content--> */}\r\n                  <div className=\"card-body\">\r\n                    <CButton block onClick={() => bulkupload()} color=\"primary\">\r\n                      Bulk Upload{\" \"}\r\n                    </CButton>\r\n                    {localtravelinfodata.guestinfo &&\r\n                      localtravelinfodata.guestinfo.map((guestinfo, index) => {\r\n                        return (\r\n                          <CButton\r\n                            block\r\n                            onClick={() => setselectguest(index)}\r\n                            variant={\r\n                              index == guestactivepostion ? \"\" : \"outline\"\r\n                            }\r\n                            color=\"success\"\r\n                          >\r\n                            Guest {index + 1}{\" \"}\r\n                          </CButton>\r\n                        );\r\n                      })}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-9 mb-4\">\r\n                <div className=\"card\">\r\n                  {/* <!--Card content--> */}\r\n                  <div className=\"card-body\">\r\n                    <div className=\"row\">\r\n                      <div className=\"col-lg-4 col-md-12 mb-4\">\r\n                        <label for=\"guests\">Returning Guest?</label>\r\n                        <CInput\r\n                          style={{ width: \"20%\", fontSize: \"0rem\" }}\r\n                          onChange={handleChange}\r\n                          type=\"checkbox\"\r\n                          checked={guestarr.isreturningguest}\r\n                          value={guestarr.isreturningguest}\r\n                          id=\"isreturningguest\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div\r\n                      className=\"row\"\r\n                      style={{\r\n                        display:\r\n                          guestarr.isreturningguest == true ? \"\" : \"none\",\r\n                      }}\r\n                    >\r\n                      <div className=\"col-lg-12 col-md-12 mb-4\">\r\n                        <label for=\"guests\" style={{ color: \"red\" }}>\r\n                          {returnguestmsg}\r\n                        </label>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                      {/*<!--Grid column-->*/}\r\n                      <div className=\"col-lg-6 col-md-12 mb-4\">\r\n                        <label for=\"guests\">First name</label>\r\n                        <CInput\r\n                          onChange={handleChange}\r\n                          value={guestarr.Firstname}\r\n                          type=\"text\"\r\n                          id=\"Firstname\"\r\n                          placeholder=\"First Name\"\r\n                        />\r\n                      </div>\r\n                      {/*<!--Grid column-->*/}\r\n\r\n                      {/*<!--Grid column-->*/}\r\n                      <div className=\"col-lg-6 col-md-12 mb-4\">\r\n                        <label for=\"guests\">Last name</label>\r\n                        <CInput\r\n                          onChange={handleChange}\r\n                          type=\"text\"\r\n                          value={guestarr.Lastname}\r\n                          id=\"Lastname\"\r\n                          placeholder=\"Last name\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-lg-6 col-md-12 mb-4\">\r\n                        <label for=\"guests\">Date Of Birth</label>\r\n                        <DatePicker\r\n                          value={selecteddob}\r\n                          onChange={onChangeDateOfBirth}\r\n                        />\r\n                      </div>\r\n                      <div className=\"col-lg-6 col-md-12 mb-4\">\r\n                        <label for=\"guests\">Gender</label>\r\n                        <Select\r\n                          className=\"dropdown\"\r\n                          placeholder=\"Select\"\r\n                          value={Gender.find(\r\n                            (obj) => obj.value === selectedGender\r\n                          )} // set selected values\r\n                          options={Gender} // set list of the data\r\n                          onChange={handleChangeOptionGender} // assign onChange function\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div\r\n                      className=\"row\"\r\n                      style={{\r\n                        display:\r\n                          guestarr.isreturningguest == true ? \"\" : \"none\",\r\n                      }}\r\n                    >\r\n                      <div className=\"col-lg-4 col-md-12 mb-4\">\r\n                        <CButton\r\n                          color=\"primary\"\r\n                          onClick={() => vaildateguest(guestarr)}\r\n                        >\r\n                          Validate\r\n                        </CButton>\r\n                      </div>\r\n                      <div className=\"col-lg-8 col-md-12 mb-4\">\r\n                        <CImg\r\n                          src={processing}\r\n                          height=\"50\"\r\n                          width=\"50\"\r\n                          id=\"proceesing\"\r\n                          style={{\r\n                            display:\r\n                              isvaildatereturnprocessing == true ? \"\" : \"none\",\r\n                          }}\r\n                          alt=\"qrcode\"\r\n                        />\r\n                        <label\r\n                          for=\"guests\"\r\n                          style={{\r\n                            color: \"red\",\r\n                            display:\r\n                              isvaildatereturnprocessing == true ? \"none\" : \"\",\r\n                          }}\r\n                        >\r\n                          {vaildatereturnmsg}\r\n                        </label>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-lg-6 col-md-12 mb-4\">\r\n                        <label for=\"guests\">Citizenship</label>\r\n                        <Select\r\n                          className=\"dropdown\"\r\n                          isDisabled={\r\n                            guestarr.isreturningguest == true\r\n                              ? !guestarr.isguestvaildated\r\n                              : false\r\n                          }\r\n                          placeholder=\"Select Citizenship\"\r\n                          value={citizenship.find(\r\n                            (obj) => obj.value === selectedCS\r\n                          )} // set selected values\r\n                          options={citizenship} // set list of the data\r\n                          onChange={handleChangeCS} // assign onChange function\r\n                        />\r\n                      </div>\r\n\r\n                      {/*<!--Grid column-->*/}\r\n                      <div className=\"col-lg-6 col-md-12 mb-4\">\r\n                        <label for=\"guests\">Country Of orgin</label>\r\n                        <Select\r\n                          id=\"CountryofOrigin\"\r\n                          className=\"dropdown\"\r\n                          isDisabled={\r\n                            guestarr.isreturningguest == true\r\n                              ? !guestarr.isguestvaildated\r\n                              : false\r\n                          }\r\n                          placeholder=\"Select\"\r\n                          value={country.find(\r\n                            (obj) => obj.value === selectedCOO\r\n                          )} // set selected values\r\n                          options={country} // set list of the data\r\n                          onChange={handleChangeCOO} // assign onChange function\r\n                        />\r\n                      </div>\r\n                      {/*<!--Grid column-->*/}\r\n\r\n                      {/*<!--Grid column-->*/}\r\n                    </div>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-lg-6 col-md-12 mb-4\">\r\n                        <label for=\"guests\">Province</label>\r\n                        <Select\r\n                          className=\"dropdown\"\r\n                          placeholder=\"Select\"\r\n                          isDisabled={\r\n                            guestarr.isreturningguest == true\r\n                              ? !guestarr.isguestvaildated\r\n                              : false\r\n                          }\r\n                          value={Province.find(\r\n                            (obj) => obj.value === selectedProvince\r\n                          )} // set selected values\r\n                          options={Province} // set list of the data\r\n                          onChange={handleChangeOptionProvince} // assign onChange function\r\n                        />\r\n                      </div>\r\n\r\n                      {/*<!--Grid column-->*/}\r\n                      <div className=\"col-lg-6 col-md-12 mb-4\">\r\n                        <label for=\"guests\">Municipality</label>\r\n                        <Select\r\n                          className=\"dropdown\"\r\n                          placeholder=\"Select\"\r\n                          isDisabled={\r\n                            guestarr.isreturningguest == true\r\n                              ? !guestarr.isguestvaildated\r\n                              : false\r\n                          }\r\n                          value={Municipality.find(\r\n                            (obj) => obj.value === selectedMunicipality\r\n                          )} // set selected values\r\n                          options={Municipality} // set list of the data\r\n                          onChange={handleChangeOptionMunicipality} // assign onChange function\r\n                        />\r\n                      </div>\r\n                      {/*<!--Grid column-->*/}\r\n\r\n                      {/*<!--Grid column-->*/}\r\n                    </div>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-lg-12 col-md-12 mb-4\">\r\n                        <label for=\"guests\">Address</label>\r\n                        <CInput\r\n                          onChange={handleChange}\r\n                          disabled={\r\n                            guestarr.isreturningguest == true\r\n                              ? !guestarr.isguestvaildated\r\n                              : false\r\n                          }\r\n                          value={guestarr.Address}\r\n                          type=\"text\"\r\n                          id=\"Address\"\r\n                          placeholder=\"Address\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-lg-6 col-md-12 mb-4\">\r\n                        <label for=\"guests\">Mobile Number</label>\r\n                        <CInput\r\n                          onChange={handleChange}\r\n                          disabled={\r\n                            guestarr.isreturningguest == true\r\n                              ? !guestarr.isguestvaildated\r\n                              : false\r\n                          }\r\n                          value={guestarr.Mobilenumber}\r\n                          type=\"text\"\r\n                          id=\"Mobilenumber\"\r\n                          placeholder=\"Mobile \"\r\n                        />\r\n                      </div>\r\n                      <div className=\"col-lg-6 col-md-12 mb-4\">\r\n                        <label for=\"guests\">E-mail Address</label>\r\n                        <CInput\r\n                          onChange={handleChange}\r\n                          disabled={\r\n                            guestarr.isreturningguest == true\r\n                              ? !guestarr.isguestvaildated\r\n                              : false\r\n                          }\r\n                          value={guestarr.emailid}\r\n                          type=\"text\"\r\n                          id=\"emailid\"\r\n                          placeholder=\"Email\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"row\" style={{ display: \"none\" }}>\r\n                      <div className=\"col-lg-1 \">\r\n                        <input\r\n                          style={{ fontSize: \"0rem\" }}\r\n                          disabled={\r\n                            guestarr.isreturningguest == true\r\n                              ? !guestarr.isguestvaildated\r\n                              : false\r\n                          }\r\n                          onChange={handleChange}\r\n                          type=\"checkbox\"\r\n                          checked={guestarr.ismaubancitizen}\r\n                          value={guestarr.ismaubancitizen}\r\n                          id=\"ismaubancitizen\"\r\n                        ></input>\r\n                        {/* <CInput  onChange={handleChange} type=\"checkbox\" checked={guestarr.ismaubancitizen } value={guestarr.ismaubancitizen} id=\"ismaubancitizen\" /> */}\r\n                      </div>\r\n                      <div className=\"col-lg-8\">\r\n                        <label for=\"guests\">\r\n                          Please tick the box if you are Maubanin?\r\n                        </label>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"row\" style={{ display: \"none\" }}>\r\n                      <div\r\n                        className=\"col-lg-8 col-md-12 mb-4\"\r\n                        style={{\r\n                          display:\r\n                            guestarr.ismaubancitizen == true ? \"\" : \"none\",\r\n                        }}\r\n                      >\r\n                        <label for=\"guests\">Filename:</label>\r\n\r\n                        <CInput\r\n                          onChange={handleChange}\r\n                          style={{ color: \"transparent\" }}\r\n                          id=\"filedata\"\r\n                          type=\"file\"\r\n                        />\r\n                        {(() => {\r\n                          const rows = [];\r\n\r\n                          if (guestarr.filedata != undefined) {\r\n                            rows.push(\r\n                              <>\r\n                                <CCol xs=\"12\" style={{ color: \"green\" }}>\r\n                                  {guestarr.filedata.name}\r\n                                </CCol>\r\n                              </>\r\n                            );\r\n\r\n                            return rows;\r\n                          }\r\n                        })()}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-lg-4 col-md-12 mb-4\">\r\n                        <label for=\"guests\" style={{ fontSize: \"14px\" }}>\r\n                          Rent Bracelet\r\n                        </label>\r\n                        <CInput\r\n                          style={{ width: \"20%\", fontSize: \"0rem\" }}\r\n                          disabled={\r\n                            guestarr.isreturningguest == true\r\n                              ? !guestarr.isguestvaildated\r\n                              : false\r\n                          }\r\n                          onChange={handleChange}\r\n                          type=\"checkbox\"\r\n                          checked={guestarr.isrentbracelet}\r\n                          value={guestarr.isrentbracelet}\r\n                          id=\"isrentbracelet\"\r\n                        />\r\n                      </div>\r\n                      <div\r\n                        className=\"col-lg-4 col-md-12 mb-4\"\r\n                        style={{\r\n                          display:\r\n                            guestarr.isguestvaildated == true ? \"\" : \"none\",\r\n                        }}\r\n                      >\r\n                        <label for=\"guests\" style={{ fontSize: \"14px\" }}>\r\n                          Do you have Bracelet\r\n                        </label>\r\n                        <CInput\r\n                          style={{ width: \"20%\", fontSize: \"0rem\" }}\r\n                          disabled={\r\n                            guestarr.isreturningguest == true\r\n                              ? !guestarr.isguestvaildated\r\n                              : false\r\n                          }\r\n                          onChange={handleChange}\r\n                          type=\"checkbox\"\r\n                          checked={guestarr.braceletavailable}\r\n                          value={guestarr.braceletavailable}\r\n                          id=\"braceletavailable\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    {/* <div className=\"row\" style={{\r\n                      display:\r\n                        isshowboatselection == true ? \"\" : \"none\",\r\n                    }}> */}\r\n                    <div className=\"row\" style={{\r\n                      display: \"none\"\r\n                    }}>\r\n                      <div className=\"col-lg-12 col-md-12 mb-4\">\r\n                        <label for=\"guests\">\r\n                          Do you want to add the guest for island hopping?\r\n                        </label>\r\n                        <CInput\r\n                          style={{ width: \"5%\", fontSize: \"0rem\" }}\r\n                          disabled={\r\n                            guestarr.isreturningguest == true\r\n                              ? !guestarr.isguestvaildated\r\n                              : false\r\n                          }\r\n                          onChange={handleChange}\r\n                          type=\"checkbox\"\r\n                          checked={guestarr.isLandHopping}\r\n                          value={guestarr.isLandHopping}\r\n                          id=\"isLandHopping\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"col-md-4 mb-4\">\r\n            <div className=\"card\">\r\n              <div className=\"card-body\">\r\n                <div>\r\n                  <span style={{ color: \"red\" }}>\r\n                    <sup>* Marked fields are mandatory</sup>\r\n                  </span>{\" \"}\r\n                </div>\r\n                <div>\r\n                  <span style={{ color: \"black\" }}>\r\n                    <sup>\r\n                      * Additional Charges will applied for island hopping\r\n                    </sup>\r\n                  </span>{\" \"}\r\n                </div>\r\n                <div>\r\n                  <span style={{ color: \"green\" }}>\r\n                    <sup>P=Purchase R=Rental A=Already have</sup>\r\n                  </span>{\" \"}\r\n                </div>\r\n                <div>\r\n                  <span style={{ color: \"green\" }}>\r\n                    <sup>RE=Return Guest N=New</sup>\r\n                  </span>{\" \"}\r\n                </div>\r\n                <h4 className=\"d-flex justify-content-between align-items-center mb-3\">\r\n                  <span className=\"text-muted\">Fee Calculation</span>\r\n                </h4>\r\n                <b>\r\n                  {\" \"}\r\n                  <sup style={{ fontSize: \"10px\" }} className=\"text-muted\">\r\n                    Traveling Date:{\" \"}\r\n                    {moment(\r\n                      selectedfromdate[0] == undefined\r\n                        ? selectedfromdate\r\n                        : selectedfromdate[0]\r\n                    ).format(\"YYYY-MM-DD\")}{\" \"}\r\n                    -{\" \"}\r\n                    {moment(\r\n                      selectedtodate[0] == undefined\r\n                        ? selectedtodate\r\n                        : selectedtodate[0]\r\n                    ).format(\"YYYY-MM-DD\")}{\" \"}\r\n                  </sup>\r\n                </b>\r\n                <br></br>{\" \"}\r\n                <b>\r\n                  {\" \"}\r\n                  <sup style={{ fontSize: \"10px\" }} className=\"text-muted\">\r\n                    Number Of Days:{numberofdaystravel}\r\n                  </sup>\r\n                </b>\r\n                {/* <span className=\"badge badge-secondary badge-pill\">3</span> */}\r\n                <ul className=\"list-group mb-3 z-depth-1\">\r\n                  {localtravelinfodata.fees &&\r\n                    localtravelinfodata.fees.map((feedata, index) => {\r\n                      var purchase = 0;\r\n                      var alreadyhave = 0;\r\n                      var rental = 0;\r\n                      var islandhoppingamt = 0;\r\n                      var etafretunrguest = 0;\r\n                      var etafnonretunrguest = 0;\r\n                      var feevals = [];\r\n                      var feevalsprice = 0;\r\n                      var packageid = localtravelinfodata.package.length > 0 ? localtravelinfodata.package[0].id : \"\";\r\n                      ;\r\n                      if (feesdata.data != undefined) {\r\n                        if (feesdata.data.length > 0) {\r\n                          feevals = feesdata.data.filter(\r\n                            (x) => parseInt(x.id) == feedata.id\r\n                          );\r\n                          if (feevals.length > 0) {\r\n                            feevalsprice = parseFloat(feevals[0].price);\r\n                          }\r\n                        }\r\n                      }\r\n                      if (localtravelinfodata.guestinfo.length > 0) {\r\n                        purchase = localtravelinfodata.guestinfo.filter(\r\n                          (x) =>\r\n                            x.isrentbracelet == false &&\r\n                            x.braceletavailable == false\r\n                        ).length;\r\n                        rental = localtravelinfodata.guestinfo.filter(\r\n                          (x) => x.isrentbracelet == true\r\n                        ).length;\r\n                        alreadyhave = localtravelinfodata.guestinfo.filter(\r\n                          (x) => x.braceletavailable == true\r\n                        ).length;\r\n                        islandhoppingamt = localtravelinfodata.guestinfo.filter(\r\n                          (x) => x.isLandHopping == true\r\n                        ).length;\r\n                        etafnonretunrguest =\r\n                          localtravelinfodata.guestinfo.filter(\r\n                            (x) => x.isguestvaildated == false\r\n                          ).length;\r\n                        etafretunrguest = localtravelinfodata.guestinfo.filter(\r\n                          (x) => x.isguestvaildated == true\r\n                        ).length;\r\n                      }\r\n\r\n                      if (feedata.id == 8) {\r\n                        return (\r\n                          <>\r\n                            <li className=\"list-group-item d-flex justify-content-between\">\r\n                              <strong>Total </strong>\r\n                              <strong>{feedata.amount.toFixed(2)}</strong>\r\n                            </li>\r\n                          </>\r\n                        );\r\n                      } else if (feedata.id == 1) {\r\n                        if (packageid == \"\" || packageid == \"1\") {\r\n                          return (\r\n                            <>\r\n                              <li className=\"list-group-item d-flex justify-content-between lh-condensed\">\r\n                                <div>\r\n                                  <h6 className=\"my-0\">{feedata.feefor}</h6>\r\n                                  <sup\r\n                                    style={{ fontSize: \"10px\" }}\r\n                                    className=\"text-muted\"\r\n                                  >\r\n                                    Environmental Tourism and Administrative Fee\r\n                                  </sup>\r\n                                  <br></br>\r\n                                  <small className=\"text-muted\">\r\n                                    RE:{etafretunrguest} X {0}\r\n                                  </small>\r\n                                  <br></br>\r\n                                  <small className=\"text-muted\">\r\n                                    N:{etafnonretunrguest} X {feedata.amount}\r\n                                  </small>\r\n                                </div>\r\n                                <span className=\"text-muted\">\r\n                                  {(etafnonretunrguest * feedata.amount).toFixed(\r\n                                    2\r\n                                  )}\r\n                                </span>\r\n                              </li>\r\n                            </>\r\n                          );\r\n                        } else {\r\n                          return (\r\n                            <>\r\n                              <li className=\"list-group-item d-flex justify-content-between lh-condensed\">\r\n                                <div>\r\n                                  <h6 className=\"my-0\">{feedata.feefor}</h6>\r\n                                  <sup\r\n                                    style={{ fontSize: \"10px\" }}\r\n                                    className=\"text-muted\"\r\n                                  >\r\n                                    Environmental Tourism and Administrative Fee\r\n                                  </sup>\r\n                                  <br></br>\r\n                                  <small className=\"text-muted\">\r\n                                    RE:{etafretunrguest} X {0}\r\n                                  </small>\r\n                                  <br></br>\r\n                                  <small className=\"text-muted\">\r\n                                    N:{etafnonretunrguest} X 80\r\n                                  </small>\r\n                                </div>\r\n                                <span className=\"text-muted\">\r\n                                  {(etafnonretunrguest * 80).toFixed(\r\n                                    2\r\n                                  )}\r\n                                </span>\r\n                              </li>\r\n                            </>\r\n                          );\r\n                        }\r\n                      } else if (feedata.id == 4) {\r\n                        return (\r\n                          <>\r\n                            <li className=\"list-group-item d-flex justify-content-between lh-condensed\">\r\n                              <div>\r\n                                <h6 className=\"my-0\">{feedata.feefor}</h6>\r\n\r\n                                <small className=\"text-muted\">\r\n                                  P : {purchase} X {feedata.amount}\r\n                                </small>\r\n                                <br></br>\r\n                                <small className=\"text-muted\">\r\n                                  R : {rental} X {feedata.rentprice}\r\n                                </small>\r\n                                <br></br>\r\n                                <small className=\"text-muted\">\r\n                                  A : {alreadyhave} X {0}\r\n                                </small>\r\n                                <br></br>\r\n                              </div>\r\n                              <span className=\"text-muted\">\r\n                                {(\r\n                                  purchase * feedata.amount +\r\n                                  rental * feedata.rentprice\r\n                                ).toFixed(2)}\r\n                              </span>\r\n                            </li>\r\n                          </>\r\n                        );\r\n                      } else if (feedata.id == 2) {\r\n                        if (packageid == \"\" || packageid == \"1\") {\r\n                          return (\r\n                            <>\r\n                              <li className=\"list-group-item d-flex justify-content-between lh-condensed\">\r\n                                <div>\r\n                                  <h6 className=\"my-0\">{feedata.feefor}</h6>\r\n                                  <sup\r\n                                    style={{ fontSize: \"10px\" }}\r\n                                    className=\"text-muted\"\r\n                                  >\r\n                                    (two way price)\r\n                                  </sup>\r\n                                  <br></br>\r\n                                </div>\r\n\r\n                                <span className=\"text-muted\">\r\n                                  {feedata.amount.toFixed(2)}\r\n                                </span>\r\n                              </li>\r\n                            </>\r\n                          );\r\n                        } else {\r\n                          return (\r\n                            <>\r\n                            </>\r\n                          );\r\n                        }\r\n\r\n                      } else if (feedata.id == 9) {\r\n                        if (packageid == \"\" || packageid == \"1\") {\r\n                          return (\r\n                            <>\r\n                              <li className=\"list-group-item d-flex justify-content-between lh-condensed\">\r\n                                <div>\r\n                                  <h6 className=\"my-0\">{feedata.feefor}</h6>\r\n                                </div>\r\n\r\n                                <span className=\"text-muted\">\r\n                                  {(islandhoppingamt * feevalsprice).toFixed(2)}\r\n                                </span>\r\n                              </li>\r\n                            </>\r\n                          );\r\n                        } else {\r\n                          return (\r\n                            <>\r\n\r\n                            </>\r\n                          );\r\n                        }\r\n\r\n                      } else if (feedata.id == 5) {\r\n                        if (packageid == \"\" || packageid == \"1\") {\r\n                          return (\r\n                            <>\r\n                              <li className=\"list-group-item d-flex justify-content-between lh-condensed\">\r\n                                <div>\r\n                                  <h6 className=\"my-0\">{feedata.feefor}</h6>\r\n                                </div>\r\n                                <span className=\"text-muted\">\r\n                                  {feedata.amount.toFixed(2)}\r\n                                </span>\r\n                              </li>\r\n                            </>);\r\n                        } else {\r\n                          return (\r\n                            <>\r\n\r\n                            </>\r\n                          );\r\n                        }\r\n\r\n                      }\r\n                      else {\r\n                        return (\r\n                          <>\r\n                            <li className=\"list-group-item d-flex justify-content-between lh-condensed\">\r\n                              <div>\r\n                                <h6 className=\"my-0\">{feedata.feefor}</h6>\r\n                              </div>\r\n                              <span className=\"text-muted\">\r\n                                {feedata.amount.toFixed(2)}\r\n                              </span>\r\n                            </li>\r\n                          </>\r\n                        );\r\n                      }\r\n                    })}\r\n                </ul>\r\n                {/* <!-- Cart --> */}\r\n              </div>\r\n            </div>\r\n            {/* <!-- Heading --> */}\r\n          </div>\r\n        </CRow>\r\n        <div className=\"row\">\r\n          <div className=\"col-md-6 mb-6\">\r\n            {(() => {\r\n              const rows = [];\r\n              if (isvehicle && localtravelinfodata.isguest == false) {\r\n                rows.push(\r\n                  <>\r\n                    <CButton\r\n                      block\r\n                      onClick={() => backtomainaction()}\r\n                      variant=\"\"\r\n                      color=\"primary\"\r\n                      style={{ backgroundColor: \"white\", color: \"#007bff\" }}\r\n                    >\r\n                      Back{\" \"}\r\n                    </CButton>\r\n                  </>\r\n                );\r\n              } else {\r\n                rows.push(\r\n                  <>\r\n                    <CButton\r\n                      block\r\n                      onClick={() => backaction()}\r\n                      variant=\"\"\r\n                      color=\"primary\"\r\n                      style={{\r\n                        display:\r\n                          localtravelinfodata.isguest == false ? \"none\" : \"\",\r\n                        backgroundColor: \"white\",\r\n                        color: \"#007bff\",\r\n                      }}\r\n                    >\r\n                      Back{\" \"}\r\n                    </CButton>\r\n                  </>\r\n                );\r\n              }\r\n              return rows;\r\n            })()}\r\n          </div>\r\n          <div className=\"col-md-6 mb-6\">\r\n            {(() => {\r\n              const rows = [];\r\n              if (isvehicle) {\r\n                rows.push(\r\n                  <>\r\n                    <CButton\r\n                      block\r\n                      onClick={() => setaction()}\r\n                      style={{ backgroundColor: \"white\", color: \"#007bff\" }}\r\n                      variant=\"\"\r\n                      color=\"primary\"\r\n                    >\r\n                      {localtravelinfodata.isguest == true\r\n                        ? `Proceed to Pay`\r\n                        : `Next`}{\" \"}\r\n                    </CButton>\r\n                  </>\r\n                );\r\n              } else {\r\n                rows.push(\r\n                  <>\r\n                    <CButton\r\n                      block\r\n                      onClick={() => nextotguest()}\r\n                      style={{ backgroundColor: \"white\", color: \"#007bff\" }}\r\n                      variant=\"\"\r\n                      color=\"primary\"\r\n                    >\r\n                      {localtravelinfodata.isguest == true\r\n                        ? `Proceed to Pay`\r\n                        : `Next`}{\" \"}\r\n                    </CButton>\r\n                  </>\r\n                );\r\n              }\r\n              return rows;\r\n            })()}\r\n          </div>\r\n        </div>\r\n      </CCardBody>\r\n\r\n      <CModal\r\n        show={isconfirmbooking}\r\n        onClose={() => setIsConfirmBooking(!isconfirmbooking)}\r\n        size=\"lg\"\r\n      >\r\n        <CModalHeader closeButton>\r\n          <CModalTitle>\r\n            Booking <small className=\"text-muted\"> Detail</small>{\" \"}\r\n          </CModalTitle>\r\n        </CModalHeader>\r\n        <CModalBody>\r\n          <CCol md=\"12\">\r\n            <CForm>\r\n              <CRow>\r\n                <CCol xs=\"3\">\r\n                  <CLabel>From Date</CLabel>\r\n                  <br></br>\r\n                  <CLabel>\r\n                    <b>{bookingdetail.fromdate}</b>\r\n                  </CLabel>\r\n                </CCol>\r\n                <CCol xs=\"3\">\r\n                  <CLabel>To Date</CLabel>\r\n                  <br></br>\r\n                  <CLabel>\r\n                    <b>{bookingdetail.todate}</b>\r\n                  </CLabel>\r\n                </CCol>\r\n                <CCol xs=\"3\">\r\n                  <CLabel>Time</CLabel>\r\n                  <br></br>\r\n                  <CLabel>\r\n                    <b>{bookingdetail.timeslot}</b>\r\n                  </CLabel>\r\n                </CCol>\r\n                <CCol xs=\"3\" hidden={!isshowboatselection}>\r\n                  <CLabel>Boat Capacity</CLabel>\r\n                  <br></br>\r\n                  <CLabel>\r\n                    <b>{bookingdetail.boatcapcity}</b>\r\n                  </CLabel>\r\n                </CCol>\r\n                {/* </CRow>\r\n              \r\n              <CRow> */}\r\n                <CCol xs=\"3\">\r\n                  <CLabel>Package</CLabel>\r\n                  <br></br>\r\n                  <CLabel>\r\n                    <b>{bookingdetail.package}</b>\r\n                  </CLabel>\r\n                </CCol>\r\n                <CCol xs=\"3\" hidden={!isshowboatselection}>\r\n                  <CLabel>Boat Provided by Resort</CLabel>\r\n                  <br></br>\r\n                  <CLabel>\r\n                    <b>\r\n                      {bookingdetail.isboatproviderbyresort == true\r\n                        ? \"Yes\"\r\n                        : \"No\"}\r\n                    </b>\r\n                  </CLabel>\r\n                </CCol>\r\n                <CCol xs=\"3\">\r\n                  <CLabel>Accommodation</CLabel>\r\n                  <br></br>\r\n                  <CLabel>\r\n                    <b>{bookingdetail.hotel}</b>\r\n                  </CLabel>\r\n                </CCol>\r\n                <CCol xs=\"3\" hidden={!isshowboatselection}>\r\n                  <CLabel>Vehicle Parking</CLabel>\r\n                  <br></br>\r\n                  <CLabel>\r\n                    <b>{bookingdetail.vehicle}</b>\r\n                  </CLabel>\r\n                </CCol>\r\n                {/* </CRow>\r\n              <br></br>\r\n              <CRow> */}\r\n                <CCol xs=\"3\">\r\n                  <CLabel>Number Of Guest</CLabel>\r\n                  <br></br>\r\n                  <CLabel>\r\n                    <b>{bookingdetail.numberoofguest}</b>\r\n                  </CLabel>\r\n                </CCol>\r\n                <CCol xs=\"3\">\r\n                  <CLabel>IslandHopping</CLabel>\r\n                  <br></br>\r\n                  <CLabel>\r\n                    <b>PHP {parseFloat(bookingdetail.islandhoppingamt).toFixed(2)}</b>\r\n                  </CLabel>\r\n                </CCol>\r\n                {/* <CCol xs=\"3\" >\r\n                        <CLabel >ETAF</CLabel><br></br>\r\n                        <CLabel ><b>{bookingdetail.ETAF * bookingdetail.numberoofguest}</b></CLabel>\r\n                      </CCol>\r\n                      <CCol xs=\"3\" >\r\n                        <CLabel >Bracelet</CLabel><br></br>\r\n                        <CLabel ><b>{bookingdetail.Bracelet * bookingdetail.numberoofguest}</b></CLabel>\r\n                      \r\n                      </CCol> */}\r\n                <CCol xs=\"3\">\r\n                  <CLabel>Total</CLabel>\r\n                  <br></br>\r\n                  <CLabel>\r\n                    <b>\r\n                      PHP {parseFloat(bookingdetail.totalcharge).toFixed(2)}\r\n                    </b>\r\n                  </CLabel>\r\n                </CCol>\r\n              </CRow>\r\n            </CForm>\r\n          </CCol>\r\n        </CModalBody>\r\n        <CModalFooter>\r\n          <CImg\r\n            src={processing}\r\n            height=\"50\"\r\n            width=\"50\"\r\n            style={{ display: isprocessing == true ? \"\" : \"none\" }}\r\n            alt=\"qrcode\"\r\n          />\r\n          <CButton\r\n            color=\"primary \"\r\n            style={{\r\n              float: \"right\",\r\n              display: isprocessing == true ? \"none\" : \"\",\r\n            }}\r\n            onClick={() => Savedata()}\r\n          >\r\n            Proceed to Pay\r\n          </CButton>\r\n          {/* <CButton color=\"secondary\" onClose={() => setIsConfirmBooking(!isconfirmbooking)} >Make Changes</CButton> */}\r\n          <CButton\r\n            color=\"primary \"\r\n            style={{ float: \"right\" }}\r\n            onClick={() => setIsConfirmBooking(!isconfirmbooking)}\r\n          >\r\n            Make Changes\r\n          </CButton>\r\n        </CModalFooter>\r\n      </CModal>\r\n      <CModal\r\n        show={isopenbulkupload}\r\n        onClose={() => setIsOpenBulkUpload(!isopenbulkupload)}\r\n        size=\"lgx\"\r\n      >\r\n        <CModalHeader>\r\n          <h4>Bulk Upload</h4>\r\n          <br></br>\r\n        </CModalHeader>\r\n        <CModalBody>\r\n          <CCol md=\"12\">\r\n            <span>\r\n              Please download the excel template from below and fill out the\r\n              guest detail and upload it.\r\n            </span>\r\n            <br></br>\r\n            <span style={{ color: \"red\" }}>\r\n              (Required fields FirstName,LastName,Gender,Address,Mobile\r\n              Number,EmailID)\r\n            </span>\r\n          </CCol>\r\n          <br></br>\r\n          <CCol md=\"12\">\r\n            <a href={common.guesttemplate} download>\r\n              Download Guest Template{\" \"}\r\n            </a>\r\n          </CCol>\r\n          <br></br>\r\n          <CCol md=\"12\">\r\n            <CForm>\r\n              <CRow>\r\n                <CCol xs=\"8\">\r\n                  <CLabel>Filename</CLabel>\r\n                  <br></br>\r\n                  <input\r\n                    type=\"file\"\r\n                    onChange={handlebulkUpload}\r\n                    style={{ color: \"transparent\" }}\r\n                    name=\"ImportExcel\"\r\n                    title=\"Select File\"\r\n                    id=\"importData\"\r\n                    accept=\".xls,.xlsx\"\r\n                  ></input>\r\n                  {(() => {\r\n                    const rows = [];\r\n\r\n                    if (bulkuploadfilename != undefined) {\r\n                      rows.push(\r\n                        <>\r\n                          <CCol xs=\"12\" style={{ color: \"green\" }}>\r\n                            {bulkuploadfilename.name}\r\n                          </CCol>\r\n                        </>\r\n                      );\r\n\r\n                      return rows;\r\n                    }\r\n                  })()}\r\n                </CCol>\r\n                <CCol xs=\"4\">\r\n                  <div\r\n                    className=\"row\"\r\n                    hidden={bulkuploaddata.length > 0 ? false : true}\r\n                  >\r\n                    <div className=\"col-lg-6\">\r\n                      {\" \"}\r\n                      <CButton\r\n                        block\r\n                        onClick={() => savebulkupload()}\r\n                        color=\"primary\"\r\n                      >\r\n                        Save{\" \"}\r\n                      </CButton>\r\n                    </div>\r\n                    <div className=\"col-lg-6\">\r\n                      {\" \"}\r\n                      <CButton\r\n                        block\r\n                        onClick={() => cancelbulkupload()}\r\n                        color=\"primary\"\r\n                      >\r\n                        Cancel{\" \"}\r\n                      </CButton>\r\n                    </div>\r\n                  </div>\r\n                </CCol>\r\n              </CRow>\r\n            </CForm>\r\n          </CCol>\r\n          <br></br>\r\n          <CCol md=\"12\">\r\n            <div className=\"table-responsive\">\r\n              <table className=\"table\">\r\n                <thead>\r\n                  <tr>\r\n                    <th></th>\r\n                    <th>First Name</th>\r\n                    <th>Last Name</th>\r\n                    <th>\r\n                      <span style={{ color: \"transparent\" }}>\r\n                        aaaaaaaaaaaaa\r\n                      </span>\r\n                      <br></br>Date Of Birth\r\n                    </th>\r\n                    <th>Gender</th>\r\n                    <th>Address</th>\r\n                    <th>Mobile Number</th>\r\n                    <th>EmailID</th>\r\n                    <th>Rent Bracelet</th>\r\n                    <th>Island Hopping</th>\r\n                    <th>Citizen</th>\r\n                    <th>Country</th>\r\n                    <th>Province</th>\r\n                    <th>Municipality</th>\r\n                    <th>Maubanin</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {(() => {\r\n                    const rows = [];\r\n\r\n                    if (bulkuploadfilename != undefined) {\r\n                      for (let i = 0; i < bulkuploaddata.length; i++) {\r\n                        var _uploadedfile = bulkuploaddata[i];\r\n\r\n                        rows.push(\r\n                          <>\r\n                            <tr>\r\n                              <td>\r\n                                {\" \"}\r\n                                {_uploadedfile.isvalidmunicipality == true ? (\r\n                                  <CIcon\r\n                                    name=\"cil-thumb-up\"\r\n                                    style={{ color: \"green \" }}\r\n                                  />\r\n                                ) : (\r\n                                  <CIcon\r\n                                    name=\"cil-thumb-down\"\r\n                                    style={{ color: \"red\" }}\r\n                                  />\r\n                                )}{\" \"}\r\n                              </td>\r\n                              <td>{_uploadedfile.FirstName}</td>\r\n                              <td>{_uploadedfile.LastName}</td>\r\n                              <td>{_uploadedfile.DateOfBirth}</td>\r\n                              <td>\r\n                                {_uploadedfile.Gender == 0\r\n                                  ? \"Male\"\r\n                                  : _uploadedfile.Gender == 1\r\n                                    ? \"Femal\"\r\n                                    : \"Other\"}\r\n                              </td>\r\n                              <td>{_uploadedfile.Address}</td>\r\n                              <td>{_uploadedfile.MobileNumber}</td>\r\n                              <td>{_uploadedfile.EmailID}</td>\r\n                              <td>\r\n                                {_uploadedfile.RentBracelet == true\r\n                                  ? \"Yes\"\r\n                                  : \"No\"}\r\n                              </td>\r\n                              <td>\r\n                                {_uploadedfile.IslandHopping == true\r\n                                  ? \"Yes\"\r\n                                  : \"No\"}\r\n                              </td>\r\n                              <td>{_uploadedfile.Citizendesc}</td>\r\n                              <td>{_uploadedfile.Countrydesc}</td>\r\n                              <td>{_uploadedfile.Provincedesc}</td>\r\n                              <td\r\n                                style={{\r\n                                  color:\r\n                                    _uploadedfile.isvalidmunicipality == true\r\n                                      ? \"\"\r\n                                      : \"red\",\r\n                                }}\r\n                              >\r\n                                {_uploadedfile.Municipalitydesc}\r\n                              </td>\r\n                              <td>\r\n                                {_uploadedfile.Maubanin == true ? \"Yes\" : \"No\"}\r\n                              </td>\r\n                            </tr>\r\n                          </>\r\n                        );\r\n                      }\r\n\r\n                      return rows;\r\n                    }\r\n                  })()}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </CCol>\r\n        </CModalBody>\r\n      </CModal>\r\n      <CModal\r\n        show={isconfirmchange}\r\n        onClose={() => setIsConfirmChange(!isconfirmchange)}\r\n        size=\"sm\"\r\n      >\r\n        <CModalHeader>Confirmation!</CModalHeader>\r\n        <CModalBody>\r\n          Are you sure you want to change number of guest?<br></br>\r\n          (this will remove your bulk upload guest detail)\r\n        </CModalBody>\r\n        <CModalFooter>\r\n          <CButton\r\n            color=\"primary \"\r\n            style={{\r\n              float: \"right\",\r\n              display: isprocessing == true ? \"none\" : \"\",\r\n            }}\r\n            onClick={() => Changenumberofguest()}\r\n          >\r\n            Change\r\n          </CButton>\r\n          {/* <CButton color=\"secondary\" onClose={() => setIsConfirmBooking(!isconfirmbooking)} >Make Changes</CButton> */}\r\n          <CButton\r\n            color=\"primary \"\r\n            style={{ float: \"right\" }}\r\n            onClick={() => setIsConfirmChange(!isconfirmchange)}\r\n          >\r\n            Cancel\r\n          </CButton>\r\n        </CModalFooter>\r\n      </CModal>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default TravelInfo;\r\n"]},"metadata":{},"sourceType":"module"}