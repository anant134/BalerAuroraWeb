(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[43],{1061:function(e,t,r){"use strict";r.r(t);var a=r(665),s=r(165),c=r(20),i=r(653),n=r(1),o=r(22),l=r(648),u=r(660),d=r.n(u),b=r(661),m=r.n(b),j=r(662),p=(r(793),r(649)),h=r(654),O=r(164),f=r(4),g=function(e,t,r){switch(e){case 1:O.b.success(t,{position:O.b.POSITION.TOP_CENTER});break;case 2:var a;a=void 0!==r?Object(f.jsxs)("div",{children:["Please contact to administrator!",Object(f.jsx)("br",{}),t]}):Object(f.jsx)("div",{children:t}),O.b.error(Object(f.jsxs)("div",{children:[Object(f.jsx)(p.a,{name:"cil-warning"})," Error",a]}),{position:O.b.POSITION.TOP_CENTER})}};t.default=function(){var e=[{name:"User Name",selector:"username",sortable:!0},{name:"Email ID",selector:"email",sortable:!0},{name:"Role Name",selector:"rolename",sortable:!0},{name:"Status",selector:"isactive",sortable:!0,cell:function(e){return Object(f.jsx)(l.b,{color:"1"==e.isactive?"success":"danger",children:"1"==e.isactive?"Active":"In Active"})}},{name:"Action",selector:"action",ignoreRowClick:!0,cell:function(e){return Object(f.jsx)(p.a,{name:"cil-pencil",onClick:function(t){return Q(e,t)},className:"mfe-2 custcusrsor"})}}],t=[],r=""==localStorage.getItem("userinfo")?"":JSON.parse(localStorage.getItem("userinfo")),u=(Object(o.g)(),Object(o.h)().search.match(/page=([0-9]+)/,"")),b=Number(u&&u[1]?u[1]:1),O=Object(n.useState)(b),v=Object(i.a)(O,2),x=(v[0],v[1],Object(n.useState)(!1)),y=Object(i.a)(x,2),k=y[0],w=y[1],S=Object(n.useState)(!1),A=Object(i.a)(S,2),P=A[0],N=(A[1],Object(n.useState)({columns:e,data:t})),C=Object(i.a)(N,2),I=C[0],E=C[1],M=Object(n.useState)([]),T=Object(i.a)(M,2),D=T[0],R=T[1],J=Object(n.useState)([]),z=Object(i.a)(J,2),B=z[0],F=z[1],U=Object(n.useState)({email:"",username:"",password:"",id:"",isactive:!0}),G=Object(i.a)(U,2),H=G[0],K=G[1],Q=function(e,t){console.log(e),K((function(t){return Object(c.a)(Object(c.a)({},t),{},{email:e.email,username:e.username,password:"******",id:e.id,isactive:e.isactive})})),F(parseInt(e.roleid)),w(!k)},V=function(e){var t=e.target,r=t.id,a=t.value;"checkbox"===e.target.type?K(Object(c.a)(Object(c.a)({},H),{},Object(s.a)({},r,1==e.target.checked&&e.target.checked))):K(Object(c.a)(Object(c.a)({},H),{},Object(s.a)({},r,a)))},W=function(){var e=new RegExp(/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i);0==H.email.length?g(2,"Please enter email id !"):e.test(H.email)?0==H.password.length?g(2,"Please enter password !"):0==H.username.length?g(2,"Please enter username !"):0==B?g(2,"Please select role !"):Object(h.a)("user",{requestfor:"user",data:{flag:""==H.id?"i":"u",username:H.username,password:H.password,email:H.email,loggedinid:r.id,roleid:B,isactive:H.isactive,id:H.id}}).then((function(e){if(1==e.resultkey)if(""!=H.id)!function(e){var t=D.filter((function(e){return e.value==B})),r=I.data.map((function(r){return r.id===e?Object(c.a)(Object(c.a)({},r),{},{username:H.username,isactive:H.isactive,email:H.email,roleid:B,rolename:t.length>0?t[0].label:""}):r}));E(Object(c.a)(Object(c.a)({},I),{},Object(s.a)({},"data",r))),L(),w(!k),g(1,"Data save successfully.")}(H.id);else{var t=e.resultvalue,r=D.filter((function(e){return e.value==B})),i={id:t.rowid,username:H.username,isactive:"1",email:H.email,roleid:B,rolename:r.length>0?r[0].label:""};E(Object(c.a)(Object(c.a)({},I),{},Object(s.a)({},"data",[].concat(Object(a.a)(I.data),[i])))),L(),g(1,"Data save successfully.")}})).catch((function(e){})):g(2,"Invaild email id !")};Object(n.useEffect)((function(){_(),q(),L()}),[]);var _=function(){Object(h.a)("user",{requestfor:"getuser",data:{flag:"a"}}).then((function(e){if(1==e.resultkey){var t=e.resultvalue;E(Object(c.a)(Object(c.a)({},I),{},Object(s.a)({},"data",t)))}})).catch((function(e){g(2,e.toString(),1)}))},q=function(){Object(h.a)("role",{requestfor:"getrole",data:{flag:"actv"}}).then((function(e){if(1==e.resultkey){var t=e.resultvalue;if(t.length>0){for(var r=[{value:0,label:"Select Role"}],a=0;a<t.length;a++){var s=t[a];s.isactive&&r.push({value:parseInt(s.id),label:s.rolename})}R(r),console.log(r)}}})).catch((function(e){g(2,e.toString(),1)}))},L=function(){F(0),K((function(e){return Object(c.a)(Object(c.a)({},e),{},{email:"",username:"",password:"",id:"",isactive:!0})}))};return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(l.ub,{children:Object(f.jsx)(l.u,{xl:12,children:Object(f.jsxs)(l.j,{children:[Object(f.jsx)(l.n,{children:Object(f.jsxs)(l.ub,{children:[Object(f.jsxs)(l.u,{xl:6,children:["Users",Object(f.jsx)("small",{className:"text-muted",children:" Master"})]}),Object(f.jsx)(l.u,{xl:6,style:{textAlign:"end"},children:Object(f.jsx)(l.f,{onClick:function(){return L(),void w(!k)},className:"mr-1",color:"primary",children:"Add New"})})]})}),Object(f.jsxs)(l.k,{children:[Object(f.jsxs)(l.eb,{show:k,onClose:function(){return w(!k)},size:"lg",children:[Object(f.jsx)(l.hb,{closeButton:!0,children:Object(f.jsx)(l.ib,{children:"User "})}),Object(f.jsx)(l.fb,{children:Object(f.jsx)(l.u,{md:"12",children:Object(f.jsxs)(l.J,{children:[Object(f.jsxs)(l.ub,{children:[Object(f.jsx)(l.u,{xs:"6",className:"text-right",children:Object(f.jsxs)(l.T,{className:"mb-3",children:[Object(f.jsx)(l.V,{children:Object(f.jsxs)(l.W,{children:[Object(f.jsx)(p.a,{name:"cil-envelope-letter",style:{color:"red"}}),Object(f.jsx)("sup",{style:{color:"red"},children:"*"})]})}),Object(f.jsx)(l.Q,{onChange:V,type:"text",value:H.email,id:"email",placeholder:"Enter Email ID"})]})}),Object(f.jsx)(l.u,{xs:"6",children:Object(f.jsxs)(l.T,{className:"mb-4",children:[Object(f.jsx)(l.V,{children:Object(f.jsxs)(l.W,{children:[Object(f.jsx)(p.a,{name:"cil-lock-locked",style:{color:"red"}}),Object(f.jsx)("sup",{style:{color:"red"},children:"*"})]})}),Object(f.jsx)(l.Q,{onChange:V,id:"password",value:H.password,type:"password",placeholder:"Enter Password"})]})})]}),Object(f.jsxs)(l.ub,{children:[Object(f.jsx)(l.u,{xs:"6",children:Object(f.jsxs)(l.T,{className:"mb-4",children:[Object(f.jsx)(l.V,{children:Object(f.jsxs)(l.W,{children:[Object(f.jsx)(p.a,{name:"cil-user",style:{color:"red"}}),Object(f.jsx)("sup",{style:{color:"red"},children:"*"})]})}),Object(f.jsx)(l.Q,{onChange:V,id:"username",value:H.username,type:"text",placeholder:"Enter UserName"})]})}),Object(f.jsx)(l.u,{xs:"6",children:Object(f.jsx)(l.K,{row:!0,children:Object(f.jsx)(l.u,{xs:"12",children:Object(f.jsx)(j.a,{className:"dropdown",placeholder:"Select Role",value:D.find((function(e){return e.value===B})),options:D,onChange:function(e){F(e.value)}})})})})]}),Object(f.jsx)(l.ub,{children:Object(f.jsx)(l.u,{xs:"6",children:Object(f.jsx)(l.K,{row:!0,children:Object(f.jsx)(l.u,{md:"9",style:{display:""==H.id?"none":""},children:Object(f.jsxs)(l.K,{variant:"custom-checkbox",inline:!0,children:[Object(f.jsx)(l.R,{custom:!0,id:"isactive",name:"inline-checkbox2",value:0!=H.isactive,checked:0!=H.isactive,onChange:V}),Object(f.jsx)(l.ab,{variant:"custom-checkbox",htmlFor:"isactive",children:"Active"})]})})})})})]})})}),Object(f.jsxs)(l.gb,{children:[Object(f.jsx)(l.f,{color:"primary",disabled:P,onClick:function(){return W()},children:"Save"})," ",Object(f.jsx)(l.f,{color:"secondary",onClick:function(){return w(!k)},children:"Cancel"})]})]}),Object(f.jsx)(m.a,Object(c.a)(Object(c.a)({},I),{},{children:Object(f.jsx)(d.a,{noHeader:!0,defaultSortField:"id",defaultSortAsc:!1,pagination:!0,highlightOnHover:!0})}))]})]})})})})}},654:function(e,t,r){"use strict";var a=r(676),s=r.n(a),c=r(677),i=(r(659),function(){var e=Object(c.a)(s.a.mark((function e(t,r){var a,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)},i="https://maubantourism.smartpay.ph/tourbookingphp/"+t+".php",e.next=4,fetch(i,a).then(function(){var e=Object(c.a)(s.a.mark((function e(t){var r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(r=e.sent,t.ok){e.next=8;break}return a=r&&r.message||t.status,e.abrupt("return",Promise.reject(a));case 8:return e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return Promise.reject(e)}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}());t.a=i},659:function(e,t,r){"use strict";var a,s;r(682);a="https://maubantourism.smartpay.ph",s="dev"==r(663).mode?{fileuploadurl:"/tourbookingphp/upload.php",guesttemplate:a+"/tourbookingphp/guesttemplate.xlsx",baseurl:a+"/tourbookingphp/"}:{fileuploadurl:"/tourbookingphp/upload.php",guesttemplate:"/tourbookingphp/guesttemplate.xlsx",baseurl:"/tourbookingphp/"},t.a=s},663:function(e){e.exports=JSON.parse('{"name":"@coreui/coreui-free-react-admin-template","version":"3.1.1","description":"Mauban","mode":"pro","author":{"name":"Mauban","url":"https://coreui.io","github":"https://github.com/coreui","twitter":"https://twitter.com/core_ui"},"contributors":[{"name":"CoreUI Team","url":"https://github.com/orgs/coreui/people"}],"homepage":".","copyright":"Copyright 2017-2020 creativeLabs \u0141ukasz Holeczek","license":"MIT","private":true,"repository":{"type":"git","url":"git@github.com:coreui/coreui-free-react-admin-template.git"},"dependencies":{"@coreui/chartjs":"^2.0.0","@coreui/coreui":"^3.4.0","@coreui/icons":"^2.0.0-rc.0","@coreui/icons-react":"^1.0.2","@coreui/react":"^3.3.4","@coreui/react-chartjs":"^1.0.1","@coreui/utils":"^1.3.1","@tinymce/tinymce-react":"^3.12.0","bootstrap":"^4.5.3","classnames":"^2.2.6","core-js":"^3.8.0","env-cmd":"^10.1.0","enzyme":"^3.11.0","enzyme-adapter-react-16":"^1.15.5","moment":"^2.29.1","node-sass":"^4.14.1","prop-types":"^15.7.2","react":"^16.14.0","react-app-polyfill":"^2.0.0","react-bootstrap":"^1.4.3","react-csv":"^2.0.3","react-data-table-component":"^6.11.6","react-data-table-component-extensions":"^1.5.0","react-date-picker":"^8.0.5","react-datepicker":"^3.6.0","react-dom":"^16.14.0","react-redux":"^7.2.2","react-router-dom":"^5.2.0","react-select":"^3.1.1","react-select-checked":"^0.1.12","react-time-picker":"^4.1.1","react-toastify":"^6.1.0","react-uuid":"^1.0.2","read-package-json":"^3.0.1","redux":"4.0.5","styled-components":"^5.2.1","xlsx":"^0.17.0"},"devDependencies":{"auto-changelog":"~2.2.1","react-scripts":"~4.0.1"},"scripts":{"start":"react-scripts start","build":"react-scripts build","test":"react-scripts test","test:cov":"npm test -- --coverage --watchAll=false","test:debug":"react-scripts --inspect-brk test --runInBand","eject":"react-scripts eject","changelog":"auto-changelog --starting-version 3.0.0 --commit-limit false --hide-credit"},"bugs":{"url":"https://github.com/coreui/coreui-free-react-admin-template/issues"},"eslintConfig":{"extends":"react-app"},"browserslist":[">0.2%","not dead","not ie <= 10","not op_mini all"],"jest":{"collectCoverageFrom":["src/**/*.{js,jsx}","!**/*index.js","!src/serviceWorker.js","!src/polyfill.js"]},"engines":{"node":">=10","npm":">=6"}}')},665:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var a=r(672);var s=r(671);function c(e){return function(e){if(Array.isArray(e))return Object(a.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(s.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},793:function(e,t,r){"use strict";t.a=[{id:0,name:"John Doe",registered:"2018/01/01",role:"Guest",status:"Pending"},{id:1,name:"Samppa Nori",registered:"2018/01/01",role:"Member",status:"Active"},{id:2,name:"Estavan Lykos",registered:"2018/02/01",role:"Staff",status:"Banned"},{id:3,name:"Chetan Mohamed",registered:"2018/02/01",role:"Admin",status:"Inactive"},{id:4,name:"Derick Maximinus",registered:"2018/03/01",role:"Member",status:"Pending"},{id:5,name:"Friderik D\xe1vid",registered:"2018/01/21",role:"Staff",status:"Active"},{id:6,name:"Yiorgos Avraamu",registered:"2018/01/01",role:"Member",status:"Active"},{id:7,name:"Avram Tarasios",registered:"2018/02/01",role:"Staff",status:"Banned"},{id:8,name:"Quintin Ed",registered:"2018/02/01",role:"Admin",status:"Inactive"},{id:9,name:"En\xe9as Kwadwo",registered:"2018/03/01",role:"Member",status:"Pending"},{id:10,name:"Agapetus Tade\xe1\u0161",registered:"2018/01/21",role:"Staff",status:"Active"},{id:11,name:"Carwyn Fachtna",registered:"2018/01/01",role:"Member",status:"Active"},{id:12,name:"Nehemiah Tatius",registered:"2018/02/01",role:"Staff",status:"Banned"},{id:13,name:"Ebbe Gemariah",registered:"2018/02/01",role:"Admin",status:"Inactive"},{id:14,name:"Eustorgios Amulius",registered:"2018/03/01",role:"Member",status:"Pending"},{id:15,name:"Leopold G\xe1sp\xe1r",registered:"2018/01/21",role:"Staff",status:"Active"},{id:16,name:"Pompeius Ren\xe9",registered:"2018/01/01",role:"Member",status:"Active"},{id:17,name:"Pa\u0109jo Jadon",registered:"2018/02/01",role:"Staff",status:"Banned"},{id:18,name:"Micheal Mercurius",registered:"2018/02/01",role:"Admin",status:"Inactive"},{id:19,name:"Ganesha Dubhghall",registered:"2018/03/01",role:"Member",status:"Pending"},{id:20,name:"Hiroto \u0160imun",registered:"2018/01/21",role:"Staff",status:"Active"},{id:21,name:"Vishnu Serghei",registered:"2018/01/01",role:"Member",status:"Active"},{id:22,name:"Zbyn\u011bk Phoibos",registered:"2018/02/01",role:"Staff",status:"Banned"},{id:23,name:"Aulus Agmundr",registered:"2018/01/01",role:"Member",status:"Pending"},{id:42,name:"Ford Prefect",registered:"2001/05/25",role:"Alien",status:"Don't panic!"}]}}]);
//# sourceMappingURL=43.59653987.chunk.js.map