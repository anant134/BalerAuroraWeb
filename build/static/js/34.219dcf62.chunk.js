(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[34],{1077:function(e,t,c){"use strict";c.r(t);var r=c(665),a=c(165),n=c(20),i=c(653),s=c(1),o=c(22),l=c(648),u=c(660),p=c.n(u),b=c(661),j=c.n(b),d=c(649),h=c(654),m=c(164),O=c(658),x=c(4),f=function(e,t,c){switch(e){case 1:m.b.success(t,{position:m.b.POSITION.TOP_CENTER});break;case 2:var r;r=void 0!==c?Object(x.jsxs)("div",{children:["Please contact to administrator!",Object(x.jsx)("br",{}),t]}):Object(x.jsx)("div",{children:t}),m.b.error(Object(x.jsxs)("div",{children:[Object(x.jsx)(d.a,{name:"cil-warning"})," Error",r]}),{position:m.b.POSITION.TOP_CENTER})}};t.default=function(){var e=[{name:"Owner Name",selector:"ownername",sortable:!0},{name:"Description",selector:"description",sortable:!0},{name:"Capacity",selector:"capacity",sortable:!0},{name:"One-way Amt",selector:"price",sortable:!0},{name:"Two-way Amt",selector:"twowayprice",sortable:!0},{name:"Status",selector:"isactive",sortable:!0,cell:function(e){return Object(x.jsx)(l.b,{color:"1"==e.isactive?"success":"danger",children:"1"==e.isactive?"Active":"In Active"})}},{name:"Action",selector:"action",ignoreRowClick:!0,cell:function(e){return Object(x.jsx)(d.a,{name:"cil-pencil",onClick:function(t){return J(e,t)},className:"mfe-2 custcusrsor"})}}],t=[],c=""==localStorage.getItem("userinfo")?"":JSON.parse(localStorage.getItem("userinfo")),u=(Object(o.g)(),Object(o.h)().search.match(/page=([0-9]+)/,"")),b=Number(u&&u[1]?u[1]:1),m=Object(s.useState)(b),g=Object(i.a)(m,2),y=(g[0],g[1],Object(s.useState)(!1)),w=Object(i.a)(y,2),v=w[0],k=w[1],S=Object(s.useState)(!1),C=Object(i.a)(S,2),N=C[0],T=(C[1],Object(s.useState)({columns:e,data:t})),A=Object(i.a)(T,2),E=A[0],I=A[1],P=Object(s.useState)({description:"",id:"",isactive:!0,capacity:0,price:0,twowayprice:0,ownername:""}),z=Object(i.a)(P,2),F=z[0],B=z[1],J=function(e,t){console.log(e),B((function(t){return Object(n.a)(Object(n.a)({},t),{},{description:e.description,id:e.id,isactive:e.isactive,capacity:e.capacity,price:e.price,twowayprice:e.twowayprice,ownername:e.ownername})})),k(!v)},R=function(e){var t=e.target,c=t.id,r=t.value;"checkbox"===e.target.type?B(Object(n.a)(Object(n.a)({},F),{},Object(a.a)({},c,1==e.target.checked&&e.target.checked))):B(Object(n.a)(Object(n.a)({},F),{},Object(a.a)({},c,r)))},W=function(e){var t=e.target,c=t.id,r=t.value;"checkbox"===e.target.type?B(Object(n.a)(Object(n.a)({},F),{},Object(a.a)({},c,1==e.target.checked&&e.target.checked))):B(Object(n.a)(Object(n.a)({},F),{},Object(a.a)({},c,r.toUpperCase())))},V=function(){new RegExp(/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i);if(0==F.description.length)f(2,"Please enter description !");else if(0==F.price.length||0==F.price)f(2,"Please enter one way amount !");else if(0==F.twowayprice.length||0==F.twowayprice)f(2,"Please enter two way amount !");else if(0==F.ownername.length)f(2,"Please enter owner name !");else{var e={flag:""==F.id?"i":"u",description:F.description,capacity:F.capacity,price:F.price,ownername:F.ownername,twowayprice:F.twowayprice,loggedinid:c.id,isactive:F.isactive,id:F.id};Object(h.a)("boat",{requestfor:"boat",data:e}).then((function(e){if(1==e.resultkey)if(""!=F.id)!function(e){var t=E.data.map((function(t){return t.id===e?Object(n.a)(Object(n.a)({},t),{},{description:F.description,isactive:1==F.isactive?"1":"0",capacity:F.capacity,price:F.price,twowayprice:F.twowayprice,ownername:F.ownername}):t}));I(Object(n.a)(Object(n.a)({},E),{},Object(a.a)({},"data",t))),M(),k(!v),f(1,"Data save successfully.")}(F.id);else{var t={id:e.resultvalue.rowid,description:F.description,isactive:1,capacity:F.capacity,price:F.price,twowayprice:F.twowayprice,ownername:F.ownername};I(Object(n.a)(Object(n.a)({},E),{},Object(a.a)({},"data",[].concat(Object(r.a)(E.data),[t])))),M(),f(1,"Data save successfully.")}})).catch((function(e){}))}};Object(s.useEffect)((function(){D(),M()}),[]);var D=function(){Object(h.a)("boat",{requestfor:"getboat",data:{flag:"a"}}).then((function(e){if(1==e.resultkey){var t=e.resultvalue;I(Object(n.a)(Object(n.a)({},E),{},Object(a.a)({},"data",t)))}})).catch((function(e){f(2,e.toString(),1)}))},M=function(){B((function(e){return Object(n.a)(Object(n.a)({},e),{},{description:"",price:0,capacity:0,id:"",isactive:!0,ownername:""})}))};return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(l.ub,{children:Object(x.jsx)(l.u,{xl:12,children:Object(x.jsxs)(l.j,{children:[Object(x.jsx)(l.n,{children:Object(x.jsxs)(l.ub,{children:[Object(x.jsxs)(l.u,{xl:6,children:["Boat",Object(x.jsx)("small",{className:"text-muted",children:" Master"})]}),Object(x.jsx)(l.u,{xl:6,style:{textAlign:"end"},children:Object(x.jsx)(l.f,{onClick:function(){return M(),void k(!v)},className:"mr-1",color:"primary",children:"Add New"})})]})}),Object(x.jsxs)(l.k,{children:[Object(x.jsxs)(l.eb,{show:v,onClose:function(){return k(!v)},size:"lg",children:[Object(x.jsx)(l.hb,{closeButton:!0,children:Object(x.jsx)(l.ib,{children:"Boat "})}),Object(x.jsx)(l.fb,{children:Object(x.jsx)(l.u,{md:"12",children:Object(x.jsxs)(l.J,{children:[Object(x.jsxs)(l.ub,{children:[" ",Object(x.jsx)(l.u,{xs:"6",className:"text-right",children:Object(x.jsxs)(l.T,{className:"mb-3",children:[Object(x.jsx)(l.V,{children:Object(x.jsxs)(l.W,{children:["Owner name",Object(x.jsx)("sup",{style:{color:"red"},children:"*"})]})}),Object(x.jsx)(l.Q,{onChange:W,type:"text",value:F.ownername,id:"ownername",placeholder:"Enter owner name"})]})}),Object(x.jsx)(l.u,{xs:"6",className:"text-right",children:Object(x.jsxs)(l.T,{className:"mb-3",children:[Object(x.jsx)(l.V,{children:Object(x.jsxs)(l.W,{children:["Boat name",Object(x.jsx)("sup",{style:{color:"red"},children:"*"})]})}),Object(x.jsx)(l.Q,{onChange:W,type:"text",value:F.description,id:"description",placeholder:"Enter boat name"})]})})]}),Object(x.jsxs)(l.ub,{children:[Object(x.jsx)(l.u,{xs:"6",children:Object(x.jsxs)(l.T,{className:"mb-4",children:[Object(x.jsx)(l.V,{children:Object(x.jsxs)(l.W,{children:["capacity",Object(x.jsx)("sup",{style:{color:"red"},children:"*"})]})}),Object(x.jsx)(O.a,{onChange:R,type:"text",value:F.capacity,id:"capacity",placeholder:"Enter capacity"})]})}),Object(x.jsx)(l.u,{xs:"6",children:Object(x.jsxs)(l.T,{className:"mb-4",children:[Object(x.jsx)(l.V,{children:Object(x.jsxs)(l.W,{children:["One-way amount",Object(x.jsx)("sup",{style:{color:"red"},children:"*"})]})}),Object(x.jsx)(O.a,{onChange:R,type:"text",value:F.price,id:"price",placeholder:"Enter one-way amount"})]})})]}),Object(x.jsxs)(l.ub,{children:[Object(x.jsx)(l.u,{xs:"6",children:Object(x.jsxs)(l.T,{className:"mb-4",children:[Object(x.jsx)(l.V,{children:Object(x.jsxs)(l.W,{children:["two-way amount",Object(x.jsx)("sup",{style:{color:"red"},children:"*"})]})}),Object(x.jsx)(O.a,{onChange:R,type:"text",value:F.twowayprice,id:"twowayprice",placeholder:"Enter two way amount"})]})}),Object(x.jsx)(l.u,{xs:"6",children:Object(x.jsx)(l.K,{row:!0,children:Object(x.jsx)(l.u,{md:"9",style:{display:""==F.id?"none":""},children:Object(x.jsxs)(l.K,{variant:"custom-checkbox",inline:!0,children:[Object(x.jsx)(l.R,{custom:!0,id:"isactive",name:"inline-checkbox2",value:0!=F.isactive,checked:0!=F.isactive,onChange:R}),Object(x.jsx)(l.ab,{variant:"custom-checkbox",htmlFor:"isactive",children:"Active"})]})})})})]})]})})}),Object(x.jsxs)(l.gb,{children:[Object(x.jsx)(l.f,{color:"primary",disabled:N,onClick:function(){return V()},children:"Save"})," ",Object(x.jsx)(l.f,{color:"secondary",onClick:function(){return k(!v)},children:"Cancel"})]})]}),Object(x.jsx)(j.a,Object(n.a)(Object(n.a)({},E),{},{children:Object(x.jsx)(p.a,{noHeader:!0,defaultSortField:"id",defaultSortAsc:!1,pagination:!0,highlightOnHover:!0})}))]})]})})})})}},654:function(e,t,c){"use strict";var r=c(676),a=c.n(r),n=c(677),i=(c(659),function(){var e=Object(n.a)(a.a.mark((function e(t,c){var r,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)},i="https://maubantourism.smartpay.ph/tourbookingphp/"+t+".php",e.next=4,fetch(i,r).then(function(){var e=Object(n.a)(a.a.mark((function e(t){var c,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(c=e.sent,t.ok){e.next=8;break}return r=c&&c.message||t.status,e.abrupt("return",Promise.reject(r));case 8:return e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return Promise.reject(e)}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}());t.a=i},658:function(e,t,c){"use strict";c.d(t,"a",(function(){return p}));var r=c(20),a=c(168),n=c(169),i=c(171),s=c(170),o=c(1),l=c.n(o),u=c(4),p=function(e){Object(i.a)(c,e);var t=Object(s.a)(c);function c(e){var r;return Object(a.a)(this,c),(r=t.call(this,e)).change=function(e){r.start=e.target.selectionStart;var t=e.target.value;t=(t=t.replace(/([^0-9.]+)/,"")).replace(/^(0|\.)/,"");var c=/(\d{0,7})[^.]*((?:\.\d{0,2})?)/g.exec(t),a=c[1]+c[2];e.target.value=a,r.setState({input:a}),t.length>0&&(e.target.value=Number(a).toFixed(2),e.target.setSelectionRange(r.start,r.start),r.setState({input:Number(a).toFixed(2)}))},r.state={input:"",readonly:!1},r.start=0,r}return Object(n.a)(c,[{key:"render",value:function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("input",Object(r.a)({type:"text",onBlur:this.blur,onChange:this.change,value:this.state.input,className:"form-control",readOnly:this.state.readonly},this.props))})}}]),c}(l.a.Component)},659:function(e,t,c){"use strict";var r,a;c(682);r="https://maubantourism.smartpay.ph",a="dev"==c(663).mode?{fileuploadurl:"/tourbookingphp/upload.php",guesttemplate:r+"/tourbookingphp/guesttemplate.xlsx",baseurl:r+"/tourbookingphp/"}:{fileuploadurl:"/tourbookingphp/upload.php",guesttemplate:"/tourbookingphp/guesttemplate.xlsx",baseurl:"/tourbookingphp/"},t.a=a},663:function(e){e.exports=JSON.parse('{"name":"@coreui/coreui-free-react-admin-template","version":"3.1.1","description":"Mauban","mode":"pro","author":{"name":"Mauban","url":"https://coreui.io","github":"https://github.com/coreui","twitter":"https://twitter.com/core_ui"},"contributors":[{"name":"CoreUI Team","url":"https://github.com/orgs/coreui/people"}],"homepage":".","copyright":"Copyright 2017-2020 creativeLabs \u0141ukasz Holeczek","license":"MIT","private":true,"repository":{"type":"git","url":"git@github.com:coreui/coreui-free-react-admin-template.git"},"dependencies":{"@coreui/chartjs":"^2.0.0","@coreui/coreui":"^3.4.0","@coreui/icons":"^2.0.0-rc.0","@coreui/icons-react":"^1.0.2","@coreui/react":"^3.3.4","@coreui/react-chartjs":"^1.0.1","@coreui/utils":"^1.3.1","@tinymce/tinymce-react":"^3.12.0","bootstrap":"^4.5.3","classnames":"^2.2.6","core-js":"^3.8.0","env-cmd":"^10.1.0","enzyme":"^3.11.0","enzyme-adapter-react-16":"^1.15.5","moment":"^2.29.1","node-sass":"^4.14.1","prop-types":"^15.7.2","react":"^16.14.0","react-app-polyfill":"^2.0.0","react-bootstrap":"^1.4.3","react-csv":"^2.0.3","react-data-table-component":"^6.11.6","react-data-table-component-extensions":"^1.5.0","react-date-picker":"^8.0.5","react-datepicker":"^3.6.0","react-dom":"^16.14.0","react-redux":"^7.2.2","react-router-dom":"^5.2.0","react-select":"^3.1.1","react-select-checked":"^0.1.12","react-time-picker":"^4.1.1","react-toastify":"^6.1.0","react-uuid":"^1.0.2","read-package-json":"^3.0.1","redux":"4.0.5","styled-components":"^5.2.1","xlsx":"^0.17.0"},"devDependencies":{"auto-changelog":"~2.2.1","react-scripts":"~4.0.1"},"scripts":{"start":"react-scripts start","build":"react-scripts build","test":"react-scripts test","test:cov":"npm test -- --coverage --watchAll=false","test:debug":"react-scripts --inspect-brk test --runInBand","eject":"react-scripts eject","changelog":"auto-changelog --starting-version 3.0.0 --commit-limit false --hide-credit"},"bugs":{"url":"https://github.com/coreui/coreui-free-react-admin-template/issues"},"eslintConfig":{"extends":"react-app"},"browserslist":[">0.2%","not dead","not ie <= 10","not op_mini all"],"jest":{"collectCoverageFrom":["src/**/*.{js,jsx}","!**/*index.js","!src/serviceWorker.js","!src/polyfill.js"]},"engines":{"node":">=10","npm":">=6"}}')},665:function(e,t,c){"use strict";c.d(t,"a",(function(){return n}));var r=c(672);var a=c(671);function n(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(a.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=34.219dcf62.chunk.js.map