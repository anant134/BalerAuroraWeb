{"version":3,"sources":["views/slot/slots.js","views/service/dataservice.js","views/commoncomponents/inputdecimal.jsx","views/common/common.js"],"names":["notify","type","message","systemerror","toast","success","position","POSITION","TOP_CENTER","dtlmsg","undefined","error","name","Slots","columns","selector","sortable","cell","d","color","isactive","ignoreRowClick","row","onClick","e","editdata","className","data","loginuser","localStorage","getItem","JSON","parse","queryPage","useHistory","useLocation","search","match","currentPage","Number","useState","slotmodalpopup","setSlotModalPopUp","disabledbtn","slotdata","setSlotsdata","starttime","onStartChange","endtime","onEndChange","description","id","state","setState","console","log","prevState","handleChange","target","value","checked","savedata","RegExp","length","dataservice","requestfor","flag","loggedinid","then","resultkey","i","newdata","map","item","resetvalues","onUpdateItem","newuser","resultvalue","rowid","parseFloat","price","toFixed","catch","useEffect","getslotsdata","test","result","edata","toString","xl","style","textAlign","show","onClose","size","closeButton","md","xs","onChange","placeholder","format","display","variant","inline","custom","htmlFor","disabled","noHeader","defaultSortField","defaultSortAsc","pagination","highlightOnHover","controller","reqbody","a","requestOptions","method","headers","body","stringify","url","fetch","response","json","ok","status","Promise","reject","InputDecimal","prop","change","start","selectionStart","val","replace","exec","input","setSelectionRange","readonly","onBlur","this","blur","readOnly","props","React","Component","_host","commondata","require","mode","fileuploadurl","guesttemplate","baseurl"],"mappings":"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","file":"static/js/47.a5ff3b15.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { useHistory, useLocation } from 'react-router-dom'\r\nimport {\r\n  CCard,\r\n  CCardBody,\r\n  CCardHeader,\r\n  CCol,\r\n  CRow,\r\n  CButton,\r\n  CModal,\r\n  CModalTitle,\r\n  CModalHeader,\r\n  CModalBody,\r\n  CForm,\r\n  CInputGroupPrepend,\r\n  CInputGroupText,\r\n  CInputGroup,\r\n  CInput,\r\n  CFormGroup,\r\n  CInputCheckbox,\r\n  CLabel,\r\n  CModalFooter,\r\n  CBadge\r\n} from '@coreui/react'\r\n\r\nimport DataTable from \"react-data-table-component\";\r\nimport DataTableExtensions from \"react-data-table-component-extensions\";\r\nimport Select from 'react-select';\r\nimport CIcon from '@coreui/icons-react';\r\nimport dataservice from '../service/dataservice';\r\nimport {  toast } from 'react-toastify';\r\nimport { InputDecimal } from \"../commoncomponents/inputdecimal\";\r\nimport TimePicker from 'react-time-picker';\r\n\r\nconst notify=(type,message,systemerror)=>{\r\n  switch (type) {\r\n    case 1:\r\n      toast.success(message, {\r\n        position: toast.POSITION.TOP_CENTER\r\n      });\r\n      break;\r\n    case 2:\r\n      var dtlmsg;\r\n      if(systemerror!==undefined){\r\n      dtlmsg=<div>Please contact to administrator!<br></br>{message}</div>;\r\n      }else{\r\n        dtlmsg=<div>{message}</div>;\r\n      }\r\n\r\n      toast.error(<div>\r\n         <CIcon name=\"cil-warning\" /> Error\r\n      \r\n        {dtlmsg}\r\n        \r\n      </div>, {\r\n          position: toast.POSITION.TOP_CENTER\r\n        });\r\n      break;\r\n  \r\n    default:\r\n      break;\r\n  }\r\n}\r\nconst Slots = () => {\r\n  const columns = [\r\n    {\r\n      name: 'Description',\r\n      selector: 'description',\r\n      sortable: true,\r\n    },\r\n    {\r\n      name: 'Start Time',\r\n      selector: 'starttime',\r\n      sortable: true,\r\n    },\r\n    {\r\n        name: 'End Time',\r\n        selector: 'endtime',\r\n        sortable: true,\r\n      },\r\n    {\r\n      name: 'Status',\r\n      selector: 'isactive',\r\n      sortable: true,\r\n      cell: d => <CBadge color={d.isactive==\"1\"?\"success\":\"danger\"}>\r\n                          {d.isactive==\"1\"?\"Active\":\"In Active\"}\r\n                         </CBadge>,\r\n    },\r\n    {\r\n      name: 'Action',\r\n      selector: 'action',\r\n      ignoreRowClick: true,\r\n      cell: row =>  <CIcon  name=\"cil-pencil\" onClick={e => editdata(row, e)} className=\"mfe-2 custcusrsor\" />\r\n     \r\n    },\r\n  ];\r\n  const data = [];\r\n  let loginuser = localStorage.getItem('userinfo') == \"\" || undefined ? \"\" : JSON.parse(localStorage.getItem('userinfo'));\r\n\r\n  const history = useHistory()\r\n  const queryPage = useLocation().search.match(/page=([0-9]+)/, '')\r\n  const currentPage = Number(queryPage && queryPage[1] ? queryPage[1] : 1)\r\n  const [page, setPage] = useState(currentPage)\r\n  const [slotmodalpopup, setSlotModalPopUp] = useState(false);\r\n  const [disabledbtn, setDisabledBtn] = useState(false);\r\n  const[slotdata,setSlotsdata]=useState({\r\n    columns,\r\n    data\r\n  });\r\n  \r\n  const [starttime, onStartChange] = useState('00:00');\r\n  const [endtime, onEndChange] = useState('00:00');\r\n\r\n\r\n  const pageChange = newPage => {\r\n    currentPage !== newPage && history.push(`/users?page=${newPage}`)\r\n  }\r\n  const [state, setState] = useState({\r\n    description: \"\",\r\n    starttime:\"\",\r\n    endtime:\"\",\r\n    id:\"\",\r\n    isactive:true,\r\n  });\r\n  \r\n  const editdata=(row, e) =>{\r\n      ;\r\n    console.log(row);\r\n    setState(prevState => ({\r\n      ...prevState,\r\n      description: row.description,\r\n      starttime:row.starttime,\r\n      endtime:row.endtime,\r\n      id:row.id,\r\n      isactive:row.isactive,\r\n    }));\r\n    onStartChange(row.starttime);\r\n    onEndChange(row.endtime);\r\n\r\n    setSlotModalPopUp(!slotmodalpopup);\r\n  }\r\n\r\n  \r\n  const tableData = {\r\n    columns,\r\n    data,\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    const { id, value } = e.target\r\n  \r\n   if (e.target.type === 'checkbox' ) {\r\n     setState({...state, [id]: (e.target.checked==true?e.target.checked:false)});\r\n   } else {\r\n     setState({...state, [id]: value });\r\n   }\r\n }\r\n\r\n const onUpdateItem = i => {\r\n\r\n  const newdata = slotdata[\"data\"].map((item) => {\r\n    if (item.id === i) {\r\n      const updatedItem = {\r\n        ...item,\r\n        description:state.description,\r\n        isactive: state.isactive==true?\"1\":\"0\",\r\n        starttime:starttime,\r\n        endtime:endtime,\r\n        \r\n      };\r\n\r\n      return updatedItem;\r\n    }\r\n\r\n    return item;\r\n  });\r\n\r\n  setSlotsdata({ ...slotdata, [\"data\"]: newdata });\r\n  resetvalues();\r\n  notify(1,`Data save successfully.`);\r\n  setSlotModalPopUp(!slotmodalpopup);\r\n};\r\n\r\n\r\n const savedata = () => {\r\n  //vaildation\r\n  var pattern = new RegExp(/^((\"[\\w-\\s]+\")|([\\w-]+(?:\\.[\\w-]+)*)|(\"[\\w-\\s]+\")([\\w-]+(?:\\.[\\w-]+)*))(@((?:[\\w-]+\\.)*\\w[\\w-]{0,66})\\.([a-z]{2,6}(?:\\.[a-z]{2})?)$)|(@\\[?((25[0-5]\\.|2[0-4][0-9]\\.|1[0-9]{2}\\.|[0-9]{1,2}\\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\]?$)/i);\r\n     \r\n  if(state.description.length==0){\r\n    notify(2,\"Please enter description !\");\r\n  }else{\r\n      ;\r\n    dataservice(\"slots\",{ requestfor: 'slots' ,\r\n    data:{flag:state.id==\"\"?\"i\":'u',description:state.description,starttime:starttime,endtime:endtime,\r\n    loggedinid:loginuser.id,isactive:state.isactive==true?\"1\":\"0\",id:state.id}})\r\n    .then(function(data) {\r\n       ;\r\n      if(data.resultkey==1){\r\n        if(state.id!=\"\"){\r\n          \r\n          onUpdateItem(state.id);\r\n\r\n        }else{\r\n            var result=data.resultvalue[0];\r\n         \r\n            var newuser={\r\n              \"id\" : result.rowid,\r\n              \"description\" : state.description,\r\n              \"starttime\" : starttime+\"00\",\r\n              \"endtime\" : endtime+\"00\",\r\n              \"isactive\":\"1\",\r\n              \"price\":parseFloat(state.price).toFixed(2) \r\n             \r\n            };\r\n\r\n\r\n            setSlotsdata({ ...slotdata, [\"data\"]: [...slotdata.data,newuser ] });\r\n            resetvalues();\r\n            notify(1,`Data save successfully.`);\r\n        }\r\n       \r\n      \r\n      }else{\r\n\r\n      }\r\n    })\r\n    .catch(function(error){\r\n       \r\n    })\r\n  }\r\n \r\n };\r\n\r\n useEffect(()=>{\r\n   \r\n    getslotsdata();\r\n    resetvalues();\r\n    test()\r\n},[])\r\n\r\n\r\n\r\nconst getslotsdata=()=>{\r\n  dataservice(\"slots\",{ requestfor: 'getslots' ,data:{flag:'a'}})\r\n  .then(function(data) {\r\n     ;\r\n    if(data.resultkey==1){\r\n      var result=data.resultvalue;\r\n       ;\r\n      setSlotsdata({ ...slotdata, [\"data\"]: result });\r\n    }else{\r\n       ;\r\n    //  notify(2,\"No data found\");\r\n    }\r\n        \r\n    })\r\n    .catch(function(edata){\r\n       ;\r\n        notify(2,edata.toString(),1);\r\n    });\r\n\r\n\r\n\r\n}\r\nconst test=()=>{\r\n  dataservice(\"user\",{ requestfor: 'getallregisterrfid' ,data:{flag:'a'}})\r\n  .then(function(data) {\r\n     ;\r\n    if(data.resultkey==1){\r\n      var result=data.resultvalue;\r\n       ;\r\n      \r\n    }else{\r\n       ;\r\n    //  notify(2,\"No data found\");\r\n    }\r\n        \r\n    })\r\n    .catch(function(edata){\r\n       ;\r\n        notify(2,edata.toString(),1);\r\n    });\r\n\r\n\r\n\r\n}\r\n const openpopup=()=>{\r\n  resetvalues();\r\n  setSlotModalPopUp(!slotmodalpopup);\r\n }\r\n\r\n const resetvalues=()=>{\r\n  setState(prevState => ({\r\n    ...prevState,\r\n    description: \"\",\r\n    price:0,\r\n    id:\"\",\r\n    isactive:true,\r\n  }));\r\n }\r\n\r\n\r\n\r\n//  const handleChangeOption = e => {\r\n//   setSelectedRoleValue(e.value);\r\n// }\r\n \r\n\r\n\r\n  return (\r\n    <>\r\n   <CRow>\r\n      <CCol xl={12}>\r\n        <CCard>\r\n          <CCardHeader>\r\n            <CRow>\r\n              <CCol xl={6}>\r\n                Slot\r\n                <small className=\"text-muted\"> Master</small>\r\n              </CCol>\r\n                <CCol xl={6} style={{textAlign:\"end\"}}>\r\n                <CButton\r\n                    onClick={() => openpopup('n',{})}\r\n                    className=\"mr-1\"\r\n                    color=\"primary\"\r\n                \r\n                  >\r\n                    Add New\r\n                \r\n                  </CButton>\r\n            \r\n              </CCol>\r\n            </CRow>\r\n            \r\n           \r\n         \r\n          </CCardHeader>\r\n          <CCardBody>\r\n          <CModal show={slotmodalpopup} onClose={() => setSlotModalPopUp(!slotmodalpopup)} size=\"lg\">\r\n              <CModalHeader closeButton>\r\n              <CModalTitle>Slot </CModalTitle>\r\n              </CModalHeader>\r\n              <CModalBody>\r\n              <CCol md=\"12\">\r\n                  <CForm>\r\n                    <CRow >\r\n                      <CCol xs=\"12\" className=\"text-right\">\r\n                        <CInputGroup className=\"mb-3\">\r\n                          <CInputGroupPrepend>\r\n                            <CInputGroupText>\r\n                              <CIcon name=\"cil-envelope-letter\" style={{ color: \"red\" }} /><sup style={{ color: \"red\" }}>*</sup>\r\n                            </CInputGroupText>\r\n                          </CInputGroupPrepend>\r\n                          <CInput onChange={handleChange} type=\"text\" value={state.description} id=\"description\" placeholder=\"Enter description\" />\r\n                        </CInputGroup>\r\n                      </CCol>\r\n                   \r\n                    </CRow>\r\n                    <CRow>\r\n                      <CCol xs=\"6\" className=\"text-right\">\r\n                        <CInputGroup className=\"mb-3\">\r\n                          <CInputGroupPrepend>\r\n                            <CInputGroupText>\r\n                            Start Time<sup style={{ color: \"red\" }}>*</sup>\r\n                            </CInputGroupText>\r\n                          </CInputGroupPrepend>\r\n                              <TimePicker\r\n                                  onChange={onStartChange}\r\n                                  value={starttime}\r\n                                  format={\"HH:mm:a\"}\r\n                                />\r\n                        </CInputGroup>\r\n                      </CCol>\r\n\r\n                      <CCol xs=\"6\" className=\"text-right\">\r\n                        <CInputGroup className=\"mb-3\">\r\n                          <CInputGroupPrepend>\r\n                            <CInputGroupText>\r\n                            End Time<sup style={{ color: \"red\" }}>*</sup>\r\n                            </CInputGroupText>\r\n                          </CInputGroupPrepend>\r\n                          <TimePicker\r\n                                  onChange={onEndChange}\r\n                                  value={endtime}\r\n                                  format={\"HH:mm:a\"}\r\n                                />\r\n                        </CInputGroup>\r\n                      </CCol>\r\n\r\n                    </CRow>\r\n                    <CRow>\r\n                    <CCol xs=\"6\">\r\n                        <CFormGroup row>\r\n                         \r\n                          <CCol md=\"9\"  style={{display:state.id==\"\"?\"none\":\"\"}}>\r\n                           \r\n                            <CFormGroup variant=\"custom-checkbox\" inline>\r\n                              <CInputCheckbox custom id=\"isactive\" name=\"inline-checkbox2\" value={state.isactive==0?false:true} checked={state.isactive==0?false:true}   onChange={handleChange}/>\r\n                              <CLabel variant=\"custom-checkbox\" htmlFor=\"isactive\">Active</CLabel>\r\n                            </CFormGroup>\r\n                            {/* <CFormGroup variant=\"custom-checkbox\" inline>\r\n                              <CInputCheckbox custom id=\"investoruser\" name=\"inline-checkbox3\" checked={state.investoruser} value={state.investoruser} onChange={handleChange} />\r\n                              <CLabel variant=\"custom-checkbox\" htmlFor=\"investoruser\">Investor User</CLabel>\r\n                            </CFormGroup> */}\r\n                          </CCol>\r\n                        </CFormGroup>\r\n                      </CCol>\r\n                    \r\n                    </CRow>\r\n                  </CForm>\r\n\r\n                </CCol>\r\n\r\n              </CModalBody>\r\n              <CModalFooter>\r\n                <CButton color=\"primary\" disabled={disabledbtn}  onClick={() => savedata()}>Save</CButton>{' '}\r\n                <CButton color=\"secondary\" onClick={() => setSlotModalPopUp(!slotmodalpopup)}>Cancel</CButton>\r\n              </CModalFooter>\r\n            </CModal>\r\n\r\n          <DataTableExtensions\r\n      {...slotdata}\r\n    >\r\n        \r\n\r\n      <DataTable\r\n        noHeader\r\n        defaultSortField=\"id\"\r\n        defaultSortAsc={false}\r\n        pagination\r\n        highlightOnHover\r\n       \r\n      />\r\n    </DataTableExtensions>\r\n\r\n          </CCardBody>\r\n        </CCard>\r\n      </CCol>\r\n    </CRow>\r\n      </>\r\n    \r\n  )\r\n}\r\n\r\nexport default Slots\r\n","import common from '../common/common';\r\nconst dataservice = async (controller, reqbody) => {\r\n\r\n  const requestOptions = {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify(reqbody)\r\n  };\r\n  //common.baseurl +;\r\n  // https://maubantourism.smartpay.ph/\r\n  // https://tourism-test.smartpay.ph/\r\n  const url = \"https://maubantourism.smartpay.ph/tourbookingphp/\" + controller + \".php\"\r\n  return await fetch(url, requestOptions)\r\n    .then(async response => {\r\n      const data = await response.json();\r\n\r\n      if (!response.ok) {\r\n        const error = (data && data.message) || response.status;\r\n        return Promise.reject(error);\r\n      } else {\r\n        return data;\r\n      }\r\n\r\n    })\r\n    .catch(error => {\r\n      return Promise.reject(error);\r\n    });\r\n\r\n}\r\n\r\nexport default dataservice","import React from \"react\";\r\n\r\nexport class InputDecimal extends React.Component {\r\n  constructor(prop) {\r\n    super(prop);\r\n    this.state = { input: \"\",readonly:false };\r\n    this.start = 0;\r\n  }\r\n\r\n  change = e => {\r\n   \r\n    this.start = e.target.selectionStart;\r\n    let val = e.target.value;\r\n    val = val.replace(/([^0-9.]+)/, \"\");\r\n    val = val.replace(/^(0|\\.)/, \"\");\r\n    const match = /(\\d{0,7})[^.]*((?:\\.\\d{0,2})?)/g.exec(val);\r\n    const value = match[1] + match[2];\r\n    e.target.value = value;\r\n    this.setState({ input: value });\r\n    if (val.length > 0) {\r\n      e.target.value = Number(value).toFixed(2);\r\n      e.target.setSelectionRange(this.start, this.start);\r\n      this.setState({ input: Number(value).toFixed(2) });\r\n    }\r\n  };\r\n\r\n  // blur = e => {\r\n  //   const val = e.target.value;\r\n  //   if (val.length > 0) {\r\n  //     e.target.value = Number(val).toFixed(2);\r\n  //     this.setState({ input: e.target.value });\r\n  //   }\r\n  // };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <input\r\n          type=\"text\"\r\n          onBlur={this.blur}\r\n          onChange={this.change}\r\n          value={this.state.input}\r\n          className=\"form-control\"\r\n          readOnly={this.state.readonly}\r\n        //   style={{ fontSize: \"22px\", padding: \"4px\" }}\r\n          {...this.props}\r\n        />\r\n        {/* <pre style={{ color: \"#999\", height: \"30px\" }}>{this.state.input}</pre> */}\r\n      </>\r\n    );\r\n  }\r\n}\r\n","var readJson = require('read-package-json')\r\nvar data = require('../../../package.json')\r\nvar _host = \"\";\r\n_host = \"https://maubantourism.smartpay.ph\";\r\nlet commondata;\r\nif (data.mode == \"dev\") {\r\n  commondata = {\r\n    fileuploadurl: \"/tourbookingphp/upload.php\",\r\n    guesttemplate: _host + \"/tourbookingphp/guesttemplate.xlsx\",\r\n    //  filepath:_host+\"/tourbooking/uploads/\",\r\n    baseurl: _host + \"/tourbookingphp/\",\r\n  }\r\n} else {\r\n\r\n  commondata = {\r\n    fileuploadurl: \"/tourbookingphp/upload.php\",\r\n    guesttemplate: \"/tourbookingphp/guesttemplate.xlsx\",\r\n    //  filepath:_host+\"/tourbooking/uploads/\",\r\n    baseurl: \"/tourbookingphp/\",\r\n  }\r\n}\r\n\r\n// _host=window.location.host;\r\n//  const commondata = {\r\n//      fileuploadurl:_host+\"/tourbookingphp/upload.php\",\r\n//     //  filepath:_host+\"/tourbooking/uploads/\",\r\n//      baseurl: _host+\"/tourbookingphp/\", \r\n//  }\r\n//live\r\n// const commondata = {\r\n//     fileuploadurl:\"/tourbookingphp/upload.php\",\r\n//    //  filepath:_host+\"/tourbooking/uploads/\",\r\n//     baseurl: \"/tourbookingphp/\", \r\n// }\r\n//staging\r\n// const commondata = {\r\n//     fileuploadurl:\"/tourbookingphp/upload.php\",\r\n//    //  filepath:_host+\"/tourbooking/uploads/\",\r\n//     baseurl: _host+\"/tourbookingphp/\", \r\n// }\r\n\r\n\r\n//  const commondata = {\r\n//          fileuploadurl:\"/investorportalphp/upload.php\",\r\n//          filepath:\"/investorportalphp/uploads/\",\r\n//          baseurl: \"/investorportalphp/api.php\", \r\n//      }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default commondata\r\n"],"sourceRoot":""}